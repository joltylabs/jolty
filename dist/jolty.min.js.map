{"version":3,"file":"jolty.min.js","sources":["../src/helpers/utils/kebabToCamel.js","../src/helpers/utils/upperFirst.js","../src/helpers/constants/index.js","../src/helpers/is/isArray.js","../src/helpers/is/isElement.js","../src/helpers/is/isFunction.js","../src/helpers/is/isHTML.js","../src/helpers/is/isIterable.js","../src/helpers/is/isNumber.js","../src/helpers/is/isObject.js","../src/helpers/is/isString.js","../src/helpers/is/isDialog.js","../src/helpers/utils/arrayFrom.js","../src/helpers/utils/arrayUnique.js","../src/helpers/utils/callOrReturn.js","../src/helpers/utils/camelToKebab.js","../src/helpers/utils/checkHash.js","../src/helpers/utils/createElement.js","../src/helpers/dom/addClass.js","../src/helpers/utils/floating/createInset.js","../src/helpers/utils/getDataSelector.js","../src/helpers/utils/getOption.js","../src/helpers/utils/getOptionElem.js","../src/helpers/utils/getOptionElems.js","../src/helpers/utils/floating/getPosition.js","../src/helpers/utils/isOverflowElement.js","../src/helpers/utils/isUnfocusable.js","../src/helpers/utils/mergeDeep.js","../src/helpers/utils/normalizeToggleParameters.js","../src/helpers/utils/observeResize.js","../src/helpers/utils/replaceWord.js","../src/helpers/utils/returnArray.js","../src/helpers/utils/strToArray.js","../src/helpers/utils/uuidGenerator.js","../src/helpers/utils/updateOptsByData.js","../src/helpers/utils/getEventsPrefix.js","../src/helpers/utils/getClassActive.js","../src/helpers/utils/getDefaultToggleSelector.js","../src/helpers/utils/updateModule.js","../src/helpers/utils/floating/ResetFloatingCssVariables.js","../src/helpers/utils/valuesToArray.js","../src/helpers/utils/isShown.js","../src/helpers/modules/toggleHideModeState.js","../src/helpers/utils/getBooleanDataAttrValue.js","../src/helpers/utils/getDatasetValue.js","../src/helpers/dom/addStyle.js","../src/helpers/dom/closest.js","../src/helpers/dom/dir.js","../src/helpers/dom/each.js","../src/helpers/dom/filter.js","../src/helpers/dom/focus.js","../src/helpers/dom/fragment.js","../src/helpers/dom/getElement.js","../src/helpers/dom/getElements.js","../src/helpers/dom/inDOM.js","../src/helpers/dom/is.js","../src/helpers/dom/map.js","../src/helpers/dom/nextAll.js","../src/helpers/dom/parents.js","../src/helpers/dom/removeAttribute.js","../src/helpers/dom/removeClass.js","../src/helpers/dom/setAttribute.js","../src/helpers/dom/toggleClass.js","../src/helpers/dom/getBoundingClientRect.js","../src/helpers/dom/getPropertyValue.js","../src/helpers/EventHandler.js","../src/helpers/Breakpoints.js","../src/helpers/Base.js","../src/helpers/ToggleMixin.js","../src/helpers/Transition.js","../src/helpers/Teleport.js","../src/helpers/modules/addDismiss.js","../src/helpers/modules/addEscapeHide.js","../src/helpers/modules/callAutofocus.js","../src/helpers/modules/baseDestroy.js","../src/helpers/modules/toggleOnInterection.js","../src/helpers/Floating.js","../src/helpers/utils/floating/collectCssVariables.js","../src/helpers/modules/floatingTransition.js","../src/helpers/modules/callShowInit.js","../src/helpers/utils/awaitPromise.js","../src/helpers/modules/FocusGuards.js","../src/helpers/modules/toggleConfirm.js","../src/helpers/modules/addHashNavigation.js","../src/Collapse.js","../src/Dropdown.js","../src/Dialog.js","../src/Tablist.js","../src/helpers/dom/next.js","../src/helpers/utils/without.js","../src/helpers/Autoaction.js","../src/Toast.js","../src/Tooltip.js","../src/Popover.js"],"sourcesContent":["const cache = {};\nexport default (str = \"\") =>\n  cache[str] ||\n  (cache[str] = str.replace(/-./g, (match) => match[1].toUpperCase()));\n","const cache = {};\nexport default (str = \"\") =>\n  cache[str] || (cache[str] = str[0].toUpperCase() + str.slice(1));\n","import kebabToCamel from \"../utils/kebabToCamel\";\nimport upperFirst from \"../utils/upperFirst\";\n\nexport const UI = \"ui\";\nexport const UI_PREFIX = UI + \"-\";\nexport const UI_EVENT_PREFIX = \".\" + UI;\nexport const VAR_UI_PREFIX = \"--\" + UI_PREFIX;\nexport const PRIVATE_PREFIX = \"_\";\nexport const DATA_PREFIX = \"data-\";\nexport const DATA_UI_PREFIX = DATA_PREFIX + UI_PREFIX;\nexport const ACTIVE = \"active\";\nexport const CLASS_ACTIVE = UI_PREFIX + ACTIVE;\n\nexport const DEFAULT = \"default\";\nexport const NAME = \"name\";\nexport const MODE = \"mode\";\n\nexport const PX = \"px\";\nexport const NONE = \"none\";\nexport const ID = \"id\";\n\nexport const WIDTH = \"width\";\nexport const HEIGHT = \"height\";\nexport const TOP = \"top\";\nexport const LEFT = \"left\";\nexport const RIGHT = \"right\";\nexport const BOTTOM = \"bottom\";\nexport const CENTER = \"center\";\nexport const START = \"start\";\nexport const END = \"end\";\nexport const UP = \"up\";\nexport const DOWN = \"down\";\nexport const IN = \"in\";\nexport const OUT = \"out\";\nexport const MOVE = \"move\";\nexport const TITLE = \"title\";\n\nexport const HORIZONTAL = \"horizontal\";\nexport const VERTICAL = \"vertical\";\nexport const ABSOLUTE = \"absolute\";\nexport const FIXED = \"fixed\";\nexport const TRANSITION = \"transition\";\nexport const TELEPORT = \"teleport\";\n\nexport const DIV = \"div\";\nexport const BUTTON = \"button\";\nexport const WINDOW = \"window\";\nexport const DOCUMENT = \"document\";\nexport const CLASS = \"class\";\nexport const STYLE = \"style\";\nexport const KEY = \"key\";\nexport const ROLE = \"role\";\nexport const ROOT = \"root\";\nexport const CONFIRM = \"confirm\";\nexport const CANCEL = \"cancel\";\n\nexport const BEFORE = \"before\";\nexport const AFTER = \"after\";\n\nexport const MOUSE = \"mouse\";\n\nexport const CLICK = \"click\";\nexport const HOVER = \"hover\";\nexport const FOCUS = \"focus\";\nexport const SCROLL = \"scroll\";\n\nexport const HIDE = \"hide\";\nexport const HIDDEN = \"hidden\";\nexport const SHOW = \"show\";\nexport const SHOWN = \"shown\";\nexport const APPEAR = \"appear\";\n\nexport const TARGET = \"target\";\nexport const AVAILABLE = \"awailable\";\nexport const AVAILABLE_WIDTH = AVAILABLE + \"-\" + WIDTH;\nexport const AVAILABLE_HEIGHT = AVAILABLE + \"-\" + HEIGHT;\nexport const ANCHOR = \"anchor\";\nexport const ANCHOR_WIDTH = ANCHOR + \"-\" + WIDTH;\nexport const ANCHOR_HEIGHT = ANCHOR + \"-\" + HEIGHT;\n\nexport const MODAL = \"modal\";\nexport const CONTENT = \"content\";\nexport const ITEM = \"item\";\nexport const BACKDROP = \"backdrop\";\nexport const POPOVER = \"popover\";\nexport const TOOLTIP = \"tooltip\";\nexport const TOGGLER = \"toggler\";\nexport const TRIGGER = \"trigger\";\nexport const DELAY = \"delay\";\nexport const DROPDOWN = \"dropdown\";\nexport const ARROW = \"arrow\";\nexport const PROGRESS = \"progress\";\nexport const DISMISS = \"dismiss\";\nexport const FLOATING = \"floating\";\nexport const DIALOG = \"dialog\";\n\nexport const FLIP = \"flip\";\nexport const SHRINK = \"shrink\";\nexport const STICKY = \"sticky\";\nexport const PLACEMENT = \"placement\";\nexport const PADDING = \"padding\";\nexport const OFFSET = \"offset\";\nexport const BOUNDARY_OFFSET = \"boundary-\" + OFFSET;\nexport const WEBKIT_PREFIX = \"-webkit-\";\nexport const CLIP_PATH = \"clip-path\";\nexport const ARROW_OFFSET = ARROW + \"-\" + OFFSET;\nexport const ARROW_PADDING = ARROW + \"-\" + PADDING;\nexport const TRUE = \"true\";\nexport const FALSE = \"false\";\nexport const TOP_LAYER = \"top-layer\";\n\nexport const doc = document;\nexport const body = doc.body;\n\nexport const ENTER = \"enter\";\nexport const LEAVE = \"leave\";\nexport const BEFORE_ENTER = BEFORE + upperFirst(ENTER);\nexport const ENTER_ACTIVE = ENTER + upperFirst(ACTIVE);\nexport const ENTER_FROM = ENTER + \"From\";\nexport const ENTER_TO = ENTER + \"To\";\nexport const AFTER_ENTER = AFTER + upperFirst(ENTER);\nexport const BEFORE_LEAVE = BEFORE + upperFirst(LEAVE);\nexport const LEAVE_ACTIVE = LEAVE + upperFirst(ACTIVE);\nexport const LEAVE_FROM = LEAVE + \"From\";\nexport const LEAVE_TO = LEAVE + \"To\";\nexport const AFTER_LEAVE = AFTER + upperFirst(LEAVE);\nexport const HIDE_MODE = HIDE + upperFirst(MODE);\nexport const DURATION = \"duration\";\nexport const DURATION_ENTER = DURATION + upperFirst(ENTER);\nexport const DURATION_LEAVE = DURATION + upperFirst(LEAVE);\n\nexport const ACTION_INIT = \"init\";\nexport const ACTION_DESTROY = \"destroy\";\nexport const ACTION_TOGGLE = \"toggle\";\nexport const ACTION_SHOW = SHOW;\nexport const ACTION_HIDE = HIDE;\nexport const ACTION_ADD = \"add\";\nexport const ACTION_REMOVE = \"remove\";\nexport const ACTION_UPDATE = \"update\";\nexport const ACTION_PAUSE = \"pause\";\nexport const ACTION_RESUME = \"resume\";\nexport const ACTION_RESET = \"reset\";\nexport const ACTION_ON = \"on\";\nexport const ACTION_OFF = \"off\";\nexport const ACTION_EMIT = \"emit\";\nexport const ACTION_ONCE = \"once\";\nexport const ACTION_PREVENT = \"prevent\";\n\nexport const INERT = \"inert\";\nexport const AUTOFOCUS = \"autofocus\";\nexport const TABINDEX = \"tabindex\";\nexport const DISABLED = \"disabled\";\nexport const AUTO = \"auto\";\nexport const POPOVER_DATA_ATTRIBUTE = DATA_UI_PREFIX + POPOVER + \"-wrapper\";\nexport const FLOATING_DATA_ATTRIBUTE = DATA_UI_PREFIX + FLOATING;\nexport const DATA_PREVENT_INERT = DATA_UI_PREFIX + ACTION_PREVENT + \"-\" + INERT;\nexport const POPOVER_API_MODE_MANUAL = \"manual\";\n\nexport const PLACEHOLDER = \"placeholder\";\n\nexport const EVENT_INIT = ACTION_INIT;\nexport const EVENT_BEFORE_INIT = BEFORE + upperFirst(EVENT_INIT);\nexport const EVENT_DESTROY = ACTION_DESTROY;\nexport const EVENT_BEFORE_DESTROY = BEFORE + upperFirst(EVENT_DESTROY);\nexport const EVENT_BEFORE_SHOW = BEFORE + upperFirst(SHOW);\nexport const EVENT_SHOW = SHOW;\nexport const EVENT_SHOWN = SHOWN;\nexport const EVENT_BEFORE_HIDE = BEFORE + upperFirst(HIDE);\nexport const EVENT_HIDE = HIDE;\nexport const EVENT_HIDDEN = HIDDEN;\nexport const EVENT_PAUSE = ACTION_PAUSE;\nexport const EVENT_RESUME = ACTION_RESUME;\nexport const EVENT_RESET = ACTION_RESET;\nexport const EVENT_MOUSEENTER = MOUSE + ENTER;\nexport const EVENT_MOUSELEAVE = MOUSE + LEAVE;\nexport const EVENT_MOUSEMOVE = MOUSE + MOVE;\nexport const EVENT_MOUSEDOWN = MOUSE + DOWN;\nexport const EVENT_MOUSEUP = MOUSE + UP;\nexport const EVENT_CHANGE = \"change\";\nexport const EVENT_BREAKPOINT = \"breakpoint\";\nexport const EVENT_CLOSE = \"close\";\nexport const EVENT_CLICK = CLICK;\nexport const EVENT_KEYDOWN = KEY + DOWN;\nexport const EVENT_KEYUP = KEY + UP;\nexport const EVENT_FOCUS = FOCUS;\nexport const EVENT_FOCUSIN = FOCUS + IN;\nexport const EVENT_FOCUSOUT = FOCUS + OUT;\nexport const EVENT_RIGHT_CLICK = \"contextmenu\";\nexport const EVENT_VISIBILITY_CHANGE = \"visibilitychange\";\nexport const EVENT_HIDE_PREVENTED = \"hidePrevented\";\nexport const EVENT_ACTION_OUTSIDE = `${EVENT_CLICK}.outside ${EVENT_KEYUP}.outside`;\nexport const EVENT_SCROLL = SCROLL;\nexport const EVENT_RESIZE = \"resize\";\nexport const EVENT_DISABLED = DISABLED;\nexport const EVENT_ENABLED = \"enabled\";\n\nexport const ARIA = \"aria\";\nexport const ARIA_CONTROLS = ARIA + \"-controls\";\nexport const ARIA_EXPANDED = ARIA + \"-expanded\";\nexport const ARIA_SELECTED = ARIA + \"-selected\";\nexport const ARIA_HIDDEN = ARIA + \"-\" + HIDDEN;\nexport const ARIA_MULTISELECTABLE = ARIA + \"-multiselectable\";\nexport const ARIA_LABELLEDBY = ARIA + \"-labelledby\";\nexport const ARIA_DESCRIBEDBY = ARIA + \"-describedby\";\nexport const ARIA_ORIENTATION = ARIA + \"-orientation\";\nexport const ARIA_MODAL = ARIA + \"-\" + MODAL;\nexport const ARIA_LIVE = ARIA + \"-live\";\nexport const ARIA_ATOMIC = ARIA + \"-atomic\";\n\nexport const KEY_ENTER = 13;\nexport const KEY_ESC = 27;\nexport const KEY_SPACE = 32;\nexport const KEY_END = 35;\nexport const KEY_HOME = 36;\nexport const KEY_TAB = 9;\nexport const KEY_ARROW_LEFT = 37;\nexport const KEY_ARROW_UP = 38;\nexport const KEY_ARROW_RIGHT = 39;\nexport const KEY_ARROW_DOWN = 40;\n\nexport const A11Y = \"a11y\";\nexport const OPTION_GROUP = \"group\";\n\nexport const OPTION_PREVENT_SCROLL = \"preventScroll\";\nexport const OPTION_HASH_NAVIGATION = \"hashNavigation\";\nexport const POSITION = \"position\";\nexport const OPTION_ARIA_LABELLEDBY = kebabToCamel(ARIA_LABELLEDBY);\nexport const OPTION_ARIA_DESCRIBEDBY = kebabToCamel(ARIA_DESCRIBEDBY);\nexport const OPTION_ARIA_EXPANDED = kebabToCamel(ARIA_EXPANDED);\nexport const OPTION_ARIA_SELECTED = kebabToCamel(ARIA_SELECTED);\nexport const OPTION_ARIA_CONTROLS = kebabToCamel(ARIA_CONTROLS);\nexport const OPTION_ARIA_HIDDEN = kebabToCamel(ARIA_HIDDEN);\nexport const OPTION_ARIA_LIVE = kebabToCamel(ARIA_LIVE);\nexport const OPTION_ARIA_ATOMIC = kebabToCamel(ARIA_ATOMIC);\nexport const OPTION_TOP_LAYER = \"topLayer\";\nexport const OPTION_AUTODESTROY = AUTO + ACTION_DESTROY;\nexport const CLASS_ACTIVE_SUFFIX = \"ClassActive\";\nexport const ROLE_SUFFIX = upperFirst(ROLE);\n\nexport const HIDDEN_CLASS = UI_PREFIX + HIDDEN;\n\nexport const TRANSITION_REMOVE_MODE = { [HIDE_MODE]: ACTION_REMOVE };\nexport const DEFAULT_OPTIONS = {\n  init: true,\n  destroy: false,\n  data: \"\",\n  on: null,\n  appear: null,\n  eventDispatch: true,\n  eventBubble: true,\n  shown: null,\n  a11y: true,\n  hideMode: HIDDEN,\n  keepPlace: true,\n  transition: true,\n  awaitAnimation: false,\n};\n\nexport const DEFAULT_FLOATING_OPTIONS = {\n  awaitAnimation: false,\n  placement: BOTTOM,\n  offset: 0,\n  padding: 0,\n  delay: 200,\n  boundaryOffset: 0,\n  shrink: false,\n  flip: true,\n  sticky: false,\n  escapeHide: true,\n  outsideHide: true,\n  focusTrap: false,\n  topLayer: true,\n  topLayerForce: true,\n  popoverApi: true,\n  safeModal: true,\n  floatingClass: \"\",\n  shown: false,\n  arrow: {\n    height: null,\n    width: null,\n    offset: 0,\n    padding: 0,\n  },\n};\n\nexport const SELECTOR_AUTOFOCUS = `[${AUTOFOCUS}]`;\nexport const SELECTOR_DISABLED = `[${DISABLED}]`;\nexport const SELECTOR_INERT = `[${INERT}]`;\n\nexport const SELECTOR_ROOT = \":\" + ROOT;\n\nexport const MIRROR = {\n  [TOP]: BOTTOM,\n  [BOTTOM]: TOP,\n  [LEFT]: RIGHT,\n  [RIGHT]: LEFT,\n  [START]: END,\n  [END]: START,\n  [WIDTH]: HEIGHT,\n  [HEIGHT]: WIDTH,\n  x: \"y\",\n  y: \"x\",\n};\n\nexport const CLIP_PATH_PROPERTY = CSS.supports(CLIP_PATH + \":\" + NONE)\n  ? CLIP_PATH\n  : WEBKIT_PREFIX + CLIP_PATH;\n\nexport const POPOVER_API_SUPPORTED =\n  HTMLElement.prototype.hasOwnProperty(POPOVER);\n\nexport const FOCUSABLE_ELEMENTS_SELECTOR = `:is(:is(a,area)[href],:is(select,textarea,button,input:not([type=\"hidden\"])):not(disabled),details:not(:has(>summary)),iframe,:is(audio,video)[controls],[contenteditable],[tabindex]):not([inert],[inert] *,[tabindex^=\"-\"],[${DATA_UI_PREFIX}focus-guard])`;\n\nexport const PRIVATE_OPTION_CANCEL_ON_HIDE = PRIVATE_PREFIX + \"cancelOnHide\";\n","export default Array.isArray;\n","export default (value) => value && !!value.getElementsByClassName;\n","export default (value) => typeof value === \"function\";\n","export default RegExp.prototype.test.bind(/(<([^>]+)>)/i);\n","import { isString } from \"./index.js\";\nexport default (value) => value && !!value[Symbol.iterator] && !isString(value);\n","export default (value) => typeof value === \"number\";\n","export default (value) => value && value.constructor === Object;\n","export default (value) => typeof value === \"string\";\n","export default (elem) => elem?.tagName === \"DIALOG\";\n","export default Array.from;\n","import arrayFrom from \"./arrayFrom\";\nexport default (array) =>\n  array.length > 1 ? arrayFrom(new Set(array)) : array;\n","import { isFunction } from \"../is\";\nexport default (value, ...data) => (isFunction(value) ? value(...data) : value);\n","const cache = {};\nexport default (str = \"\") =>\n  cache[str] ||\n  (cache[str] = str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase());\n","export default (id) => location.hash.substring(1) === id;\n","import { isString } from \"../is\";\nimport { addClass, addStyle, setAttribute } from \"../dom\";\nimport { CLASS, STYLE, DIV, doc } from \"../constants\";\nimport camelToKebab from \"./camelToKebab\";\nexport default (type = DIV, props, ...content) => {\n  const elem = doc.createElement(type);\n  if (props) {\n    if (isString(props)) {\n      props = { class: props };\n    }\n    Object.entries(props).forEach(([name, value]) => {\n      if (name === CLASS) {\n        addClass(elem, value);\n      } else if (name === STYLE) {\n        if (isString(value)) {\n          elem.style = value;\n        } else {\n          addStyle(elem, value);\n        }\n      } else {\n        setAttribute(elem, camelToKebab(name), value);\n      }\n    });\n  }\n  content.forEach((item) => item && elem.append(item));\n  return elem;\n};\n","import { toggleClass } from \"./index.js\";\nexport default (elem, classes) => toggleClass(elem, classes, true);\n","import { isArray, isObject, isNumber } from \"../../is/index.js\";\nexport default (input, returnArray) => {\n  let top = 0,\n    right = 0,\n    bottom = 0,\n    left = 0;\n  if (isNumber(input)) {\n    top = right = bottom = left = input;\n  } else if (isArray(input)) {\n    if (input.length === 1) {\n      top = right = bottom = left = input[0];\n    } else if (input.length === 2) {\n      top = bottom = input[0];\n      right = left = input[1];\n    } else if (input.length === 3) {\n      top = input[0];\n      right = left = input[1];\n      bottom = input[2];\n    } else {\n      top = input[0];\n      right = input[1];\n      bottom = input[2];\n      left = input[3];\n    }\n  } else if (isObject(input)) {\n    top = input.top || 0;\n    right = input.right || 0;\n    bottom = input.bottom || 0;\n    left = input.left || 0;\n  }\n  if (returnArray) {\n    return [top, right, bottom, left];\n  } else {\n    return { top, right, bottom, left };\n  }\n};\n","import { DATA_UI_PREFIX } from \"../constants\";\nexport default (...values) => `[${DATA_UI_PREFIX + values.join(\"-\")}]`;\n","import { returnArray, callOrReturn } from \"./index.js\";\nimport { isString } from \"../is\";\nimport { doc } from \"../constants\";\n\nexport default function (multiply, instance, option, root = doc, ...params) {\n  if (!option) return;\n  option = callOrReturn(option, instance, ...params);\n  if (isString(option)) {\n    option = root[multiply ? \"querySelectorAll\" : \"querySelector\"](option);\n  }\n  return multiply ? returnArray(option).filter(Boolean) : option;\n}\n","import getOption from \"./getOption.js\";\nexport default (...params) => getOption(false, ...params);\n","import getOption from \"./getOption.js\";\nexport default (...params) => getOption(true, ...params);\n","import {\n  WIDTH,\n  HEIGHT,\n  TOP,\n  LEFT,\n  RIGHT,\n  BOTTOM,\n  AVAILABLE_WIDTH,\n  AVAILABLE_HEIGHT,\n  START,\n  CENTER,\n  END,\n  MIRROR,\n} from \"../../constants/index.js\";\nimport { isArray } from \"../../is/index.js\";\nimport { createInset } from \"../index.js\";\n\nconst { min, max } = Math;\n\nexport default function ({\n  anchorRect,\n  targetRect,\n  arrow,\n  placement,\n  inTopLayer,\n  boundaryOffset = 0,\n  offset = 0,\n  padding = 0,\n  shrink = false,\n  flip = false,\n  sticky = false,\n  minWidth = 0,\n  minHeight = 0,\n}) {\n  boundaryOffset = createInset(boundaryOffset);\n\n  const viewRect = visualViewport;\n\n  flip = isArray(flip) ? flip : [flip];\n  flip[1] ??= flip[0];\n\n  padding = isArray(padding) ? padding : [padding];\n  padding[1] ??= padding[0];\n\n  if (!inTopLayer) {\n    shrink = false;\n    flip = false;\n    sticky = false;\n  }\n\n  const [baseM, baseS = CENTER] = placement.split(\"-\");\n  const hor = baseM === LEFT || baseM === RIGHT;\n\n  const size = hor ? WIDTH : HEIGHT;\n  const dir = hor ? LEFT : TOP;\n  const dirS = hor ? TOP : LEFT;\n\n  const minRect = { [WIDTH]: minWidth, [HEIGHT]: minHeight };\n\n  let useFlipM = null;\n  let useFlipS = null;\n\n  function calculate() {\n    const m = (useFlipM && MIRROR[baseM]) || baseM;\n    const s = (useFlipS && MIRROR[baseS]) || baseS;\n\n    const isStart = s === START;\n    const isEnd = s === END;\n    const isCenter = s === CENTER;\n    const isMainDir = m === dir;\n    const sumPadding = padding[0] + padding[1];\n    const mirrorSize = MIRROR[size];\n    const mirrorDirS = MIRROR[dirS];\n\n    const anchorSpace = {\n      [TOP]: anchorRect[TOP],\n      [LEFT]: anchorRect[LEFT],\n      [RIGHT]: viewRect[WIDTH] - anchorRect[LEFT] - anchorRect[WIDTH],\n      [BOTTOM]: viewRect[HEIGHT] - anchorRect[TOP] - anchorRect[HEIGHT],\n    };\n\n    anchorSpace[m] -= offset + boundaryOffset[m];\n    anchorSpace[MIRROR[m]] -= boundaryOffset[dirS] + boundaryOffset[mirrorDirS];\n\n    let awailableSizesOffset;\n    if (sticky) {\n      awailableSizesOffset = viewRect[mirrorSize] - sumPadding;\n    } else {\n      awailableSizesOffset = viewRect[mirrorSize] - anchorRect[mirrorSize] / 2;\n      if (isStart) {\n        awailableSizesOffset =\n          anchorSpace[mirrorDirS] + anchorRect[mirrorSize] - sumPadding;\n      } else if (isEnd) {\n        awailableSizesOffset =\n          anchorSpace[dirS] + anchorRect[mirrorSize] - sumPadding;\n      }\n    }\n\n    const awailableSizes = {\n      [size]: max(minRect[size], anchorSpace[m]),\n      [mirrorSize]: max(minRect[mirrorSize], awailableSizesOffset),\n    };\n\n    const currentSize = {\n      [size]: shrink\n        ? min(targetRect[size], awailableSizes[size])\n        : targetRect[size],\n      [mirrorSize]: shrink\n        ? min(targetRect[mirrorSize], awailableSizes[mirrorSize])\n        : targetRect[mirrorSize],\n    };\n\n    if ((flip[0] || flip[1]) && useFlipM === null && useFlipS === null) {\n      if (\n        flip[0] &&\n        targetRect[size] > anchorSpace[m] &&\n        anchorSpace[m] < anchorSpace[MIRROR[m]]\n      ) {\n        useFlipM = true;\n      }\n      if (\n        flip[1] &&\n        anchorSpace[mirrorDirS] <\n          targetRect[mirrorSize] -\n            anchorRect[mirrorSize] +\n            padding[0] +\n            boundaryOffset[mirrorDirS]\n      ) {\n        useFlipS = true;\n      }\n      if (useFlipM || useFlipS) {\n        return calculate();\n      }\n    }\n\n    let mo;\n    if (isMainDir) {\n      mo = anchorRect[dir] - currentSize[size] - offset;\n    } else {\n      mo = anchorRect[MIRROR[dir]] + offset;\n    }\n\n    let so;\n    if (isStart) {\n      so = anchorRect[dirS] + padding[0];\n    } else if (isCenter) {\n      so =\n        anchorRect[dirS] -\n        (currentSize[mirrorSize] - anchorRect[mirrorSize]) / 2;\n    } else {\n      so = anchorRect[mirrorDirS] - currentSize[mirrorSize] - padding[1];\n    }\n\n    const staticSo = so;\n    if (sticky) {\n      if (so < boundaryOffset[dirS]) {\n        if (!isStart) {\n          so = boundaryOffset[dirS];\n          if (anchorRect[dirS] < boundaryOffset[dirS] - padding[0]) {\n            so = anchorRect[dirS] + padding[0];\n          }\n        }\n      } else if (\n        so + currentSize[mirrorSize] + boundaryOffset[mirrorDirS] >\n        viewRect[mirrorSize]\n      ) {\n        if (!isEnd) {\n          so -=\n            so +\n            currentSize[mirrorSize] -\n            viewRect[mirrorSize] +\n            boundaryOffset[mirrorDirS];\n          if (\n            anchorSpace[mirrorDirS] <\n            -padding[1] + boundaryOffset[mirrorDirS]\n          ) {\n            so -=\n              anchorSpace[mirrorDirS] + padding[1] - boundaryOffset[mirrorDirS];\n          }\n        }\n      }\n    }\n\n    const shift = staticSo - so;\n\n    let arrowPosition = {};\n    if (arrow) {\n      // eslint-disable-next-line prefer-const\n      let { padding = 0, offset = 0 } = arrow;\n      padding = isArray(padding) ? padding : [padding];\n      padding[1] ??= padding[0];\n\n      let so;\n      if (isStart) {\n        so = padding[0];\n      } else if (isCenter) {\n        so = currentSize[mirrorSize] / 2 - arrow[mirrorSize] / 2;\n      } else {\n        so = currentSize[mirrorSize] - padding[1] - arrow[mirrorSize];\n      }\n\n      so += shift + max(0, -currentSize[mirrorSize] / 2);\n\n      let mo = -arrow[mirrorSize] / 2 + (isMainDir ? -offset : offset);\n      if (isMainDir) {\n        mo += currentSize[size];\n      }\n      arrowPosition = hor ? [mo, so] : [so, mo];\n    }\n\n    let transformOrigin;\n    if (arrow) {\n      transformOrigin = arrowPosition;\n    } else {\n      const mo = isStart\n        ? padding[0]\n        : isEnd\n        ? currentSize[mirrorSize] - padding[1]\n        : currentSize[MIRROR[size]] / 2;\n      const so = isMainDir ? currentSize[size] : 0;\n      transformOrigin = hor ? [so, mo] : [mo, so];\n    }\n\n    return {\n      [dir]: mo,\n      [dirS]: so,\n      [AVAILABLE_WIDTH]: awailableSizes[WIDTH],\n      [AVAILABLE_HEIGHT]: awailableSizes[HEIGHT],\n      arrow: arrowPosition,\n      placement: useFlipM ? MIRROR[placement] : placement,\n      transformOrigin,\n    };\n  }\n  return calculate();\n}\n","export default (elem) => {\n  const { overflow, overflowX, overflowY, display } = getComputedStyle(elem);\n  return (\n    !/inline|contents/.test(display) &&\n    /auto|hidden|scroll|overlay|clip/.test(overflow + overflowY + overflowX)\n  );\n};\n","import { SELECTOR_DISABLED, SELECTOR_INERT } from \"../constants\";\nconst UNFOCUSABLE_SELECTORS = `${SELECTOR_DISABLED},${SELECTOR_INERT}`;\nexport default (elem) => elem.matches(UNFOCUSABLE_SELECTORS);\n","import { isArray, isObject } from \"../is\";\nexport default function mergeDeep(...objects) {\n  const result = {};\n  for (const object of objects.filter(Boolean)) {\n    for (const [key, value] of Object.entries(object)) {\n      if (isObject(result[key])) {\n        result[key] = isObject(value) ? mergeDeep(result[key], value) : value;\n      } else if (isArray(result[key])) {\n        result[key] = isArray(value) ? [...result[key], ...value] : value;\n      } else if (value !== undefined) {\n        result[key] = value;\n      }\n    }\n  }\n  return result;\n}\n","import { isObject } from \"../is\";\nexport default (animated = true) =>\n  isObject(animated) ? { animated: true, ...animated } : { animated };\n","const resizeObserver = new ResizeObserver((entries) => {\n  for (const { borderBoxSize, target } of entries) {\n    const { blockSize, inlineSize } = borderBoxSize[0];\n    target.__resizeCallback__(inlineSize, blockSize);\n  }\n});\nfunction observeResize(target, fn) {\n  target.__resizeCallback__ = fn;\n  resizeObserver.observe(target, { box: \"border-box\" });\n}\nexport { resizeObserver, observeResize };\n","export default (str, word) =>\n  str\n    .split(\" \")\n    .filter((w) => w !== word)\n    .join(\" \");\n","import arrayFrom from \"./arrayFrom\";\nimport { isIterable } from \"../is\";\nexport default (elem) =>\n  elem !== undefined ? (isIterable(elem) ? arrayFrom(elem) : [elem]) : [];\n","import { isArray } from \"../is\";\nexport default (str = \"\", separator = \" \") =>\n  str ? (isArray(str) ? str : str.split(separator)).filter(Boolean) : [];\n","export default (prefix = \"\") =>\n  prefix + Math.random().toString(36).substring(2, 12);\n","import {\n  UI,\n  APPEAR,\n  OPTION_TOP_LAYER,\n  OPTION_PREVENT_SCROLL,\n  MODAL,\n  TRUE,\n  FALSE,\n  OPTION_HASH_NAVIGATION,\n  OPTION_AUTODESTROY,\n} from \"../constants\";\nimport { isArray } from \"../is\";\nimport { upperFirst } from \"../utils\";\nexport const OPTIONS_BOOLEAN = [\n  APPEAR,\n  OPTION_TOP_LAYER,\n  OPTION_PREVENT_SCROLL,\n  OPTION_HASH_NAVIGATION,\n  MODAL,\n  OPTION_AUTODESTROY,\n];\nexport default (opts, { dataset }, names) => {\n  names.forEach((name) => {\n    let optionName = name;\n    let attributeName = name;\n    if (isArray(name)) {\n      optionName = name[0];\n      attributeName = name[1];\n    }\n    let value = dataset[UI + upperFirst(attributeName)];\n    const hasAttribute = value !== undefined;\n    if (hasAttribute) {\n      if (OPTIONS_BOOLEAN.includes(optionName)) {\n        value =\n          value === \"\" || value === TRUE\n            ? true\n            : value === FALSE\n            ? false\n            : undefined;\n      } else if (value && value[0] === \"{\") {\n        value = JSON.parse(value);\n      }\n\n      if (value !== undefined) {\n        opts[optionName] = value;\n      }\n    }\n  });\n  return opts;\n};\n","import { UI_PREFIX } from \"../constants\";\nexport default (name) => UI_PREFIX + name + \":\";\n","import { UI_PREFIX, ACTIVE } from \"../constants\";\nexport default (name) => UI_PREFIX + (name ? name + \"-\" : \"\") + ACTIVE;\n","import { DATA_UI_PREFIX, ACTION_TOGGLE } from \"../constants\";\nexport default (id, multiply) =>\n  `[${DATA_UI_PREFIX + ACTION_TOGGLE}${\n    multiply ? \"~\" : \"\"\n  }=\"${id}\"],[href=\"#${id}\"]`;\n","import { DEFAULT } from \"../constants\";\nimport { isObject, isString } from \"../is\";\nimport { upperFirst } from \"./index\";\nconst DEFAULT_PREFIX = upperFirst(DEFAULT);\nexport default ({ opts, constructor }, name, property = false, defaults) => {\n  const defaultValue = constructor[DEFAULT_PREFIX + upperFirst(name)];\n  let value = opts[name];\n  if (defaults && value && isString(value)) {\n    value = defaults[value];\n  }\n  if (isObject(value)) {\n    opts[name] = { ...defaultValue, ...value };\n  } else if (value) {\n    opts[name] = { ...defaultValue };\n    if (property) {\n      opts[name][property] = value;\n    }\n  }\n  return opts;\n};\n","import {\n  ARROW_OFFSET,\n  ARROW_PADDING,\n  BOUNDARY_OFFSET,\n  doc,\n  DROPDOWN,\n  FLIP,\n  OFFSET,\n  PADDING,\n  PLACEMENT,\n  POPOVER,\n  SHRINK,\n  STICKY,\n  STYLE,\n  TOOLTIP,\n  VAR_UI_PREFIX,\n} from \"../../constants/index.js\";\nimport { createElement } from \"../index.js\";\n\nconst registerProperty = CSS.registerProperty;\n\nexport default () => {\n  let css = \"\";\n  [TOOLTIP, DROPDOWN, POPOVER].forEach((name) => {\n    const PREFIX = VAR_UI_PREFIX + name + \"-\";\n    [\n      STICKY,\n      FLIP,\n      SHRINK,\n      PLACEMENT,\n      PADDING,\n      OFFSET,\n      BOUNDARY_OFFSET,\n      ARROW_OFFSET,\n      ARROW_PADDING,\n    ].forEach((prop) => {\n      if (registerProperty) {\n        registerProperty({\n          name: PREFIX + prop,\n          syntax: \"*\",\n          inherits: false,\n        });\n      } else {\n        css += PREFIX + prop + \":;\";\n      }\n    });\n  });\n\n  if (!registerProperty) {\n    doc.head.appendChild(createElement(STYLE, false, `*{${css}}`));\n  }\n};\n","export default ({ value }) => value.trim().split(\" \").map(parseFloat);\n","import { ACTION_REMOVE, CLASS, HIDDEN_CLASS } from \"../constants/index.js\";\nimport { inDOM } from \"../dom/index.js\";\n\nexport default (elem, hideMode) => {\n  return hideMode === ACTION_REMOVE\n    ? inDOM(elem)\n    : hideMode === CLASS\n    ? !elem.classList.contains(HIDDEN_CLASS)\n    : !elem.hasAttribute(hideMode);\n};\n","import {\n  ACTION_REMOVE,\n  CLASS,\n  doc,\n  FLOATING_DATA_ATTRIBUTE,\n  HIDDEN,\n  HIDDEN_CLASS,\n  HIDE_MODE,\n  PLACEHOLDER,\n  UI_PREFIX,\n} from \"../constants/index.js\";\nimport { toggleClass } from \"../dom/index.js\";\n\nexport default (\n  s,\n  instance,\n  target = instance.base,\n  subInstance = instance,\n) => {\n  const opts = instance.opts;\n  const mode = opts[HIDE_MODE];\n  if (mode === ACTION_REMOVE) {\n    if (s) {\n      if (opts.keepPlace) {\n        subInstance[PLACEHOLDER]?.replaceWith(target);\n        subInstance[PLACEHOLDER] = null;\n      } else {\n        subInstance._floatingParent?.append(target);\n      }\n    } else {\n      if (opts.keepPlace) {\n        target.replaceWith(\n          (subInstance[PLACEHOLDER] ||= doc.createComment(\n            UI_PREFIX + PLACEHOLDER + \":\" + target.id,\n          )),\n        );\n      } else {\n        const parent = target.parentElement;\n        if (parent) {\n          subInstance._floatingParent = parent.hasAttribute(\n            FLOATING_DATA_ATTRIBUTE,\n          )\n            ? parent.parentElement\n            : parent;\n          target.remove();\n        }\n      }\n    }\n  } else if (mode !== CLASS) {\n    target.toggleAttribute(mode, !s);\n  }\n\n  target.classList.toggle(\n    HIDDEN_CLASS,\n    !(s && mode !== ACTION_REMOVE && mode !== HIDDEN),\n  );\n\n  if (s) {\n    target[HIDDEN] = false;\n  }\n};\n","import { DATA_UI_PREFIX, FALSE } from \"../constants/index.js\";\n\nexport default (elem, name) => {\n  const value = elem.getAttribute(DATA_UI_PREFIX + name);\n  return value === null ? value : value !== FALSE;\n};\n","import { DATA_UI_PREFIX } from \"../constants/index.js\";\n\nexport default (elem, name, property) => {\n  let datasetValue = elem.getAttribute(DATA_UI_PREFIX + name)?.trim() || \"\";\n  const isDataObject = datasetValue[0] === \"{\";\n  if (datasetValue) {\n    if (isDataObject) {\n      datasetValue = JSON.parse(datasetValue);\n    } else if (property) {\n      datasetValue = { [property]: datasetValue };\n    }\n  }\n  return property ? datasetValue : [datasetValue, isDataObject];\n};\n","import { isIterable, isObject } from \"../is\";\nimport { camelToKebab } from \"../utils\";\nexport default function addStyle(elem, name, value) {\n  if (isIterable(elem)) {\n    elem.forEach((elem) => addStyle(elem, name, value));\n  } else {\n    if (isObject(name)) {\n      for (const key in name) addStyle(elem, key, name[key]);\n    } else {\n      elem.style.setProperty(camelToKebab(name), value);\n    }\n  }\n}\n","import { getElements } from \"./index.js\";\nexport default (elem, selectors) =>\n  getElements(selectors).find((t) => t === elem || t.contains(elem));\n","import { isFunction } from \"../is\";\nimport { filter, map, is } from \"./index.js\";\n\nexport default (elem, property, selector, until) => {\n  const utilIsFn = isFunction(until);\n  return map(elem, (el) => {\n    const elems = [];\n    while (el) {\n      el = el[property];\n      if (el) {\n        if (until && (utilIsFn ? until(el) : is(el, until))) break;\n        elems.push(el);\n      }\n    }\n    return filter(elems, selector);\n  }).flat();\n};\n","import { getElements } from \"./index.js\";\nexport default (elems, fn) => {\n  elems = getElements(elems);\n  elems.forEach(fn);\n  return elems;\n};\n","import { isFunction } from \"../is\";\nimport { is } from \"../dom\";\nimport { arrayFrom } from \"../utils\";\n\nexport default (elems, selector) => {\n  const isFn = isFunction(selector);\n  elems = arrayFrom(elems);\n  return selector\n    ? elems.filter((elem, i, list) =>\n        isFn ? selector(elem, i, list) : is(elem, selector),\n      )\n    : elems;\n};\n","export default (elem, opts = { preventScroll: true }) =>\n  elem && elem.focus(opts);\n","import { isString } from \"../is\";\nimport { arrayFrom } from \"../utils\";\nexport default (html, findSelectors) => {\n  let children = html;\n  if (isString(html)) {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, \"text/html\");\n    if (findSelectors) {\n      return arrayFrom(doc.querySelectorAll(findSelectors));\n    }\n    children = doc.body.children;\n  }\n  return children\n    ? children.length > 1\n      ? arrayFrom(children)\n      : children[0]\n    : \"\";\n};\n","import { getElements } from \"./index.js\";\nexport default (selector, context, findSelf) =>\n  getElements(selector, context, findSelf)[0];\n","import { isElement, isString, isIterable, isHTML } from \"../is\";\nimport { arrayUnique, returnArray, arrayFrom } from \"../utils\";\nimport { getElement, is } from \"../dom\";\nimport { WINDOW, DOCUMENT, doc } from \"../constants\";\nimport { fragment } from \"./index.js\";\n\nexport default function getElements(selector, context = doc, findSelf = false) {\n  if (isElement(selector)) {\n    return [selector];\n  }\n  let result = selector;\n  if (isString(context)) {\n    context = getElement(context);\n  }\n  if (!isElement(context) || !selector) return [];\n  if (isString(selector)) {\n    selector = selector.trim();\n    if (selector === DOCUMENT) {\n      result = doc;\n    } else if (selector === WINDOW) {\n      result = window;\n    } else if (isHTML(selector)) {\n      result = fragment(selector);\n    } else {\n      result = context.querySelectorAll(selector);\n    }\n  } else if (isIterable(selector)) {\n    result = arrayFrom(selector, (item) => getElements(item, context)).flat();\n  }\n\n  result = returnArray(result);\n\n  if (findSelf && is(context, selector)) {\n    result.unshift(context);\n  }\n  return arrayUnique(result).filter(Boolean);\n}\n","import { body } from \"../constants\";\nexport default (elem) => elem && body.contains(elem);\n","import { isString, isIterable, isFunction } from \"../is\";\nimport { arrayFrom } from \"../utils\";\nexport default (elem, selector) =>\n  elem === selector\n    ? true\n    : isString(selector)\n    ? elem.matches(selector)\n    : isIterable(selector)\n    ? arrayFrom(selector).includes(elem)\n    : isFunction(selector) && selector(elem);\n","import { getElements } from \"./index.js\";\nexport default (elems, fn) => getElements(elems).map(fn);\n","import { dir } from \"./index.js\";\nexport default (elem, selector, until) =>\n  dir(elem, \"nextElementSibling\", selector, until);\n","import { dir } from \"./index.js\";\nexport default (elem, selector, until) =>\n  dir(elem, \"parentElement\", selector, until);\n","import { isArray } from \"../is/index.js\";\n\nexport default (elem, ...names) => {\n  if (isArray(elem)) {\n    elem.forEach((elem) =>\n      names.forEach((name) => elem && elem.removeAttribute(name)),\n    );\n  } else {\n    names.forEach((name) => elem && elem.removeAttribute(name));\n  }\n};\n","import { toggleClass } from \"./index.js\";\nexport default (elem, classes) => toggleClass(elem, classes, false);\n","import { isFunction, isArray } from \"../is\";\nexport default function setAttribute(elem, name, value) {\n  if (!elem) return;\n  if (isArray(elem)) {\n    return elem.forEach((elem) => setAttribute(elem, name, value));\n  }\n  if (isFunction(value)) {\n    value = value(elem.getAttribute(name));\n  }\n  if (value === null) {\n    elem.removeAttribute(name);\n  } else if (value !== undefined) {\n    elem.setAttribute(name, value);\n  }\n}\n","import { isElement, isIterable, isArray } from \"../is\";\nimport { strToArray } from \"../utils\";\nimport { ACTION_ADD, ACTION_REMOVE } from \"../constants\";\n\nexport default function toggleClass(elem, classes, s) {\n  if (isArray(classes)) {\n    classes = classes.filter(Boolean).join(\" \");\n  }\n  const cls = strToArray(classes);\n  if (isElement(elem)) {\n    s ??= !elem.classList.contains(cls[0]);\n    elem.classList[s ? ACTION_ADD : ACTION_REMOVE](...cls);\n  } else if (isIterable(elem)) {\n    elem.forEach((el) => toggleClass(el, cls, s));\n  }\n}\n","export default (elem) => elem.getBoundingClientRect().toJSON();\n","export default (style, name) => style.getPropertyValue(name).trim();\n","import { ACTION_ON, ACTION_OFF, ACTION_EMIT, ACTION_ONCE } from \"./constants\";\nimport { isString, isObject } from \"./is\";\nimport { closest, each } from \"./dom\";\nimport { strToArray, arrayFrom } from \"./utils\";\n\nconst getOptsObj = (args, newOpts) => {\n  args = arrayFrom(args);\n  const optsPosition = isString(args[2]) ? 4 : 3;\n  let opts = args[optsPosition];\n  opts = isObject(opts) ? opts : { capture: !!opts };\n  args[optsPosition] = { ...opts, ...newOpts };\n  return args;\n};\n\nclass EventHandler {\n  constructor() {\n    this.eventsSet = new Set();\n    for (const name of [ACTION_ON, ACTION_OFF, ACTION_EMIT, ACTION_ONCE]) {\n      this[name] = this[name].bind(this);\n    }\n    this._id = 0;\n  }\n  getNamespaces(eventFullName) {\n    let [event, ...namespace] = eventFullName.split(/\\.(?![^([]*[\\]])/);\n    namespace = namespace?.join(\".\");\n    event = event.replace(/[[\\]']+/g, \"\");\n    return { eventFullName, event, namespace };\n  }\n  on(elems, events, ...params) {\n    let [_handler, _opts] = params;\n    let deligate;\n\n    if (isString(_handler)) {\n      [deligate, _handler, _opts] = params;\n    }\n    if (!isObject(_opts)) {\n      _opts = { capture: !!_opts };\n    }\n\n    _handler = ((fn) => (e) => {\n      fn(e, e.detail);\n    })(_handler);\n\n    elems = each(elems, (elem) => {\n      events = isString(events)\n        ? strToArray(events)\n        : isObject(events)\n        ? [events]\n        : events;\n      events.forEach((eventFullName) => {\n        const id = this._id++;\n        const opts = { ..._opts };\n        let handler = _handler;\n\n        const { event, namespace } = isString(eventFullName)\n          ? this.getNamespaces(eventFullName)\n          : eventFullName;\n\n        if (opts.once) {\n          handler = ((fn) => (e) => {\n            this.offId(id);\n            fn(e);\n          })(handler);\n        }\n        opts.once = false;\n\n        if (deligate) {\n          const isSelector = isString(deligate);\n          handler = ((fn) => (e) => {\n            e.deligateTarget = isSelector\n              ? e.target.closest(deligate)\n              : closest(e.target, deligate);\n            if (e.deligateTarget) {\n              fn(e);\n            }\n          })(handler);\n        }\n\n        elem.addEventListener(event, handler, opts);\n        this.eventsSet.add({\n          id,\n          elem,\n          eventFullName,\n          event,\n          namespace,\n          handler,\n          opts,\n        });\n      });\n    });\n    return elems;\n  }\n  once() {\n    return this.on(...getOptsObj(arguments, { once: true }));\n  }\n  offId(id) {\n    this.removeSets([arrayFrom(this.eventsSet).find((s) => s.id === id)]);\n  }\n  removeSets(sets, opts) {\n    sets.forEach((set) => {\n      if (!set) return;\n      set.elem.removeEventListener(set.event, set.handler, opts);\n      this.eventsSet.delete(set);\n    });\n  }\n  off(elems, events, handler, opts) {\n    const eventsSet = this.eventsSet;\n    if (!arguments.length) {\n      this.removeSets(eventsSet, opts);\n    } else {\n      if (elems === \"*\") {\n        elems = arrayFrom(eventsSet).map((set) => set.elem);\n      }\n      return each(elems, (elem) => {\n        if (events) {\n          strToArray(events).forEach((eventFullName) => {\n            const { event, namespace } = this.getNamespaces(eventFullName);\n            const sets = arrayFrom(eventsSet).filter(\n              (set) =>\n                set.elem === elem &&\n                (!namespace || set.namespace === namespace) &&\n                (!event || set.event === event) &&\n                (!handler || set.handler === handler),\n            );\n\n            this.removeSets(sets, opts);\n          });\n        } else {\n          this.removeSets(\n            [...eventsSet].filter((e) => e.elem === elem),\n            opts,\n          );\n        }\n      });\n    }\n  }\n  emit(elems, events, opts) {\n    each(elems, (elem) => {\n      strToArray(events).forEach((event) => {\n        elem.dispatchEvent(new CustomEvent(event, opts));\n      });\n    });\n  }\n}\n\nexport { EventHandler };\n","import { PX, EVENT_CHANGE } from \"./constants\";\nimport { mergeDeep } from \"./utils\";\n\nclass Breakpoints {\n  static mql = {};\n  static instances = new Set();\n  constructor(breakpoints, opts) {\n    const unit = opts.unit ?? PX;\n    this._onResize = this._onResize.bind(this);\n    breakpoints = Object.entries(breakpoints).sort((a, b) => a[0] - b[0]);\n    this.mql = breakpoints.map(([width, data], i) => {\n      width = +width;\n      const media = !i\n        ? `not all and (min-width:${breakpoints[i + 1][0]}${unit})`\n        : `(min-width:${width}${unit})`;\n      const mq = (this.constructor.mql[width] ||= window.matchMedia(media));\n      mq.addEventListener(EVENT_CHANGE, this._onResize);\n      return { mq, width, data };\n    });\n    this.breakpoints = breakpoints;\n    this.opts = opts;\n    this._onResize();\n    this.constructor.instances.add(this);\n  }\n  _onResize(e) {\n    if (!e || e.matches) {\n      this.checkBreakpoints();\n    }\n  }\n  checkBreakpoints(ignoreConditions) {\n    const { opts, breakpoint, mql } = this;\n    let currentData, newBreakpoint;\n    for (const { width, data, mq } of mql) {\n      if (width && !mq.matches) break;\n      newBreakpoint = [data, width];\n      currentData = mergeDeep(currentData ?? data, data);\n    }\n    if (ignoreConditions || !breakpoint || breakpoint[1] !== newBreakpoint[1]) {\n      this.breakpoint = newBreakpoint;\n      opts.onUpdate && opts.onUpdate(newBreakpoint, currentData);\n    }\n\n    return this.breakpoint;\n  }\n  destroy() {\n    this.mql.forEach(({ mq }) =>\n      mq.removeEventListener(EVENT_CHANGE, this._onResize),\n    );\n    this.constructor.instances.delete(this);\n  }\n}\n\nexport default Breakpoints;\n","import {\n  DATA_UI_PREFIX,\n  EVENT_BREAKPOINT,\n  ACTION_TOGGLE,\n  ACTION_SHOW,\n  ACTION_HIDE,\n  ACTION_INIT,\n  ACTION_DESTROY,\n  ACTION_UPDATE,\n  ACTION_ON,\n  ACTION_OFF,\n  ACTION_EMIT,\n  ACTION_ONCE,\n  doc,\n  POPOVER_API_SUPPORTED,\n  UI_PREFIX,\n  POPOVER,\n} from \"./constants\";\nimport { isArray, isFunction, isHTML, isObject, isString } from \"./is\";\nimport { getElement, fragment } from \"./dom\";\nimport {\n  mergeDeep,\n  uuidGenerator,\n  callOrReturn,\n  getDataSelector,\n  arrayFrom,\n  getDatasetValue,\n} from \"./utils\";\nimport { EventHandler } from \"./EventHandler\";\nimport Breakpoints from \"./Breakpoints\";\n\nif (!POPOVER_API_SUPPORTED) {\n  document.documentElement.classList.add(UI_PREFIX + \"no-\" + POPOVER);\n}\n\nfunction getDataValue(_data, dataName, elem) {\n  const value = callOrReturn(_data[dataName], elem);\n  if (!isObject(value)) return {};\n  return _data[value.data]\n    ? { ...getDataValue(_data, value.data, elem), ...value }\n    : value;\n}\n\nclass Base {\n  static allInstances = new Map();\n  static components = {};\n  constructor(elem, opts) {\n    if (isFunction(opts)) {\n      opts = opts(elem);\n    }\n    opts ??= {};\n    const { NAME, BASE_NODE_NAME, Default, _data, _templates, allInstances } =\n      this.constructor;\n\n    Base.components[NAME] = this.constructor;\n\n    const baseElemName = BASE_NODE_NAME ?? NAME;\n\n    let dataName = opts.data;\n\n    if (elem == null) {\n      opts = mergeDeep(Default, getDataValue(_data, dataName, elem), opts);\n      elem = isString(opts.template)\n        ? callOrReturn(_templates[opts.template], opts)\n        : opts.template(opts);\n      this._fromTemplate = true;\n    } else if (elem) {\n      if (isHTML(elem)) {\n        elem = fragment(elem);\n        this._fromHTML = true;\n      } else if (isString(elem)) {\n        elem = doc.querySelector(elem);\n      }\n\n      const [datasetValue, isDataObject] = getDatasetValue(elem, NAME);\n\n      dataName ||= !isDataObject && datasetValue;\n\n      if (dataName && !_data[dataName]) return;\n\n      opts = mergeDeep(\n        Default,\n        getDataValue(_data, dataName, elem),\n        datasetValue,\n        opts,\n      );\n    }\n    elem = getElement(elem);\n\n    if (!elem) return;\n\n    this[baseElemName] = elem;\n\n    this.baseOpts = this.opts = opts;\n\n    this.id = elem.id ||= this.uuid = uuidGenerator(UI_PREFIX + NAME + \"-\");\n    const eventHandler = new EventHandler();\n    [ACTION_ON, ACTION_OFF, ACTION_ONCE].forEach((name) => {\n      this[name] = (...params) => {\n        eventHandler[name](...params);\n        return this;\n      };\n    });\n\n    [\n      ACTION_TOGGLE,\n      ACTION_SHOW,\n      ACTION_HIDE,\n      ACTION_INIT,\n      ACTION_DESTROY,\n      ACTION_UPDATE,\n      ACTION_EMIT,\n    ].forEach((action) => (this[action] = this[action]?.bind(this)));\n\n    if (this.baseOpts.breakpoints) {\n      this._initBreakpoints();\n    } else {\n      this.init();\n    }\n\n    allInstances.set(this.id, this);\n\n    return this;\n  }\n  _initBreakpoints() {\n    this.breakpoints = new Breakpoints(\n      { 0: this.baseOpts, ...this.baseOpts.breakpoints },\n      {\n        onUpdate: (breakpoint, opts) => {\n          this.emit(EVENT_BREAKPOINT, breakpoint, this.breakpoint);\n          this.opts = breakpoint[1]\n            ? mergeDeep(opts, breakpoint[0])\n            : { ...opts };\n          delete this.opts.breakpoints;\n          if (opts.destroy) {\n            this.destroy();\n          } else if (this.isInit) {\n            this._update?.();\n          } else {\n            this.init();\n          }\n          this.breakpoint = breakpoint;\n        },\n      },\n    );\n  }\n  emit(eventName, ...detail) {\n    const { opts, base } = this;\n    const { on, eventDispatch, eventBubble, eventPrefix } = opts;\n    detail = [this, ...detail];\n    if (on) {\n      on[eventName] && on[eventName](...detail);\n      on.any && on.any(eventName, ...detail);\n    }\n\n    if (\n      isArray(eventDispatch) ? eventDispatch.includes(eventName) : eventDispatch\n    ) {\n      const bubbles =\n        (isArray(eventBubble) && eventBubble.includes(eventName)) ||\n        !!eventBubble;\n      base.dispatchEvent(\n        new CustomEvent(eventPrefix + eventName, { detail, bubbles }),\n      );\n    }\n    return this;\n  }\n  update(opts) {\n    if (opts) {\n      this.baseOpts = mergeDeep(this.baseOpts, opts);\n      if (this.breakpoints || this.baseOpts.breakpoints) {\n        this.breakpoints?.destroy();\n        this.breakpoints = false;\n        this._initBreakpoints();\n      } else {\n        this._update?.();\n      }\n    }\n    return this;\n  }\n  get base() {\n    return this[this.constructor.BASE_NODE_NAME ?? this.constructor.NAME];\n  }\n  get instances() {\n    return this.constructor.instances;\n  }\n  get Default() {\n    return this.constructor.Default;\n  }\n  static get(elem) {\n    if (elem === undefined) return [...this.instances.values()];\n    for (const [id, instance] of this.instances) {\n      if ([id, instance.base].includes(elem)) {\n        return instance;\n      }\n    }\n  }\n  static getOrCreate(elem, opts) {\n    return this.get(elem, opts) || new this(elem, opts);\n  }\n  static initAll(root = doc) {\n    return arrayFrom(root.querySelectorAll(getDataSelector(this.NAME))).map(\n      (elem) => this.getOrCreate(elem),\n    );\n  }\n  static updateDefault(opts) {\n    return mergeDeep(this.Default, opts);\n  }\n  static data(name, opts) {\n    if (!opts) {\n      opts = name;\n      name = \"\";\n    }\n    if (!opts) return this._data[name];\n    this._data[name] = opts;\n    return this;\n  }\n  static dispatchTopLayer(type) {\n    const Toast = this.components.toast;\n    if (Toast) {\n      Toast.forceTopLayer(type);\n    }\n  }\n}\nexport default Base;\n","export default (Base, NAME) =>\n  class extends Base {\n    static _data = {};\n    static instances = new Map();\n    static get NAME() {\n      return NAME;\n    }\n    get isAnimating() {\n      return this.transition?.isAnimating;\n    }\n    get initialPlaceNode() {\n      return (\n        this.teleport?.placeholder ??\n        this.placeholder ??\n        this[this.constructor.NAME]\n      );\n    }\n    hide(opts) {\n      return this.toggle(false, opts);\n    }\n    show(opts) {\n      return this.toggle(true, opts);\n    }\n    static toggle(id, s, opts) {\n      return this.instances.get(id)?.toggle(s, opts);\n    }\n    static show(id, opts) {\n      return this.instances.get(id)?.show(opts);\n    }\n    static hide(id, opts) {\n      return this.instances.get(id)?.hide(opts);\n    }\n  };\n","import {\n  UI,\n  VAR_UI_PREFIX,\n  WIDTH,\n  HEIGHT,\n  PX,\n  ACTION_ADD,\n  ACTION_REMOVE,\n  NONE,\n  ENTER,\n  ENTER_ACTIVE,\n  ENTER_FROM,\n  ENTER_TO,\n  LEAVE,\n  LEAVE_ACTIVE,\n  LEAVE_FROM,\n  LEAVE_TO,\n  DURATION,\n  TRANSITION,\n  NAME,\n} from \"./constants\";\n\nimport { isString, isFunction, isObject } from \"./is\";\nimport { camelToKebab, updateOptsByData } from \"./utils\";\n\nexport default class Transition {\n  static Default = {\n    name: UI,\n    css: true,\n    cssVariables: false,\n    [ENTER]: null,\n    [ENTER_ACTIVE]: null,\n    [ENTER_FROM]: null,\n    [ENTER_TO]: null,\n    [LEAVE]: null,\n    [LEAVE_FROM]: null,\n    [LEAVE_ACTIVE]: null,\n    [LEAVE_TO]: null,\n    [DURATION]: null,\n  };\n\n  constructor(elem, opts, defaultOpts) {\n    this.elem = elem;\n    this.update(opts, defaultOpts);\n    this.promises = [];\n\n    this.isInit = true;\n  }\n  update(opts, defaultOpts = {}) {\n    opts = isString(opts) ? { name: opts } : opts;\n\n    opts = {\n      ...Transition.Default,\n      ...defaultOpts,\n      ...opts,\n    };\n\n    this.opts = updateOptsByData(opts, this.elem, [\n      ENTER_ACTIVE,\n      ENTER_FROM,\n      ENTER_TO,\n      LEAVE_ACTIVE,\n      LEAVE_FROM,\n      LEAVE_TO,\n      [NAME, TRANSITION + \"Name\"],\n    ]);\n\n    return this;\n  }\n  toggleVariables(s) {\n    const { offsetWidth, offsetHeight, style } = this.elem;\n    const rect = [offsetWidth, offsetHeight];\n    [WIDTH, HEIGHT].forEach((name, i) => {\n      const prop = VAR_UI_PREFIX + TRANSITION + \"-\" + name;\n      if (s) {\n        style.setProperty(prop, rect[i] + PX);\n      } else {\n        style.removeProperty(prop);\n      }\n    });\n  }\n\n  toggleAnimationClasses(s) {\n    this.elem.style.transition = NONE;\n    this.setClasses([s ? ENTER_FROM : LEAVE_FROM]);\n    this.elem.offsetWidth;\n    this.elem.style.transition = \"\";\n    this.setClasses([s ? ENTER_ACTIVE : LEAVE_ACTIVE, s ? ENTER_TO : LEAVE_TO]);\n    return this;\n  }\n\n  setClasses(animations) {\n    const { elem, opts } = this;\n    const classes = [\"\", \"\"];\n    const styles = [{}, {}];\n    let hasStyle = false;\n    let hasClass = false;\n    [\n      ENTER_ACTIVE,\n      ENTER_FROM,\n      ENTER_TO,\n      LEAVE_ACTIVE,\n      LEAVE_FROM,\n      LEAVE_TO,\n    ].forEach((state) => {\n      const s = animations?.includes(state) | 0;\n      if (isObject(opts[state])) {\n        hasStyle = true;\n        styles[s] = { ...styles[s], ...opts[state] };\n      } else {\n        hasClass = true;\n        classes[s] +=\n          (opts[state] ??\n            (opts.name ? opts.name + \"-\" + camelToKebab(state) : \"\")) + \" \";\n      }\n    });\n    if (hasClass) {\n      classes.forEach((classes, s) =>\n        elem.classList[s ? ACTION_ADD : ACTION_REMOVE](\n          ...classes.split(\" \").filter(Boolean),\n        ),\n      );\n    }\n    if (hasStyle) {\n      styles.forEach((styles, s) => {\n        Object.entries(styles).forEach(([name, value]) => {\n          if (name[0] !== \"-\") {\n            name = camelToKebab(name);\n          }\n          if (s) {\n            elem.style.setProperty(name, value);\n          } else {\n            elem.style.removeProperty(name);\n          }\n        });\n      });\n    }\n  }\n  collectPromises(s) {\n    const { elem, promises, opts } = this;\n    const state = s ? ENTER : LEAVE;\n    const duration = opts.duration?.[state] ?? opts.duration;\n\n    promises.length = 0;\n    let promisesEvent, promisesAnimation;\n    if (isFunction(opts[state])) {\n      promisesEvent = new Promise((resolve) => opts[state](elem, resolve));\n    }\n    let animations;\n    if (opts.css) {\n      animations = elem.getAnimations();\n      promisesAnimation =\n        animations.length &&\n        Promise.allSettled(animations.map(({ finished }) => finished));\n    }\n\n    if (!duration && !promisesEvent && !promisesAnimation) return promises;\n\n    const promisesDuration =\n      !isNaN(duration) && duration != null\n        ? new Promise((resolve) => setTimeout(resolve, duration))\n        : null;\n\n    promisesDuration && promises.push(promisesDuration);\n    promisesEvent && promises.push(promisesEvent);\n    promisesAnimation && promises.push(promisesAnimation);\n\n    this.animations = animations;\n\n    return promises;\n  }\n  get isAnimating() {\n    return !!this.promises.length;\n  }\n  cancel() {\n    this.animations?.forEach((animation) => animation.cancel());\n    return Promise.allSettled([this.getAwaitPromise()]);\n  }\n  getAwaitPromise() {\n    return Promise.allSettled(this.promises);\n  }\n\n  async run(s, animated = true) {\n    const { elem, opts } = this;\n    if (!elem) return;\n\n    if (animated) {\n      if (opts.css) {\n        opts.cssVariables && this.toggleVariables(true);\n        this.toggleAnimationClasses(s);\n      }\n\n      this.collectPromises(s);\n      if (this.promises.length) {\n        await this.getAwaitPromise();\n      }\n      if (opts.css) {\n        opts.cssVariables && this.toggleVariables(false);\n      }\n    }\n\n    this.setClasses(null);\n    this.promises.length = 0;\n  }\n  destroy() {\n    this.setClasses(null);\n    this.isInit = false;\n  }\n  static createOrUpdate(transition, elem, opts, defaultOpts) {\n    if (!opts) {\n      transition?.destroy();\n      return;\n    }\n    return transition\n      ? transition.update(opts, defaultOpts)\n      : new Transition(elem, opts, defaultOpts);\n  }\n}\n","import {\n  UI_PREFIX,\n  POSITION,\n  TELEPORT,\n  doc,\n  DATA_UI_PREFIX,\n} from \"./constants\";\nimport { isString, isObject } from \"./is\";\nimport { mergeDeep, callOrReturn, getDatasetValue } from \"./utils\";\n\nclass Teleport {\n  static Default = {\n    to: false,\n    [POSITION]: \"beforeend\",\n    disableAttributes: false,\n  };\n  constructor(elem, opts = {}, defaultOpts) {\n    this.elem = elem;\n    this.update(opts, defaultOpts);\n  }\n  update(opts, defaultOpts = {}) {\n    opts = isObject(opts) ? opts : { to: opts };\n    opts = mergeDeep(\n      this.constructor.Default,\n      defaultOpts,\n      opts,\n      getDatasetValue(this.elem, TELEPORT, \"to\"),\n    );\n\n    this.opts = opts;\n\n    if (!opts.to) {\n      return this.destroy();\n    }\n\n    return this;\n  }\n  move(...toParameters) {\n    const { opts, elem } = this;\n    const { position } = opts;\n    let to = callOrReturn(opts.to, ...toParameters);\n    to = isString(to) ? doc.querySelector(to) : to;\n\n    if (!to) return;\n    this.placeholder = doc.createComment(UI_PREFIX + TELEPORT + \":\" + elem.id);\n\n    if (this.placeholder) {\n      elem.before(this.placeholder);\n    }\n    to.insertAdjacentElement(position, elem);\n    return this;\n  }\n  destroy() {\n    this.reset();\n  }\n  reset() {\n    this.placeholder?.replaceWith(this.elem);\n    this.placeholder = null;\n    return this;\n  }\n  static createOrUpdate(teleport, elem, opts, defaultOpts) {\n    return teleport\n      ? teleport.update(opts, defaultOpts)\n      : opts !== false ||\n        (!opts.disableAttributes &&\n          elem.getAttribute(DATA_UI_PREFIX + TELEPORT))\n      ? new Teleport(elem, opts, defaultOpts)\n      : null;\n  }\n}\nexport default Teleport;\n","import {\n  CANCEL,\n  DATA_UI_PREFIX,\n  DISMISS,\n  EVENT_CLICK,\n  PRIVATE_OPTION_CANCEL_ON_HIDE,\n  PRIVATE_PREFIX,\n  UI_EVENT_PREFIX,\n} from \"../constants\";\nimport { isString } from \"../is\";\nconst eventName = EVENT_CLICK + UI_EVENT_PREFIX + \"-\" + DISMISS;\nexport default function (\n  instance,\n  elem = instance.base,\n  action = instance.hide,\n) {\n  if (instance[PRIVATE_PREFIX + DISMISS]) {\n    instance.off(elem, eventName);\n    instance[PRIVATE_PREFIX + DISMISS] = false;\n  }\n  if (instance.opts[DISMISS]) {\n    instance.on(\n      elem,\n      eventName,\n      isString(instance.opts[DISMISS])\n        ? instance.opts[DISMISS]\n        : `[${DATA_UI_PREFIX + DISMISS}=\"\"],[${DATA_UI_PREFIX + DISMISS}=\"${\n            instance.constructor.NAME\n          }\"]`,\n      (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        const eventParams = { event, trigger: event.deligateTarget };\n        action(eventParams);\n        if (instance.constructor[PRIVATE_OPTION_CANCEL_ON_HIDE]) {\n          instance.emit(CANCEL, eventParams);\n        }\n      },\n    );\n    instance[PRIVATE_PREFIX + DISMISS] = true;\n  }\n}\n","import {\n  EVENT_KEYDOWN,\n  KEY_ESC,\n  CANCEL,\n  PRIVATE_OPTION_CANCEL_ON_HIDE,\n} from \"../constants\";\nconst eventName = EVENT_KEYDOWN + \".escapeHide\";\n\nexport default function (instance, s, elem = instance.base) {\n  if (s) {\n    instance.on(elem, eventName, (event) => {\n      if (event.keyCode === KEY_ESC) {\n        (instance.opts.escapeHide.stop ?? true) && event.stopPropagation();\n        instance.hide({ event });\n        if (instance.constructor[PRIVATE_OPTION_CANCEL_ON_HIDE]) {\n          instance.emit(CANCEL, { event });\n        }\n      }\n    });\n  } else {\n    instance.off(elem, eventName);\n  }\n}\n","import {\n  FOCUSABLE_ELEMENTS_SELECTOR,\n  doc,\n  AUTOFOCUS,\n  DATA_UI_PREFIX,\n} from \"../constants\";\nimport { getOptionElem } from \"../utils/index.js\";\nimport { isDialog } from \"../is/index.js\";\nimport { focus } from \"../dom/index.js\";\n\nexport default (instance, elem = instance.base) => {\n  const autofocus = instance.opts.autofocus;\n  let focusElem = getOptionElem(\n    instance,\n    autofocus === true\n      ? `[${AUTOFOCUS}],[${DATA_UI_PREFIX + AUTOFOCUS}=\"\"],[${\n          DATA_UI_PREFIX + AUTOFOCUS\n        }=\"${instance.constructor.NAME}\"]`\n      : autofocus,\n    elem,\n  );\n\n  focusElem ||= elem.contains(doc.activeElement) && doc.activeElement;\n\n  if (!focusElem && instance.opts.focusTrap && !isDialog(elem)) {\n    focusElem = elem.querySelector(FOCUSABLE_ELEMENTS_SELECTOR) ?? elem;\n  }\n\n  focus(focusElem);\n};\n","import {\n  EVENT_DESTROY,\n  FLOATING,\n  ID,\n  PLACEHOLDER,\n  TELEPORT,\n  TRANSITION,\n} from \"../constants\";\n\nexport default (instance, { remove = false, keepInstance = false } = {}) => {\n  const { base, off, emit, id, uuid, instances, breakpoints } = instance;\n\n  instance[PLACEHOLDER]?.replaceWith(base);\n\n  [\"autohide\", FLOATING, TRANSITION, TELEPORT].forEach((key) => {\n    if (instance[key]) {\n      instance[key].destroy();\n      instance[key] = null;\n    }\n  });\n\n  off();\n\n  if (!keepInstance) {\n    base.id.includes(uuid) && base.removeAttribute(ID);\n    breakpoints?.destroy();\n    instances.delete(id);\n  }\n  if (remove) {\n    base.remove();\n  }\n\n  emit(EVENT_DESTROY);\n\n  instance.isInit = false;\n\n  return instance;\n};\n","import {\n  HOVER,\n  FOCUS,\n  CLICK,\n  EVENT_CLICK,\n  EVENT_MOUSEENTER,\n  EVENT_MOUSELEAVE,\n  EVENT_FOCUSOUT,\n  EVENT_FOCUSIN,\n  EVENT_MOUSEDOWN,\n  UI_EVENT_PREFIX,\n  TRIGGER,\n  MODAL,\n  PRIVATE_PREFIX,\n} from \"../constants\";\nimport { isArray } from \"../is\";\n\nconst PREFIX = UI_EVENT_PREFIX + \"-\" + TRIGGER;\n\nexport default (\n  instance,\n  toggler = instance.toggler,\n  target = instance.base,\n) => {\n  let {\n    opts: { trigger, delay, mode },\n    toggle,\n    on,\n  } = instance;\n\n  if (instance[PRIVATE_PREFIX + TRIGGER]) {\n    instance.off(\"*\", PREFIX);\n    instance[PRIVATE_PREFIX + TRIGGER] = false;\n  }\n\n  if (!trigger) return;\n\n  const triggerClick = trigger.includes(CLICK);\n  const triggerHover = mode !== MODAL && trigger.includes(HOVER);\n  const triggerFocus = mode !== MODAL && trigger.includes(FOCUS);\n  const events = [];\n  let isMouseDown = false;\n  let hoverTimer;\n  if (triggerHover) {\n    delay = isArray(delay) ? delay : [delay, delay];\n  }\n  if (triggerClick) {\n    on(toggler, EVENT_CLICK + PREFIX, (event) =>\n      toggle(null, { event, trigger: toggler }),\n    );\n  }\n  if (triggerHover) {\n    events.push(EVENT_MOUSEENTER + PREFIX, EVENT_MOUSELEAVE + PREFIX);\n  }\n  if (triggerFocus) {\n    events.push(EVENT_FOCUSIN + PREFIX, EVENT_FOCUSOUT + PREFIX);\n\n    triggerClick &&\n      on(toggler, EVENT_MOUSEDOWN, () => {\n        isMouseDown = true;\n        clearTimeout(hoverTimer);\n        requestAnimationFrame(() => (isMouseDown = false));\n      });\n  }\n\n  if (triggerHover || triggerFocus) {\n    on([toggler, target], events, (event) => {\n      const { type } = event;\n      const isFocus = type === EVENT_FOCUSIN || type === EVENT_FOCUSOUT;\n      if (\n        (type === EVENT_FOCUSIN && isMouseDown) ||\n        (type === EVENT_FOCUSOUT && triggerHover && target.matches(\":\" + HOVER))\n      ) {\n        return;\n      }\n\n      const entered =\n        (triggerHover && type === EVENT_MOUSEENTER) ||\n        (triggerFocus && type === EVENT_FOCUSIN);\n      const d = isFocus ? 0 : delay[entered ? 0 : 1];\n      clearTimeout(hoverTimer);\n      if (d) {\n        hoverTimer = setTimeout(\n          () => toggle(entered, { trigger: toggler, event }),\n          d,\n        );\n      } else {\n        toggle(entered, { event, trigger: event.target });\n      }\n    });\n  }\n\n  instance[PRIVATE_PREFIX + TRIGGER] = true;\n};\n","import {\n  VAR_UI_PREFIX,\n  NONE,\n  WIDTH,\n  HEIGHT,\n  ANCHOR,\n  TOP,\n  LEFT,\n  PX,\n  DIV,\n  AVAILABLE_WIDTH,\n  AVAILABLE_HEIGHT,\n  body,\n  EVENT_SCROLL,\n  EVENT_RESIZE,\n  FLOATING_DATA_ATTRIBUTE,\n  DATA_UI_PREFIX,\n  INERT,\n  DIALOG,\n  ABSOLUTE,\n  CANCEL,\n  FLIP,\n  SHRINK,\n  STICKY,\n  PLACEMENT,\n  PADDING,\n  OFFSET,\n  ARROW,\n  TRUE,\n  POPOVER,\n  MODAL,\n  MODE,\n  POPOVER_API_SUPPORTED,\n  TOP_LAYER,\n  FIXED,\n  EVENT_KEYDOWN,\n  FOCUSABLE_ELEMENTS_SELECTOR,\n  KEY_TAB,\n  POPOVER_API_MODE_MANUAL,\n  UI_EVENT_PREFIX,\n  FALSE,\n  FLOATING,\n  CLASS,\n  CENTER,\n  AUTO,\n  CONTENT,\n} from \"./constants\";\nimport {\n  createElement,\n  getPosition,\n  returnArray,\n  isOverflowElement,\n  observeResize,\n  resizeObserver,\n  ResetFloatingCssVariables,\n  collectCssVariables,\n} from \"./utils\";\nimport { EventHandler } from \"./EventHandler\";\nimport {\n  getBoundingClientRect,\n  getPropertyValue,\n  parents,\n  setAttribute,\n  focus,\n} from \"./dom\";\nimport { FocusGuards } from \"./modules/index.js\";\nimport { isDialog } from \"./is/index.js\";\n\nResetFloatingCssVariables();\n\nexport default class Floating {\n  constructor({\n    target,\n    anchor,\n    arrow,\n    opts,\n    name = \"\",\n    base,\n    onTopLayer,\n    defaultTopLayerOpts,\n    hide,\n    teleport,\n  }) {\n    const { on, off } = new EventHandler();\n\n    Object.assign(this, {\n      target,\n      anchor,\n      arrow,\n      opts,\n      name,\n      on,\n      off,\n      base,\n      onTopLayer,\n      defaultTopLayerOpts,\n      hide,\n      teleport,\n    });\n  }\n  init() {\n    const { target, anchor, arrow, opts, name, base, on, defaultTopLayerOpts } =\n      this;\n    const PREFIX = VAR_UI_PREFIX + name + \"-\";\n\n    const anchorScrollParents = parents(anchor, isOverflowElement);\n    const anchorStyles = getComputedStyle(anchor);\n    const targetStyles = getComputedStyle(target);\n\n    let [flip, sticky, shrink, placement, topLayer] = [\n      STICKY,\n      FLIP,\n      SHRINK,\n      PLACEMENT,\n      TOP_LAYER,\n    ].map(\n      (name) =>\n        getPropertyValue(anchorStyles, PREFIX + name) ||\n        getPropertyValue(targetStyles, PREFIX + name),\n    );\n\n    flip = flip\n      ? flip.split(\" \").map((v) => v === TRUE)\n      : returnArray(opts[FLIP]);\n\n    sticky = sticky ? sticky === TRUE : opts[STICKY];\n    shrink = shrink ? shrink === TRUE : opts[SHRINK];\n\n    this.topLayer = topLayer =\n      topLayer === FALSE ? false : opts.topLayer || defaultTopLayerOpts;\n\n    this[PLACEMENT] = placement =\n      base.getAttribute(DATA_UI_PREFIX + PLACEMENT) ||\n      placement ||\n      opts[PLACEMENT];\n\n    this[CLASS] =\n      base.getAttribute(DATA_UI_PREFIX + FLOATING + \"-\" + CLASS) ??\n      opts.floatingClass;\n\n    const mode = (this[MODE] =\n      base.getAttribute(DATA_UI_PREFIX + MODE) || opts[MODE]);\n\n    const usePopoverApi =\n      topLayer && mode !== MODAL && opts.popoverApi && POPOVER_API_SUPPORTED;\n\n    const inTopLayer =\n      (topLayer && (!opts.popoverApi || POPOVER_API_SUPPORTED)) ||\n      mode === MODAL;\n\n    const moveToRoot = topLayer && opts.topLayerForce;\n\n    const useFocusGuards =\n      (opts.focusTrap && mode !== MODAL) || (usePopoverApi && moveToRoot);\n\n    const wrapper = this.createWrapper(\n      placement,\n      mode,\n      moveToRoot,\n      usePopoverApi,\n    );\n\n    if (moveToRoot && mode !== MODAL && !opts.focusTrap) {\n      on(anchor, EVENT_KEYDOWN, (e) => {\n        if (e.keyCode === KEY_TAB && !e.shiftKey) {\n          const focusElem = target.querySelector(FOCUSABLE_ELEMENTS_SELECTOR);\n          if (focusElem) {\n            e.preventDefault();\n            focus(focusElem);\n          }\n        }\n      });\n    }\n\n    if (placement === DIALOG) return this;\n\n    const wrapperStyle = wrapper.style;\n\n    const {\n      padding,\n      offset = opts.offset,\n      boundaryOffset = opts.boundaryOffset,\n      arrowPadding,\n      arrowOffset,\n      wrapperComputedStyle,\n    } = collectCssVariables(anchorStyles, targetStyles, wrapper, PREFIX);\n\n    let anchorRect = getBoundingClientRect(anchor);\n\n    const targetRect = {};\n    [WIDTH, HEIGHT].forEach((size) => {\n      targetRect[size] = parseFloat(wrapperComputedStyle[size]);\n      wrapperStyle.setProperty(PREFIX + size, targetRect[size] + PX);\n      wrapperStyle.setProperty(\n        PREFIX + ANCHOR + \"-\" + size,\n        anchorRect[size] + PX,\n      );\n    });\n\n    let arrowData;\n    if (arrow) {\n      arrowData = { [WIDTH]: arrow.offsetWidth, [HEIGHT]: arrow.offsetHeight };\n      arrowData[PADDING] = arrowPadding ?? opts[ARROW]?.padding ?? 0;\n      arrowData[OFFSET] = arrowOffset ?? opts[ARROW]?.offset ?? 0;\n    }\n\n    const params = {\n      anchorRect,\n      targetRect,\n      arrow: arrowData,\n      placement,\n      inTopLayer,\n      flip,\n      sticky,\n      shrink,\n      offset,\n      boundaryOffset,\n      padding,\n      minHeight: parseFloat(targetStyles.minHeight) || 0,\n      minWidth: parseFloat(targetStyles.minWidth) || 0,\n    };\n\n    let prevTop = 0;\n    let pendingUpdate = false;\n    const updatePosition = () => {\n      if (pendingUpdate) return;\n      pendingUpdate = true;\n\n      anchorRect = getBoundingClientRect(anchor);\n\n      if (!inTopLayer) {\n        anchorRect.left = anchorRect.x = anchor.offsetLeft;\n        anchorRect.top = anchorRect.y = anchor.offsetTop;\n        anchorRect.right = anchor.offsetLeft + anchorRect.width;\n        anchorRect.bottom = anchor.offsetTop + anchorRect.height;\n      }\n\n      const position = getPosition({ ...params, anchorRect });\n\n      if (inTopLayer) {\n        position.top += window.scrollY;\n        position.left += window.scrollX;\n      }\n\n      if (prevTop && Math.abs(prevTop - position.top) > 50) {\n        prevTop = position.top;\n        requestAnimationFrame(() => {\n          pendingUpdate = false;\n        });\n        return updatePosition();\n      }\n      prevTop = position.top;\n\n      setAttribute(\n        wrapper,\n        DATA_UI_PREFIX + \"current-\" + PLACEMENT,\n        position[PLACEMENT],\n      );\n\n      if (shrink) {\n        [AVAILABLE_WIDTH, AVAILABLE_HEIGHT].forEach((name) =>\n          wrapperStyle.setProperty(PREFIX + name, position[name] + PX),\n        );\n      }\n\n      if (arrow) {\n        [LEFT, TOP].forEach((dir, i) =>\n          wrapperStyle.setProperty(\n            PREFIX + ARROW + \"-\" + dir,\n            position.arrow[i] + PX,\n          ),\n        );\n      }\n      wrapperStyle.setProperty(\n        PREFIX + \"transform-origin\",\n        `${position.transformOrigin[0]}px ${position.transformOrigin[1]}px`,\n      );\n\n      wrapperStyle.translate = `${position.left}px ${position.top}px 0`;\n\n      requestAnimationFrame(() => {\n        pendingUpdate = false;\n      });\n    };\n\n    observeResize(target, (width, height) => {\n      targetRect[WIDTH] = width;\n      targetRect[HEIGHT] = height;\n      updatePosition();\n    });\n\n    updatePosition();\n\n    this._toggleApi(useFocusGuards);\n\n    on(anchorScrollParents, EVENT_SCROLL, updatePosition, {\n      passive: true,\n    });\n    on(visualViewport, [EVENT_SCROLL, EVENT_RESIZE], updatePosition, {\n      passive: true,\n    });\n    on(window, EVENT_SCROLL, updatePosition, {\n      passive: true,\n    });\n    this.updatePosition = updatePosition.bind(this);\n    return this;\n  }\n\n  _toggleApi(useFocusGuards) {\n    const { wrapper, opts, mode, topLayer, anchor, target, onTopLayer } = this;\n    const wrapperIsDialog = isDialog(wrapper);\n    const isModal =\n      mode === MODAL && (!opts.safeModal || POPOVER_API_SUPPORTED);\n    const isPopover = topLayer && POPOVER_API_SUPPORTED && wrapper.popover;\n\n    if (wrapperIsDialog) {\n      if (isModal) {\n        if (wrapper.open) wrapper.close();\n        wrapper.showModal();\n        onTopLayer?.(MODAL);\n      } else {\n        if (isPopover) {\n          wrapper.showPopover();\n          wrapper.open = true;\n          onTopLayer?.(POPOVER);\n        } else {\n          wrapper.show();\n        }\n      }\n      this.on(wrapper, CANCEL + UI_EVENT_PREFIX, (e) => e.preventDefault());\n    } else if (isPopover) {\n      wrapper.showPopover();\n      onTopLayer?.(POPOVER);\n    }\n\n    if (useFocusGuards) {\n      this.focusGuards = new FocusGuards(target, {\n        focusAfterAnchor: !opts.focusTrap,\n        anchor,\n        topLayer,\n        strategy: ABSOLUTE,\n        onFocusOut: () => {\n          if (wrapperIsDialog) {\n            this.hide?.();\n          }\n        },\n      });\n    }\n  }\n\n  createWrapper(placement, mode, moveToRoot, usePopoverApi) {\n    const { target, name, anchor, opts } = this;\n\n    const style = {\n      zIndex: `var(${VAR_UI_PREFIX}top-layer-z-index,999)`,\n      margin: 0,\n      padding: 0,\n      background: NONE,\n      maxWidth: NONE,\n      maxHeight: NONE,\n      overflow: \"unset\",\n      pointerEvents: NONE,\n      display: \"flex\",\n      justifyContent: CENTER,\n      alignItems: CENTER,\n    };\n\n    if (placement === DIALOG) {\n      style.position = FIXED;\n      style.inset = 0;\n      style.height = AUTO;\n      style.width = AUTO;\n    } else {\n      style.position = ABSOLUTE;\n      style.inset = AUTO;\n      style.left = 0;\n      style.top = 0;\n      style.height = style.width = \"fit-\" + CONTENT;\n      style.willChange = \"transform\";\n      style.minWidth = \"max-\" + CONTENT;\n    }\n\n    const attributes = {\n      style,\n      class: this.class,\n      [FLOATING_DATA_ATTRIBUTE]: name,\n      [DATA_UI_PREFIX + FLOATING + \"-\" + MODE]: mode,\n    };\n\n    if (usePopoverApi) {\n      attributes[POPOVER] = POPOVER_API_MODE_MANUAL;\n    }\n\n    if (opts.interactive !== undefined && !opts.interactive) {\n      attributes[INERT] = \"\";\n      attributes.style.pointerEvents = NONE;\n    } else {\n      target.style.pointerEvents = AUTO;\n    }\n\n    const wrapper = (this.wrapper = createElement(\n      mode === MODAL || mode === DIALOG ? DIALOG : DIV,\n      attributes,\n    ));\n\n    if (this.teleport) {\n      this.teleport.opts.to = wrapper;\n      this.teleport.move();\n    }\n\n    if (moveToRoot) {\n      body.append(wrapper);\n    } else {\n      anchor.after(wrapper);\n    }\n\n    return wrapper;\n  }\n  destroy() {\n    this.off();\n    resizeObserver.unobserve(this.target);\n    this.wrapper.close?.();\n    if (this.wrapper.popover && POPOVER_API_SUPPORTED) {\n      this.wrapper.hidePopover();\n    }\n    this.focusGuards?.destroy();\n    this.wrapper.remove();\n    this.teleport.reset();\n  }\n}\n","import {\n  ARROW_OFFSET,\n  ARROW_PADDING,\n  BOUNDARY_OFFSET,\n  CLIP_PATH_PROPERTY,\n  OFFSET,\n  PADDING,\n} from \"../../constants/index.js\";\nimport { createInset, kebabToCamel, valuesToArray } from \"../index.js\";\nimport { getPropertyValue } from \"../../dom/index.js\";\n\nexport default (anchorStyles, targetStyles, wrapper, PREFIX) => {\n  const valuesNames = [\n    PADDING,\n    OFFSET,\n    BOUNDARY_OFFSET,\n    ARROW_OFFSET,\n    ARROW_PADDING,\n  ];\n  const values = valuesNames\n    .map((name) => {\n      let value =\n        getPropertyValue(anchorStyles, PREFIX + name) ||\n        getPropertyValue(targetStyles, PREFIX + name);\n      if (!value) return;\n      value = value.split(\" \");\n      if (name === BOUNDARY_OFFSET) {\n        value = createInset(value, true);\n      } else {\n        value[1] ??= value[0];\n      }\n      return { name, value };\n    })\n    .filter(Boolean);\n\n  const polygonValues = values\n    .map(({ name, value }) => {\n      if (name === BOUNDARY_OFFSET) {\n        const valueEnd = value.splice(2).join(\" \");\n        value = value.join(\" \");\n        return [value, valueEnd].join(\",\");\n      }\n      return value.join(\" \");\n    })\n    .join(\",\");\n\n  wrapper.style.setProperty(CLIP_PATH_PROPERTY, `polygon(${polygonValues})`);\n\n  const wrapperComputedStyle = getComputedStyle(wrapper);\n\n  const computedValues = wrapperComputedStyle[CLIP_PATH_PROPERTY].slice(8, -1)\n    .split(\",\")\n    .values();\n\n  const result = { wrapperComputedStyle };\n\n  if (values.length) {\n    values.forEach(({ name }) => {\n      let value = valuesToArray(computedValues.next());\n      if (name === BOUNDARY_OFFSET) {\n        value = [...value, ...valuesToArray(computedValues.next())];\n      } else if (name === OFFSET || name === ARROW_OFFSET) {\n        value = value[0];\n      }\n      result[kebabToCamel(name)] = value;\n    });\n  }\n\n  if (values.length) {\n    wrapper.style.removeProperty(CLIP_PATH_PROPERTY);\n  }\n\n  return result;\n};\n","import {\n  EVENT_SHOW,\n  EVENT_HIDE,\n  ARROW,\n  doc,\n  EVENT_SHOWN,\n  EVENT_HIDDEN,\n  FLOATING,\n  EVENT_ACTION_OUTSIDE,\n  MODAL,\n  POPOVER_API_SUPPORTED,\n  POPOVER_API_MODE_MANUAL,\n} from \"../constants\";\nimport { getDataSelector, toggleHideModeState } from \"../utils\";\nimport { addEscapeHide, callAutofocus } from \"../modules\";\nimport Floating from \"../Floating.js\";\nimport { closest, focus } from \"../dom/index.js\";\n\nexport default (instance, { s, animated, silent, eventParams }) => {\n  const { transition, base, opts, toggler, emit, constructor, teleport } =\n    instance;\n  const name = constructor.NAME;\n  const target = instance[name];\n  const anchor = toggler ?? base;\n\n  s && toggleHideModeState(true, instance, target);\n\n  if (s) {\n    instance[FLOATING] = new Floating({\n      teleport,\n      base,\n      anchor,\n      target,\n      arrow: target.querySelector(getDataSelector(name, ARROW)),\n      opts,\n      hide: instance.hide,\n      defaultTopLayerOpts: instance.constructor.DefaultTopLayer,\n      name,\n      onTopLayer(type) {\n        constructor.dispatchTopLayer(type);\n      },\n    }).init();\n  }\n\n  !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams);\n\n  const wrapper = instance[FLOATING]?.wrapper;\n\n  if (!s && wrapper?.matches(\":\" + MODAL)) {\n    wrapper.close();\n    if (opts.popoverApi && POPOVER_API_SUPPORTED) {\n      wrapper.popover = POPOVER_API_MODE_MANUAL;\n      wrapper.showPopover();\n    }\n  }\n\n  const promise = transition?.run(s, animated);\n\n  if (s && opts.outsideHide) {\n    instance.on(\n      doc,\n      EVENT_ACTION_OUTSIDE,\n      (event) =>\n        !closest(event.target, [toggler ?? base, target]) &&\n        instance.hide({ event }),\n    );\n  } else {\n    instance.off(doc, EVENT_ACTION_OUTSIDE);\n  }\n\n  if (s) {\n    opts.escapeHide && addEscapeHide(instance, s, doc);\n    opts.autofocus && callAutofocus(instance);\n  } else {\n    !s && target.contains(doc.activeElement) && focus(toggler);\n  }\n\n  (async () => {\n    if (!s) {\n      if (animated) {\n        await promise;\n      }\n      if (instance.placeholder) {\n        wrapper.replaceWith(instance.placeholder);\n      }\n      instance[FLOATING]?.destroy();\n      instance[FLOATING] = null;\n      toggleHideModeState(false, instance, target);\n    }\n    emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams);\n  })();\n\n  return promise;\n};\n","import { APPEAR, EVENT_INIT } from \"../constants\";\nimport {\n  callOrReturn,\n  checkHash,\n  getBooleanDataAttrValue,\n  isShown,\n} from \"../utils\";\n\nexport default (instance, target = instance.base, stateElem = target) => {\n  const { opts, show, id } = instance;\n\n  instance.instances.set(id, instance);\n  instance.isInit = true;\n  instance.emit(EVENT_INIT);\n\n  const shown =\n    callOrReturn(\n      (opts.hashNavigation && checkHash(id)) || opts.shown,\n      instance,\n    ) ?? isShown(stateElem, opts.hideMode);\n\n  shown &&\n    show({\n      animated: !!(\n        getBooleanDataAttrValue(target, APPEAR) ??\n        opts.appear ??\n        instance._fromHTML\n      ),\n      ignoreConditions: true,\n      ignoreAutofocus: !instance._fromHTML,\n      __initial: true,\n    });\n\n  return instance;\n};\n","export default async (promise, callback) => {\n  await promise;\n  callback();\n};\n","import { createElement } from \"../utils/index.js\";\nimport {\n  AFTER,\n  BEFORE,\n  DATA_UI_PREFIX,\n  doc,\n  FIXED,\n  FOCUS,\n  FOCUSABLE_ELEMENTS_SELECTOR,\n  TABINDEX,\n} from \"../constants/index.js\";\n\nimport { focus } from \"../dom/index.js\";\n\nconst FOCUS_GUARD = FOCUS + \"-guard\";\n\nexport default class FocusGuards {\n  constructor(target, opts = {}) {\n    this.target = target;\n    this.opts = opts;\n    this.init();\n  }\n  init() {\n    const { target, opts } = this;\n\n    this.onFocus = (e) => {\n      let returnElem = opts.anchor;\n      let focusFirst = false;\n      const isGuardBefore =\n        e.target.getAttribute(DATA_UI_PREFIX + FOCUS_GUARD) === BEFORE;\n\n      if (opts.focusAfterAnchor && returnElem) {\n        if (!isGuardBefore) {\n          const globalReturnElems = [\n            ...doc.querySelectorAll(FOCUSABLE_ELEMENTS_SELECTOR),\n          ];\n          returnElem =\n            globalReturnElems[\n              globalReturnElems.findIndex((el) => el === returnElem) + 1\n            ];\n        }\n        opts.onFocusOut?.();\n        return focus(returnElem);\n      }\n\n      if (e.relatedTarget === returnElem) {\n        focusFirst = true;\n      }\n      const returnElems = target.querySelectorAll(FOCUSABLE_ELEMENTS_SELECTOR);\n      if (!focusFirst && isGuardBefore) {\n        returnElem = returnElems[returnElems.length - 1];\n      } else {\n        returnElem = returnElems[0];\n      }\n      focus(returnElem);\n    };\n\n    this.focusGuards = [BEFORE, AFTER].map((methodName) => {\n      const focusGuard = createElement(\"span\", {\n        [TABINDEX]: 0,\n        [DATA_UI_PREFIX + FOCUS_GUARD]: methodName,\n        style: `outline:none;opacity:0;position:${\n          opts.strategy ?? FIXED\n        };pointer-events:none;`,\n      });\n      target[methodName](focusGuard);\n      focusGuard.addEventListener(FOCUS, this.onFocus);\n      return focusGuard;\n    });\n  }\n  destroy() {\n    this.focusGuards.forEach((focusGuard) => {\n      focusGuard.remove();\n      focusGuard.removeEventListener(FOCUS, this.onFocus);\n    });\n  }\n}\n","import { CONFIRM, EVENT_CLICK, UI_EVENT_PREFIX } from \"../constants/index.js\";\nimport { closest } from \"../dom/index.js\";\n\nexport default (s, instance) => {\n  if (s) {\n    instance.on(instance.base, EVENT_CLICK + UI_EVENT_PREFIX, (event) => {\n      if (instance.opts[CONFIRM]) {\n        const trigger = closest(event.target, instance.opts[CONFIRM]);\n        trigger && instance.emit(CONFIRM, { event, trigger });\n      }\n    });\n  } else {\n    instance.off(instance.base, EVENT_CLICK + UI_EVENT_PREFIX);\n  }\n};\n","import {\n  OPTION_HASH_NAVIGATION,\n  PRIVATE_PREFIX,\n  UI_EVENT_PREFIX,\n} from \"../constants/index.js\";\nimport { checkHash } from \"../utils/index.js\";\n\nconst EVENT_HASHCHANGE = \"hashchange\" + UI_EVENT_PREFIX;\nexport default (instance) => {\n  if (instance.opts[OPTION_HASH_NAVIGATION]) {\n    instance[PRIVATE_PREFIX + OPTION_HASH_NAVIGATION] = true;\n    instance.on(window, EVENT_HASHCHANGE, (event) => {\n      if (checkHash(instance.id)) {\n        instance.show({ event });\n      }\n    });\n  } else if (instance[PRIVATE_PREFIX + OPTION_HASH_NAVIGATION]) {\n    instance.off(window, EVENT_HASHCHANGE);\n    instance[PRIVATE_PREFIX + OPTION_HASH_NAVIGATION] = false;\n  }\n};\n","import {\n  ROLE,\n  BUTTON,\n  ARIA_CONTROLS,\n  ARIA_EXPANDED,\n  DEFAULT_OPTIONS,\n  EVENT_BEFORE_INIT,\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDE,\n  EVENT_HIDDEN,\n  EVENT_CLICK,\n  CLASS_ACTIVE,\n  CLASS_ACTIVE_SUFFIX,\n  TOGGLER,\n  HIDE_MODE,\n  ACTION_REMOVE,\n  HIDDEN,\n  TRANSITION,\n  TELEPORT,\n  OPTION_HASH_NAVIGATION,\n  OPTION_AUTODESTROY,\n} from \"./helpers/constants\";\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\nimport { removeAttribute, setAttribute, toggleClass } from \"./helpers/dom\";\nimport {\n  normalizeToggleParameters,\n  replaceWord,\n  arrayUnique,\n  arrayFrom,\n  getEventsPrefix,\n  getOptionElems,\n  getDefaultToggleSelector,\n  toggleHideModeState,\n  updateOptsByData,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  callShowInit,\n  awaitPromise,\n  addHashNavigation,\n} from \"./helpers/modules\";\n\nconst COLLAPSE = \"collapse\";\n\nclass Collapse extends ToggleMixin(Base, COLLAPSE) {\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    eventPrefix: getEventsPrefix(COLLAPSE),\n    [OPTION_HASH_NAVIGATION]: false,\n    dismiss: true,\n    [OPTION_AUTODESTROY]: false,\n    [TOGGLER]: ({ id }) => getDefaultToggleSelector(id, true),\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [COLLAPSE + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  init() {\n    if (this.isInit) return;\n\n    this.emit(EVENT_BEFORE_INIT);\n\n    this._update();\n\n    return callShowInit(this);\n  }\n  _update() {\n    const { base, opts } = this;\n    updateOptsByData(opts, base, [\n      HIDE_MODE,\n      OPTION_HASH_NAVIGATION,\n      OPTION_AUTODESTROY,\n    ]);\n\n    this[TELEPORT] = Teleport.createOrUpdate(\n      this[TELEPORT],\n      base,\n      opts[TELEPORT],\n    )?.move(this);\n\n    if (opts[HIDE_MODE] === ACTION_REMOVE && base[HIDDEN]) {\n      toggleHideModeState(false, this);\n    }\n\n    this[TRANSITION] = Transition.createOrUpdate(\n      this[TRANSITION],\n      base,\n      opts[TRANSITION],\n      { cssVariables: true },\n    );\n\n    this.updateTriggers();\n\n    addDismiss(this);\n    addHashNavigation(this);\n  }\n  destroy(destroyOpts) {\n    // eslint-disable-next-line prefer-const\n    let { opts, togglers } = this;\n\n    if (!this.isInit) return;\n\n    this.emit(EVENT_BEFORE_DESTROY);\n\n    if (opts.a11y) {\n      const otherTogglers = arrayFrom(this.instances.values())\n        .filter((item) => item !== this)\n        .flatMap((item) => item.togglers.filter((t) => togglers.includes(t)));\n      if (otherTogglers.length) {\n        togglers = togglers.filter((toggler) => {\n          if (!otherTogglers.includes(toggler)) {\n            return true;\n          } else {\n            setAttribute(toggler, ARIA_CONTROLS, (v) =>\n              replaceWord(v, this.id),\n            );\n          }\n        });\n      }\n    }\n\n    opts.a11y && removeAttribute(togglers, ARIA_CONTROLS, ARIA_EXPANDED, ROLE);\n\n    baseDestroy(this, destroyOpts);\n\n    return this;\n  }\n\n  updateTriggers() {\n    const { opts, id } = this;\n\n    return (this.togglers = getOptionElems(this, opts[TOGGLER]).map(\n      (toggler) => {\n        if (!this.togglers?.includes(toggler)) {\n          if (opts.a11y) {\n            setAttribute(toggler, ARIA_CONTROLS, (v) =>\n              v ? arrayUnique(v.split(\" \").concat(id)).join(\" \") : id,\n            );\n            if (toggler.tagName !== BUTTON.toLowerCase()) {\n              setAttribute(toggler, ROLE, BUTTON);\n            }\n          }\n          toggleClass(\n            toggler,\n            opts[TOGGLER + CLASS_ACTIVE_SUFFIX],\n            !!this.isOpen,\n          );\n          this.on(toggler, EVENT_CLICK, (event) => {\n            event.preventDefault();\n            this.toggle(null, { trigger: toggler, event });\n          });\n        }\n        return toggler;\n      },\n    ));\n  }\n  async toggle(s, params) {\n    const { base, togglers, opts, emit, isOpen, isAnimating } = this;\n    const { awaitAnimation, a11y } = opts;\n    const { animated, silent, trigger, event, ignoreConditions } =\n      normalizeToggleParameters(params);\n\n    s ??= !isOpen;\n\n    if (!ignoreConditions && ((awaitAnimation && isAnimating) || s === isOpen))\n      return;\n\n    this.isOpen = s;\n\n    if (isAnimating && !awaitAnimation) {\n      await this[TRANSITION].cancel();\n    }\n\n    const eventParams = { trigger, event };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    s && toggleHideModeState(true, this);\n\n    !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams);\n\n    const promise = this[TRANSITION]?.run(s, animated);\n\n    a11y && setAttribute(togglers, ARIA_EXPANDED, !!s);\n    toggleClass(togglers, opts[TOGGLER + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(base, opts[COLLAPSE + CLASS_ACTIVE_SUFFIX], s);\n\n    awaitPromise(promise, () => {\n      !s && toggleHideModeState(false, this);\n      !silent && emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams);\n      if (!s && opts[OPTION_AUTODESTROY]) {\n        opts[OPTION_AUTODESTROY] && this.destroy({ remove: true });\n      }\n    });\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Collapse;\n","import {\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_BEFORE_HIDE,\n  EVENT_CLICK,\n  EVENT_KEYDOWN,\n  CLASS_ACTIVE,\n  ARIA_CONTROLS,\n  DROPDOWN,\n  CLICK,\n  KEY_ENTER,\n  KEY_SPACE,\n  KEY_END,\n  KEY_HOME,\n  KEY_ARROW_LEFT,\n  KEY_ARROW_UP,\n  KEY_ARROW_RIGHT,\n  KEY_ARROW_DOWN,\n  DEFAULT_FLOATING_OPTIONS,\n  DEFAULT_OPTIONS,\n  ARIA_EXPANDED,\n  KEY_TAB,\n  TOGGLER,\n  CLASS_ACTIVE_SUFFIX,\n  doc,\n  OPTION_TOP_LAYER,\n  HIDE_MODE,\n  TELEPORT,\n  TRANSITION,\n  TRIGGER,\n  ITEM,\n} from \"./helpers/constants\";\n\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport {\n  toggleClass,\n  removeClass,\n  removeAttribute,\n  setAttribute,\n  closest,\n} from \"./helpers/dom\";\nimport Transition from \"./helpers/Transition.js\";\nimport {\n  normalizeToggleParameters,\n  isUnfocusable,\n  getDataSelector,\n  getDefaultToggleSelector,\n  getOptionElems,\n  getOptionElem,\n  getEventsPrefix,\n  updateOptsByData,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  toggleOnInterection,\n  floatingTransition,\n  callShowInit,\n} from \"./helpers/modules\";\nimport Teleport from \"./helpers/Teleport.js\";\n\nclass Dropdown extends ToggleMixin(Base, DROPDOWN) {\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    ...DEFAULT_FLOATING_OPTIONS,\n    mode: false,\n    eventPrefix: getEventsPrefix(DROPDOWN),\n    itemClickHide: true,\n    autofocus: true,\n    items: getDataSelector(DROPDOWN + \"-\" + ITEM),\n    trigger: CLICK,\n    [TOGGLER]: null,\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [DROPDOWN + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  init() {\n    if (this.isInit) return;\n    this._update();\n\n    const { toggler, base, show, on } = this;\n\n    on(base, EVENT_KEYDOWN, this._onKeydown.bind(this));\n    on(toggler, EVENT_KEYDOWN, async (event) => {\n      const { keyCode } = event;\n\n      const arrowActivated =\n        KEY_ARROW_UP === keyCode || KEY_ARROW_DOWN === keyCode;\n      if (arrowActivated) {\n        event.preventDefault();\n      }\n      if (arrowActivated) {\n        if (!this.isOpen) {\n          await show({ event, trigger: toggler });\n        }\n      }\n      if (arrowActivated) {\n        if (this.isAnimating && !this.isOpen) return;\n        this.focusableElems[0]?.focus();\n      }\n    });\n\n    this[TELEPORT] = new Teleport(base, { disableAttributes: true });\n\n    return callShowInit(this);\n  }\n  _update() {\n    const { base, opts, on, off, hide } = this;\n    updateOptsByData(opts, base, [TRIGGER, OPTION_TOP_LAYER, HIDE_MODE]);\n\n    this[TRANSITION] = Transition.createOrUpdate(\n      this[TRANSITION],\n      base,\n      opts[TRANSITION],\n    );\n\n    this.updateToggler();\n\n    if (opts.itemClickHide) {\n      on(base, EVENT_CLICK, (event) => {\n        const trigger = closest(event.target, this.focusableElems);\n        trigger && hide({ event, trigger });\n      });\n    } else {\n      off(base, EVENT_CLICK);\n    }\n\n    toggleOnInterection(this);\n\n    addDismiss(this, base);\n  }\n  updateToggler() {\n    const { opts, id } = this;\n    const toggler = (this.toggler = getOptionElem(\n      this,\n      opts.toggler ?? getDefaultToggleSelector(id),\n    ));\n\n    if (!toggler) return;\n    opts.a11y && setAttribute(toggler, ARIA_CONTROLS, id);\n    return this;\n  }\n  get focusableElems() {\n    return getOptionElems(this, this.opts.items, this.dropdown).filter(\n      (elem) => !isUnfocusable(elem),\n    );\n  }\n  _onKeydown(event) {\n    const { keyCode } = event;\n    const isControl = [\n      KEY_ENTER,\n      KEY_SPACE,\n      KEY_END,\n      KEY_HOME,\n      KEY_ARROW_LEFT,\n      KEY_ARROW_UP,\n      KEY_ARROW_RIGHT,\n      KEY_ARROW_DOWN,\n    ].includes(keyCode);\n    const { focusableElems, hide, opts } = this;\n\n    if (!isControl && keyCode !== KEY_TAB) {\n      focusableElems\n        .find((elem) => elem.textContent.toLowerCase().startsWith(event.key))\n        ?.focus();\n      return;\n    }\n\n    const rtl = false;\n    const firstIndex = 0;\n    const lastIndex = focusableElems.length - 1;\n    const currentIndex = focusableElems.findIndex(\n      (elem) => elem === doc.activeElement,\n    );\n\n    const nextIndex = currentIndex + 1 > lastIndex ? 0 : currentIndex + 1;\n    const prevIndex = currentIndex ? currentIndex - 1 : lastIndex;\n\n    const prevCode = opts.horizontal ? KEY_ARROW_LEFT : KEY_ARROW_UP;\n    const nextCode = opts.horizontal ? KEY_ARROW_RIGHT : KEY_ARROW_DOWN;\n\n    if (isControl) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    switch (event.keyCode) {\n      case KEY_ENTER:\n      case KEY_SPACE:\n        focusableElems[currentIndex].click();\n        hide({ event, trigger: event.target });\n        break;\n      case KEY_END:\n        focusableElems[rtl ? firstIndex : lastIndex].focus();\n        break;\n      case KEY_HOME:\n        focusableElems[rtl ? lastIndex : firstIndex].focus();\n        break;\n      case prevCode:\n        focusableElems[rtl ? nextIndex : prevIndex].focus();\n        break;\n      case nextCode:\n        focusableElems[rtl ? prevIndex : nextIndex].focus();\n        break;\n    }\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n    const { opts, toggler } = this;\n    this.emit(EVENT_BEFORE_DESTROY);\n    opts.a11y && removeAttribute(toggler, ARIA_CONTROLS, ARIA_EXPANDED);\n    removeClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX]);\n    return baseDestroy(this, destroyOpts);\n  }\n\n  async toggle(s, params) {\n    const { toggler, opts, emit, transition, isOpen, isAnimating } = this;\n    const { awaitAnimation, a11y } = opts;\n    const { animated, silent, trigger, event, ignoreConditions } =\n      normalizeToggleParameters(params);\n\n    s ??= !isOpen;\n\n    if (!ignoreConditions && ((awaitAnimation && isAnimating) || s === isOpen))\n      return;\n\n    this.isOpen = s;\n\n    if (isAnimating && !awaitAnimation) {\n      await transition.cancel();\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    const promise = floatingTransition(this, {\n      s,\n      animated,\n      silent,\n      eventParams,\n    });\n\n    a11y && toggler.setAttribute(ARIA_EXPANDED, !!s);\n\n    toggleClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(toggler, opts[DROPDOWN + CLASS_ACTIVE_SUFFIX], s);\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Dropdown;\n","import {\n  DEFAULT_OPTIONS,\n  body,\n  ROLE,\n  UI_PREFIX,\n  VAR_UI_PREFIX,\n  PX,\n  CONTENT,\n  BACKDROP,\n  SCROLL,\n  WIDTH,\n  ROOT,\n  SELECTOR_ROOT,\n  ACTION_PREVENT,\n  ARIA_LABELLEDBY,\n  ARIA_DESCRIBEDBY,\n  TABINDEX,\n  HIDE_MODE,\n  EVENT_SHOW,\n  EVENT_HIDE,\n  EVENT_CLICK,\n  EVENT_MOUSEDOWN,\n  EVENT_RIGHT_CLICK,\n  EVENT_HIDE_PREVENTED,\n  EVENT_BEFORE_INIT,\n  EVENT_HIDDEN,\n  EVENT_SHOWN,\n  OPTION_GROUP,\n  TITLE,\n  NAME,\n  EVENT_BEFORE_HIDE,\n  EVENT_BEFORE_SHOW,\n  CANCEL,\n  CONFIRM,\n  CLASS_ACTIVE,\n  TOGGLER,\n  CLASS_ACTIVE_SUFFIX,\n  DIALOG,\n  doc,\n  UI_EVENT_PREFIX,\n  POPOVER_API_SUPPORTED,\n  MODAL,\n  OPTION_TOP_LAYER,\n  OPTION_PREVENT_SCROLL,\n  POPOVER,\n  POPOVER_API_MODE_MANUAL,\n  DATA_UI_PREFIX,\n  ACTION_REMOVE,\n  HIDDEN,\n  TELEPORT,\n  TRANSITION,\n  PRIVATE_OPTION_CANCEL_ON_HIDE,\n  OPTION_HASH_NAVIGATION,\n  NONE,\n  OPTION_AUTODESTROY,\n} from \"./helpers/constants\";\nimport { isString, isElement, isFunction, isDialog } from \"./helpers/is\";\nimport {\n  getElements,\n  toggleClass,\n  removeClass,\n  focus,\n  closest,\n  setAttribute,\n  removeAttribute,\n} from \"./helpers/dom\";\nimport {\n  arrayFrom,\n  getDataSelector,\n  uuidGenerator,\n  normalizeToggleParameters,\n  getEventsPrefix,\n  getDefaultToggleSelector,\n  updateModule,\n  getOptionElem,\n  updateOptsByData,\n  toggleHideModeState,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  callAutofocus,\n  addEscapeHide,\n  callShowInit,\n  awaitPromise,\n  toggleConfirm,\n  addHashNavigation,\n} from \"./helpers/modules\";\nimport Base from \"./helpers/Base\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\nimport { FocusGuards } from \"./helpers/modules/index.js\";\n\n// const DOM_ELEMENTS = [DIALOG, BACKDROP, CONTENT];\nconst CLASS_PREVENT_SCROLL =\n  UI_PREFIX + DIALOG + \"-\" + ACTION_PREVENT + \"-\" + SCROLL;\n\nconst PROPERTY_ROOT_SCROLLBAR_WIDTH =\n  VAR_UI_PREFIX + ROOT + \"-scrollbar-\" + WIDTH;\nconst ARIA_SUFFIX = {\n  [ARIA_LABELLEDBY]: TITLE,\n  [ARIA_DESCRIBEDBY]: \"description\",\n};\n\nconst updateBodyScrollbarWidth = () => {\n  return doc\n    .querySelector(SELECTOR_ROOT)\n    .style.setProperty(\n      PROPERTY_ROOT_SCROLLBAR_WIDTH,\n      window.innerWidth - doc.documentElement.clientWidth + PX,\n    );\n};\n\nclass Dialog extends ToggleMixin(Base, DIALOG) {\n  static [PRIVATE_OPTION_CANCEL_ON_HIDE] = true;\n  static DefaultGroup = {\n    name: \"\",\n    awaitPrevious: true,\n    hidePrevious: true,\n  };\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    eventPrefix: getEventsPrefix(DIALOG),\n    escapeHide: true,\n    backdropHide: true,\n    [OPTION_HASH_NAVIGATION]: false,\n    returnFocus: true,\n    preventHide: false,\n    dismiss: true,\n    preventScroll: true,\n    confirm: `[${DATA_UI_PREFIX + CONFIRM}],[${\n      DATA_UI_PREFIX + CONFIRM\n    }=\"${DIALOG}\"]`,\n    title: getDataSelector(DIALOG, ARIA_SUFFIX[ARIA_LABELLEDBY]),\n    description: getDataSelector(DIALOG, ARIA_SUFFIX[ARIA_DESCRIBEDBY]),\n    group: \"\",\n    awaitAnimation: false,\n    [CONTENT]: getDataSelector(DIALOG, CONTENT),\n    [BACKDROP]: getDataSelector(DIALOG, BACKDROP),\n    [TOGGLER]: true,\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [DIALOG + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [BACKDROP + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n\n    [OPTION_AUTODESTROY]: false,\n\n    autofocus: true,\n    focusTrap: true,\n\n    modal: true,\n    topLayer: true,\n    topLayerForce: true,\n\n    popoverApi: true,\n    safeModal: true,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n\n  _update() {\n    const { base, _fromHTML, opts, id, on } = this;\n    updateOptsByData(opts, base, [\n      MODAL,\n      BACKDROP,\n      OPTION_TOP_LAYER,\n      OPTION_PREVENT_SCROLL,\n      OPTION_HASH_NAVIGATION,\n      HIDE_MODE,\n      OPTION_GROUP,\n      OPTION_AUTODESTROY,\n    ]);\n    updateModule(this, OPTION_GROUP, NAME);\n\n    let backdrop;\n    if (isString(opts[BACKDROP])) {\n      backdrop = (opts[BACKDROP][0] === \"#\" ? doc : base).querySelector(\n        opts[BACKDROP],\n      );\n    }\n\n    this[BACKDROP] = backdrop;\n\n    this[CONTENT] = getOptionElem(this, opts[CONTENT], base);\n\n    const isDialogElem = isDialog(base);\n\n    const moveToBody = (opts.topLayer && opts.topLayerForce) || _fromHTML;\n\n    this[TELEPORT] = Teleport.createOrUpdate(\n      this[TELEPORT],\n      base,\n      moveToBody ? body : false,\n      {\n        disableAttributes: true,\n      },\n    )?.move(this);\n\n    if (opts[HIDE_MODE] === ACTION_REMOVE && base[HIDDEN]) {\n      toggleHideModeState(false, this);\n    }\n\n    this[TRANSITION] = Transition.createOrUpdate(\n      this[TRANSITION],\n      this[CONTENT],\n      opts[TRANSITION],\n    );\n\n    this._togglers =\n      opts.toggler === true ? getDefaultToggleSelector(id) : opts.toggler;\n\n    if (isDialogElem) {\n      on(base, CANCEL + UI_EVENT_PREFIX, (e) => e.preventDefault());\n    } else if (opts.a11y) {\n      setAttribute(base, TABINDEX, -1);\n      setAttribute(base, ROLE, DIALOG);\n    }\n\n    base.popover =\n      opts.topLayer &&\n      (!isDialogElem || !opts.modal) &&\n      POPOVER_API_SUPPORTED &&\n      opts.popoverApi\n        ? POPOVER_API_MODE_MANUAL\n        : null;\n\n    addHashNavigation(this);\n    addDismiss(this);\n  }\n  init() {\n    const { opts, isInit, base, on, emit, hide, toggle } = this;\n\n    if (isInit) return;\n\n    emit(EVENT_BEFORE_INIT);\n\n    this._update();\n    this.updateAriaTargets();\n\n    on(\n      base,\n      [\n        EVENT_CLICK,\n        opts.backdropHide &&\n          (opts.backdropHide?.rightClick ?? true) &&\n          EVENT_RIGHT_CLICK,\n      ],\n      (event) => {\n        if (\n          this.opts.backdropHide &&\n          !this[CONTENT].contains(event.target) &&\n          !this._mousedownTarget\n        ) {\n          hide({ event });\n          emit(CANCEL, { event });\n        }\n        this._mousedownTarget = null;\n      },\n    );\n\n    on(body, EVENT_CLICK + UI_EVENT_PREFIX, (event) => {\n      const togglers = this._togglers;\n      const trigger = isString(togglers)\n        ? event.target.closest(togglers)\n        : closest(event.target, togglers);\n      if (trigger) {\n        event.preventDefault();\n        toggle(null, { trigger, event });\n      }\n    });\n\n    return callShowInit(this);\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n\n    removeClass(this._togglers, this.opts[TOGGLER + CLASS_ACTIVE]);\n    this.opts.a11y &&\n      removeAttribute(\n        this.base,\n        TABINDEX,\n        ROLE,\n        ARIA_LABELLEDBY,\n        ARIA_DESCRIBEDBY,\n      );\n    this.focusGuards?.destroy();\n    this.focusGuards = null;\n    this.placeholder?.replaceWith(this.base);\n    baseDestroy(this, destroyOpts);\n    return this;\n  }\n\n  updateAriaTargets() {\n    const { base, opts } = this;\n    for (const name of [ARIA_LABELLEDBY, ARIA_DESCRIBEDBY]) {\n      const suffix = ARIA_SUFFIX[name];\n      let elem = opts[suffix];\n      if (isString(elem)) {\n        elem = getOptionElem(this, elem, base);\n      }\n      if (!isElement(elem)) {\n        elem = null;\n      }\n      this[suffix] = elem;\n      if (!elem) return;\n      const id = elem\n        ? (elem.id ||= uuidGenerator(DIALOG + \"-\" + suffix + \"-\"))\n        : elem;\n      setAttribute(base, name, id);\n    }\n    return this;\n  }\n  preventScroll(s) {\n    const hasPreventScrollDialogs = Dialog.shownDialogs.filter(\n      ({ opts }) => opts[OPTION_PREVENT_SCROLL],\n    ).length;\n\n    if ((s && hasPreventScrollDialogs) || (!s && !hasPreventScrollDialogs)) {\n      toggleClass(\n        body,\n        isString(this.opts[OPTION_PREVENT_SCROLL])\n          ? this.opts[OPTION_PREVENT_SCROLL]\n          : CLASS_PREVENT_SCROLL,\n        s,\n      );\n    }\n  }\n  async toggle(s, params) {\n    const {\n      opts,\n      isOpen,\n      emit,\n      on,\n      off,\n      isAnimating,\n      base,\n      content,\n      backdrop,\n    } = this;\n\n    let optReturnFocusAwait =\n      opts.returnFocus && (opts.returnFocus?.await ?? opts.group.awaitPrevious);\n\n    const {\n      animated,\n      silent,\n      trigger,\n      event,\n      ignoreConditions,\n      ignoreAutofocus,\n      __initial,\n    } = normalizeToggleParameters(params);\n\n    s = !!(s ?? !isOpen);\n\n    if (\n      !ignoreConditions &&\n      ((opts.awaitAnimation && isAnimating) || s === isOpen)\n    )\n      return;\n\n    let groupClosingFinish;\n    if (!s && opts.group) {\n      this.groupClosing = new Promise((resolve) => {\n        groupClosingFinish = resolve;\n      });\n    }\n\n    if (isAnimating && !opts.awaitAnimation) {\n      await this[TRANSITION]?.cancel();\n    }\n\n    const eventParams = { trigger, event };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    if (\n      !s &&\n      opts.preventHide &&\n      (isFunction(opts.preventHide)\n        ? !(await opts.preventHide(this, eventParams))\n        : opts.preventHide)\n    ) {\n      this.groupClosing = false;\n      return emit(EVENT_HIDE_PREVENTED);\n    }\n\n    this.isOpen = s;\n\n    toggleConfirm(s, this);\n\n    const backdropIsOpen = Dialog.shownDialogs.find(\n      (instance) => instance !== this && instance[BACKDROP] === backdrop,\n    );\n\n    const shownGroupDialogs = this.shownGroupDialogs;\n    if (s) {\n      if (shownGroupDialogs.length > 1) {\n        const promises = Promise.allSettled(\n          shownGroupDialogs\n            .filter((m) => m !== this)\n            .map((instance) => {\n              !instance.groupClosing && instance.hide();\n              return instance.groupClosing;\n            }),\n        );\n        if (opts.group.awaitPrevious) {\n          await promises;\n        }\n      }\n    } else if (!s && !shownGroupDialogs.length) {\n      optReturnFocusAwait = false;\n    }\n\n    s && toggleHideModeState(true, this);\n\n    !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams);\n\n    const promise = this[TRANSITION]?.run(s, animated);\n\n    if (s) {\n      if (opts.returnFocus) {\n        this.returnFocusElem ||= doc.activeElement;\n      }\n      this._toggleApi(true);\n    }\n\n    toggleClass(\n      getElements(this._togglers),\n      opts[TOGGLER + CLASS_ACTIVE_SUFFIX],\n      s,\n    );\n    toggleClass(base, opts[DIALOG + CLASS_ACTIVE_SUFFIX], s);\n    if (!backdropIsOpen) {\n      toggleClass(backdrop, opts[BACKDROP + CLASS_ACTIVE_SUFFIX], s);\n    }\n\n    if (__initial && !animated) {\n      backdrop.style.transition = NONE;\n      backdrop.offsetWidth;\n      backdrop.style.transition = \"\";\n    }\n\n    this.preventScroll(s);\n\n    if (!s && !optReturnFocusAwait) {\n      this._toggleApi(false);\n      this.returnFocus();\n    }\n\n    opts.escapeHide && addEscapeHide(this, s);\n\n    if (s) {\n      !ignoreAutofocus && opts.autofocus && callAutofocus(this);\n      on(content, EVENT_MOUSEDOWN + UI_EVENT_PREFIX, (e) => {\n        this._mousedownTarget = e.target;\n      });\n    } else {\n      this._mousedownTarget = null;\n      off(content, EVENT_MOUSEDOWN + UI_EVENT_PREFIX);\n      this.returnFocusElem = null;\n    }\n\n    awaitPromise(promise, () => {\n      if (!s) {\n        if (optReturnFocusAwait) {\n          this._toggleApi(false);\n          this.returnFocus();\n        }\n        toggleHideModeState(false, this);\n      }\n\n      !silent && emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams);\n\n      if (!s) {\n        opts[OPTION_AUTODESTROY] && this.destroy({ remove: true });\n        this.groupClosing = false;\n        groupClosingFinish?.();\n      }\n    });\n\n    animated && opts.awaitAnimation && (await promise);\n\n    return this;\n  }\n  _toggleApi(s) {\n    const { base, opts } = this;\n    const baseIsDialog = isDialog(base);\n    if (s) {\n      const isModal =\n        baseIsDialog &&\n        (!opts.safeModal || POPOVER_API_SUPPORTED) &&\n        opts.modal;\n      const isPopover =\n        opts.topLayer && POPOVER_API_SUPPORTED && opts.popoverApi;\n\n      if (baseIsDialog) {\n        if (isModal) {\n          if (base.open) base.close();\n          base.showModal();\n          Dialog.dispatchTopLayer(MODAL);\n        } else {\n          if (isPopover) {\n            base.showPopover();\n            base.open = true;\n            Dialog.dispatchTopLayer(POPOVER);\n          } else {\n            base.show();\n          }\n        }\n      } else if (isPopover) {\n        base.showPopover();\n        Dialog.dispatchTopLayer(POPOVER);\n      }\n      if (opts.focusTrap && !isModal) {\n        this.focusGuards = new FocusGuards(base);\n      }\n    } else {\n      base.close?.();\n      base.popover && base.hidePopover();\n      if (this.focusGuards) {\n        this.focusGuards?.destroy();\n        this.focusGuards = null;\n      }\n    }\n  }\n  returnFocus() {\n    if (this.opts.returnFocus) {\n      focus(this.returnFocusElem);\n    }\n  }\n\n  get groupDialogs() {\n    return arrayFrom(this.instances.values()).filter(\n      ({ opts }) => opts.group?.name === this.opts.group?.name,\n    );\n  }\n  static get shownDialogs() {\n    return arrayFrom(this.instances.values()).filter(({ isOpen }) => isOpen);\n  }\n  get shownGroupDialogs() {\n    return this.groupDialogs.filter(({ isOpen, opts }) => opts.group && isOpen);\n  }\n  static updateBodyScrollbarWidth() {\n    updateBodyScrollbarWidth();\n  }\n}\n\nexport default Dialog;\n","import {\n  EVENT_INIT,\n  EVENT_BEFORE_INIT,\n  EVENT_DESTROY,\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDE,\n  EVENT_HIDDEN,\n  EVENT_CLICK,\n  EVENT_KEYDOWN,\n  EVENT_FOCUS,\n  KEY_ENTER,\n  KEY_SPACE,\n  KEY_END,\n  KEY_HOME,\n  KEY_ARROW_LEFT,\n  KEY_ARROW_UP,\n  KEY_ARROW_RIGHT,\n  KEY_ARROW_DOWN,\n  ARIA_CONTROLS,\n  ARIA_LABELLEDBY,\n  ARIA_HIDDEN,\n  ARIA_EXPANDED,\n  ARIA_SELECTED,\n  ARIA_ORIENTATION,\n  ROLE,\n  BUTTON,\n  TABINDEX,\n  HIDDEN,\n  INERT,\n  DISABLED,\n  DATA_UI_PREFIX,\n  CLASS_ACTIVE,\n  ACTION_HIDE,\n  ACTION_SHOW,\n  ACTION_TOGGLE,\n  DEFAULT_OPTIONS,\n  ID,\n  HORIZONTAL,\n  VERTICAL,\n  A11Y,\n  OPTION_ARIA_HIDDEN,\n  CLASS_ACTIVE_SUFFIX,\n  ROLE_SUFFIX,\n  doc,\n  UI_PREFIX,\n  HIDE_MODE,\n  TRANSITION,\n  TELEPORT,\n  ACTION_REMOVE,\n  APPEAR,\n  OPTION_HASH_NAVIGATION,\n  ITEM,\n} from \"./helpers/constants\";\nimport Base from \"./helpers/Base.js\";\nimport {\n  isString,\n  isElement,\n  isNumber,\n  isFunction,\n  isArray,\n} from \"./helpers/is\";\nimport {\n  isUnfocusable,\n  callOrReturn,\n  getDataSelector,\n  checkHash,\n  without,\n  uuidGenerator,\n  normalizeToggleParameters,\n  getEventsPrefix,\n  kebabToCamel,\n  updateModule,\n  upperFirst,\n  getOptionElems,\n  isShown,\n  toggleHideModeState,\n  getBooleanDataAttrValue,\n  updateOptsByData,\n} from \"./helpers/utils\";\nimport {\n  toggleClass,\n  removeClass,\n  removeAttribute,\n  next,\n  focus,\n  parents,\n  setAttribute,\n} from \"./helpers/dom\";\nimport { addDismiss, awaitPromise } from \"./helpers/modules\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\n\nconst TABLIST = \"tablist\";\nconst TAB = \"tab\";\nconst TABS = \"tabs\";\nconst TABPANEL = \"tabpanel\";\nconst ACCORDION = \"accordion\";\n\nconst ELEMS = [ITEM, TAB, TABPANEL];\nconst OPTION_TAB_ROLE = TAB + ROLE_SUFFIX;\nconst OPTION_TABPANEL_ROLE = TABPANEL + ROLE_SUFFIX;\nconst OPTION_TABPANEL_TABINDEX = TABPANEL + upperFirst(TABINDEX);\nconst OPTION_ARIA_ORIENTRATION = kebabToCamel(ARIA_ORIENTATION);\nconst OPTION_STATE_ATTRIBUTE = \"stateAttribute\";\n\nconst TABLIST_SECONDARY_METHODS = [\"getTab\", \"isTab\", \"initTab\", \"initTabs\"];\n\nconst A11Y_DEFAULTS = {\n  [ACCORDION]: {\n    [ROLE]: null,\n    [OPTION_TAB_ROLE]: BUTTON,\n    [OPTION_TABPANEL_ROLE]: \"region\",\n    [OPTION_ARIA_ORIENTRATION]: true,\n    [OPTION_STATE_ATTRIBUTE]: ARIA_EXPANDED,\n    [TABINDEX]: false,\n    [OPTION_TABPANEL_TABINDEX]: false,\n  },\n  [TABS]: {\n    [ROLE]: TABLIST,\n    [OPTION_TAB_ROLE]: TAB,\n    [OPTION_TABPANEL_ROLE]: TABPANEL,\n    [OPTION_ARIA_ORIENTRATION]: true,\n    [OPTION_STATE_ATTRIBUTE]: ARIA_SELECTED,\n    [TABINDEX]: true,\n    [OPTION_TABPANEL_TABINDEX]: true,\n  },\n};\n\nclass Tablist extends Base {\n  static DefaultA11y = { ...A11Y_DEFAULTS[ACCORDION] };\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    eventPrefix: getEventsPrefix(TABLIST),\n    siblings: true,\n    alwaysExpanded: false,\n    multiExpand: false,\n    awaitAnimation: false,\n    awaitPrevious: false,\n    keyboard: true,\n    arrowActivation: false,\n    [OPTION_HASH_NAVIGATION]: false,\n    rtl: false,\n    focusFilter: null,\n    horizontal: false,\n    dismiss: false,\n    [TAB]: getDataSelector(TABLIST, TAB),\n    [TABPANEL]: getDataSelector(TABLIST, TABPANEL),\n    [ITEM]: getDataSelector(TABLIST, ITEM),\n    [TAB + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [ITEM + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [TABPANEL + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n  };\n  static _data = {};\n  static instances = new Map();\n  static get NAME() {\n    return TABLIST;\n  }\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  _update() {\n    const { base, tabs, lastShownTab, opts } = this;\n    const { a11y } = updateModule(this, A11Y, false, A11Y_DEFAULTS);\n\n    updateOptsByData(opts, base, [HIDE_MODE, OPTION_HASH_NAVIGATION]);\n\n    if (a11y) {\n      setAttribute(base, ROLE, a11y[ROLE]);\n      a11y[OPTION_ARIA_ORIENTRATION] &&\n        setAttribute(\n          base,\n          ARIA_ORIENTATION,\n          opts[HORIZONTAL] ? HORIZONTAL : VERTICAL,\n        );\n    }\n\n    const shown = lastShownTab?.index ?? opts.shown;\n\n    const tabWithState = tabs.map((tabObj, i) => {\n      const { tab, tabpanel, teleport } = tabObj;\n\n      if (a11y) {\n        removeAttribute(tab, ARIA_SELECTED, ARIA_EXPANDED);\n        setAttribute(tab, ARIA_CONTROLS, tabpanel.id);\n        setAttribute(tab, ROLE, a11y[OPTION_TAB_ROLE]);\n        setAttribute(tabpanel, ROLE, a11y[OPTION_TABPANEL_ROLE]);\n        setAttribute(tabpanel, ARIA_LABELLEDBY, tab.id);\n      }\n\n      tabObj.teleport = Teleport.createOrUpdate(\n        teleport,\n        tabpanel,\n        opts.teleport,\n      )?.move(this, tabObj);\n\n      let isOpenTabpanel;\n      if (isFunction(shown)) {\n        isOpenTabpanel = shown(tabObj);\n      } else if (isArray(shown)) {\n        isOpenTabpanel = shown.some((val) => val === i || val === tabpanel.id);\n      } else if (shown !== null) {\n        isOpenTabpanel = tabpanel.id === shown || i === shown;\n      } else {\n        isOpenTabpanel = isShown(tabpanel, opts.hideMode);\n      }\n\n      return [isOpenTabpanel, tabObj];\n    });\n    const hasSelected = tabWithState.find(([isOpen]) => isOpen);\n    if (opts.alwaysExpanded && !hasSelected) {\n      tabWithState[0][0] = true;\n    }\n    tabWithState.forEach(([isOpen, tabInstance]) => {\n      tabInstance[TRANSITION] = Transition.createOrUpdate(\n        tabInstance[TRANSITION],\n        tabInstance[TABPANEL],\n        opts[TRANSITION],\n        { cssVariables: true },\n      );\n      tabInstance.toggle(isOpen, {\n        animated:\n          getBooleanDataAttrValue(tabInstance[TABPANEL], APPEAR) ?? opts.appear,\n        silent: !isOpen,\n      });\n    });\n  }\n  init() {\n    const { id, instances, isInit, emit } = this;\n    if (isInit) return;\n\n    TABLIST_SECONDARY_METHODS.forEach(\n      (name) => (this[name] = this[name].bind(this)),\n    );\n\n    emit(EVENT_BEFORE_INIT);\n\n    this.tabs = [];\n    this.initTabs();\n\n    instances.set(id, this);\n\n    this._updateTabIndex();\n\n    this._update();\n\n    this.isInit = true;\n\n    return emit(EVENT_INIT);\n  }\n\n  destroy(deleteInstance = false, cleanStyles = true) {\n    const {\n      tablist,\n      tabs,\n      uuid,\n      opts: { a11y },\n      isInit,\n      off,\n      instances,\n      id,\n      emit,\n    } = this;\n\n    if (!isInit) return;\n\n    emit(EVENT_BEFORE_DESTROY);\n\n    off(tabs);\n\n    if (a11y) {\n      removeAttribute(\n        tablist,\n        a11y[ROLE] && ROLE,\n        a11y[OPTION_ARIA_ORIENTRATION] && ARIA_ORIENTATION,\n      );\n    }\n    tablist.id.includes(uuid) && tablist.removeAttribute(ID);\n\n    tabs.forEach((tab) => tab.destroy(cleanStyles));\n\n    this.isInit = false;\n\n    if (deleteInstance) {\n      instances.delete(id);\n    }\n\n    emit(EVENT_DESTROY);\n\n    return this;\n  }\n\n  initTabs() {\n    return getOptionElems(this, this.opts[TAB], this.tablist)\n      .map((tab) => {\n        for (const parent of parents(tab, null, this.tablist)) {\n          if (this.getTab(parent)) return;\n        }\n        return this.initTab(tab);\n      })\n      .filter(Boolean);\n  }\n  initTab(tab) {\n    if (this.getTab(tab)) return;\n\n    const { tabs, tablist, opts, shownTabs, on, off } = this;\n    const index = tabs.length;\n\n    const item = isString(opts[ITEM])\n      ? tab.closest(opts[ITEM])\n      : callOrReturn(opts[ITEM], { tablist, tab, index });\n\n    const tabpanelId = tab.getAttribute(DATA_UI_PREFIX + TABLIST + \"-\" + TAB);\n    let tabpanel = tabpanelId && doc.getElementById(tabpanelId);\n\n    if (!tabpanel && isFunction(opts[TABPANEL])) {\n      tabpanel = opts[TABPANEL]({ tablist, tab, index });\n    }\n    if (!tabpanel && opts.siblings) {\n      tabpanel = next(tab, opts[TABPANEL]);\n    }\n\n    if (!tabpanel) return;\n\n    const uuid = uuidGenerator();\n    const id = (tabpanel.id ||= TABPANEL + \"-\" + uuid);\n    tab.id ||= TAB + \"-\" + uuid;\n\n    let isOpen;\n    if (shownTabs.length && !opts.multiExpand) {\n      isOpen = false;\n    }\n    if (opts.hashNavigation && checkHash(id)) {\n      isOpen = true;\n    }\n\n    on(tab, EVENT_FOCUS, (e) => this._onTabFocus(e));\n    on(tab, EVENT_KEYDOWN, (e) => this._onTabKeydown(e));\n    on(tab, EVENT_CLICK, (event) => {\n      event.preventDefault();\n      this.toggle(event.currentTarget, null, { event, trigger: tab });\n    });\n\n    const destroy = ({ clean = true, remove = false }) => {\n      const opts = this.opts;\n      const a11y = opts.a11y;\n      if (a11y) {\n        removeAttribute(\n          tab,\n          ROLE,\n          a11y[TABINDEX] && TABINDEX,\n          ARIA_CONTROLS,\n          a11y[OPTION_STATE_ATTRIBUTE],\n        );\n        removeAttribute(\n          tabpanel,\n          ROLE,\n          a11y[OPTION_TABPANEL_TABINDEX] && TABINDEX,\n          ARIA_LABELLEDBY,\n          a11y[OPTION_ARIA_HIDDEN] && ARIA_HIDDEN,\n          HIDDEN,\n          INERT,\n        );\n      }\n\n      off(elems);\n      this.tabs = without(this.tabs, tabInstance);\n      if (clean) {\n        ELEMS.forEach((name) =>\n          removeClass(tabInstance[name], opts[name + CLASS_ACTIVE_SUFFIX]),\n        );\n        tabInstance[TRANSITION]?.destroy();\n        tabInstance[TELEPORT]?.destroy();\n      }\n      tabpanel.id.includes(uuid) && tabpanel.removeAttribute(ID);\n      tab.id.includes(uuid) && tab.removeAttribute(ID);\n\n      if (remove) {\n        elems.forEach((elem) => elem && elem.remove());\n      }\n    };\n\n    const toggleDisabled = (s = null) => {\n      const disabled = tab.toggleAttribute(DISABLED, s);\n\n      disabled && tabInstance.hide(false);\n\n      if (this.opts.alwaysExpanded) {\n        const shownTabs = this.shownTabs;\n        if (\n          !shownTabs.length ||\n          (shownTabs.length === 1 && shownTabs[0].isDisabled)\n        ) {\n          this.show(this.firstActiveTabIndex, false);\n        }\n      }\n\n      return !disabled;\n    };\n\n    const elems = [tab, item, tabpanel];\n    const tabInstance = {\n      id,\n      uuid,\n      tab,\n      item,\n      tabpanel,\n      elems,\n      index,\n      transition: opts[TRANSITION]\n        ? new Transition(tabpanel, opts[TRANSITION])\n        : undefined,\n      destroy: destroy.bind(this),\n      toggleDisabled: toggleDisabled.bind(this),\n      isOpen,\n      get isDisabled() {\n        return tab.hasAttribute(DISABLED);\n      },\n      get initialPlaceNode() {\n        return (\n          tabInstance[TELEPORT]?.placeholder ??\n          tabInstance.placeholder ??\n          tabpanel\n        );\n      },\n    };\n\n    [ACTION_HIDE, ACTION_SHOW, ACTION_TOGGLE].forEach(\n      (action) => (tabInstance[action] = this[action].bind(this, tabInstance)),\n    );\n    tabInstance.is = this.isTab.bind(this, tabInstance);\n\n    addDismiss(this, tabpanel, tabInstance.hide);\n\n    if (opts[HIDE_MODE] === ACTION_REMOVE && tabpanel[HIDDEN]) {\n      toggleHideModeState(false, this, tabpanel, tabInstance);\n    }\n\n    tabs.push(tabInstance);\n    return tabInstance;\n  }\n  isTab(tab, value) {\n    let result = false;\n    if (tab === value) {\n      result = true;\n    } else if (isElement(value)) {\n      result = tab.elems.includes(value);\n    } else if (isString(value)) {\n      result = tab.elems.some((elem) => elem.matches(value));\n    } else if (isNumber(value)) {\n      result = tab.index === value;\n    }\n    return result;\n  }\n  getTab(value) {\n    return this.tabs.find((tab) => tab.is(value));\n  }\n  _onTabFocus({ currentTarget }) {\n    const tabInstance = this.getTab(currentTarget);\n    if (!tabInstance || !this.focusFilter(tabInstance)) return;\n\n    this.opts.arrowActivation && !tabInstance.isOpen && tabInstance.show();\n\n    this.currentTabIndex = tabInstance.index;\n  }\n  _onTabKeydown(event) {\n    const tabInstance = this.getTab(event.currentTarget);\n    const currentIndex = this.tabs.indexOf(tabInstance);\n    const { keyboard, rtl, horizontal } = this.opts;\n    const { keyCode } = event;\n\n    if (\n      [KEY_ENTER, KEY_SPACE].includes(keyCode) &&\n      !/BUTTON|A/.test(tabInstance.tab.nodeName)\n    )\n      return tabInstance.toggle(null, { event, trigger: event.target });\n    if (KEY_END > keyCode || KEY_ARROW_DOWN < keyCode || !keyboard) return;\n\n    event.preventDefault();\n\n    const firstIndex = this.firstActiveTabIndex;\n    const lastIndex = this.lastActiveTabIndex;\n    const nextIndex = currentIndex + 1;\n    const prevIndex = currentIndex ? currentIndex - 1 : lastIndex;\n\n    const prevCode = horizontal ? KEY_ARROW_LEFT : KEY_ARROW_UP;\n    const nextCode = horizontal ? KEY_ARROW_RIGHT : KEY_ARROW_DOWN;\n\n    let index;\n    if (keyCode === KEY_END) {\n      index = rtl ? firstIndex : lastIndex;\n    } else if (keyCode === KEY_HOME) {\n      index = rtl ? lastIndex : firstIndex;\n    } else if (keyCode === prevCode) {\n      index = rtl ? nextIndex : prevIndex;\n    } else if (keyCode === nextCode) {\n      index = rtl ? prevIndex : nextIndex;\n    }\n    index != null && this._switchTab(index);\n  }\n  _switchTab(index) {\n    const tabs = this.tabs;\n    if (tabs[index] && !this.focusFilter(tabs[index])) {\n      this._switchTab(index > this.currentTabIndex ? index + 1 : index - 1);\n      return;\n    }\n    this.currentTabIndex =\n      index < this.firstActiveTabIndex\n        ? this.lastActiveTabIndex\n        : index >= tabs.length\n        ? this.firstActiveTabIndex\n        : index;\n\n    focus(tabs[this.currentTabIndex].tab);\n  }\n  _updateTabIndex(activeIndex) {\n    const { keyboard, a11y } = this.opts;\n    if (!keyboard || !a11y) return;\n    activeIndex ??= this.shownTabs[0]?.index ?? this.firstActiveTabIndex;\n    a11y &&\n      this.tabs.forEach(({ tab, tabpanel }, i) =>\n        setAttribute(\n          [a11y[TABINDEX] && tab, a11y[OPTION_TABPANEL_TABINDEX] && tabpanel],\n          TABINDEX,\n          i === activeIndex ? 0 : -1,\n        ),\n      );\n  }\n  focusFilter(tab) {\n    return (\n      !isUnfocusable(tab.tab) &&\n      (isFunction(this.opts.focusFilter) ? this.opts.focusFilter(tab) : true)\n    );\n  }\n  get shownTabs() {\n    return this.tabs.filter(({ isOpen }) => isOpen);\n  }\n  get firstActiveTabIndex() {\n    return this.tabs.find((tab) => this.focusFilter(tab))?.index;\n  }\n  get lastActiveTabIndex() {\n    return this.tabs.findLast((tab) => this.focusFilter(tab))?.index;\n  }\n\n  async toggle(elem, s, params) {\n    const { animated, silent, event, trigger } =\n      normalizeToggleParameters(params);\n    const tabInstance = this.getTab(elem);\n\n    if (!tabInstance) return;\n\n    const { opts, shownTabs, emit } = this;\n    const { a11y, multiExpand, awaitAnimation } = opts;\n    const { tab, isOpen, transition, index, tabpanel } = tabInstance;\n\n    s = !!(s ?? !isOpen);\n\n    s && this._updateTabIndex(index);\n\n    if (\n      s === isOpen ||\n      (awaitAnimation &&\n        transition?.isAnimating &&\n        ((shownTabs.length <= 1 && !multiExpand) || multiExpand)) ||\n      (isOpen && opts.alwaysExpanded && !s && shownTabs.length < 2) ||\n      (s && !this.focusFilter(tabInstance))\n    )\n      return;\n\n    if (transition?.isAnimating && !awaitAnimation) {\n      await transition.cancel();\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent &&\n      emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, tabInstance, eventParams);\n\n    tabInstance.isOpen = s;\n\n    if (!multiExpand && s) {\n      for (const shownTab of shownTabs) {\n        if (tabInstance !== shownTab && shownTab.isOpen) {\n          shownTab.hide(animated);\n          if (opts.awaitPrevious) await shownTab.transition?.getAwaitPromise();\n        }\n      }\n    }\n\n    if (s && !tabInstance.isOpen) return;\n\n    s && toggleHideModeState(true, this, tabpanel, tabInstance);\n\n    !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, tabInstance, eventParams);\n\n    const promise = transition?.run(s, animated);\n\n    ELEMS.forEach((elemName) =>\n      toggleClass(\n        tabInstance[elemName],\n        opts[elemName + CLASS_ACTIVE_SUFFIX],\n        s,\n      ),\n    );\n\n    if (a11y) {\n      a11y[OPTION_STATE_ATTRIBUTE] &&\n        setAttribute(tab, a11y[OPTION_STATE_ATTRIBUTE], s);\n    }\n\n    if (s) {\n      this.lastShownTab = tabInstance;\n      this.currentTabIndex ??= index;\n    }\n\n    awaitPromise(promise, () => {\n      !s && toggleHideModeState(false, this, tabpanel, tabInstance);\n      !silent && emit(s ? EVENT_SHOWN : EVENT_HIDDEN, tabInstance, eventParams);\n    });\n\n    animated && opts.awaitAnimation && (await promise);\n\n    return tabInstance;\n  }\n  show(elem, opts) {\n    return this.toggle(elem, true, opts);\n  }\n  hide(elem, opts) {\n    return this.toggle(elem, false, opts);\n  }\n  static show(elem, opts) {\n    return this.toggle(elem, true, opts);\n  }\n  static hide(elem, opts) {\n    return this.toggle(elem, false, opts);\n  }\n  static toggle(elem, s, params) {\n    for (const tablist of this.instances.values()) {\n      if (tablist.getTab(elem)) {\n        tablist.toggle(elem, s, params);\n        break;\n      }\n    }\n  }\n}\n\nTablist.data(UI_PREFIX + TABS, {\n  alwaysExpanded: true,\n  horizontal: true,\n  arrowActivation: true,\n  awaitPrevious: true,\n  a11y: TABS,\n});\n\nexport default Tablist;\n","import { nextAll } from \"./index.js\";\nexport default (elem, selector) => nextAll(elem, selector)[0];\n","import returnArray from \"./returnArray\";\nexport default (source, ...values) =>\n  returnArray(source).filter((elem) => !values.includes(elem));\n","import {\n  UI_PREFIX,\n  PROGRESS,\n  EVENT_MOUSELEAVE,\n  EVENT_MOUSEENTER,\n  EVENT_FOCUSIN,\n  EVENT_FOCUSOUT,\n  EVENT_PAUSE,\n  EVENT_RESUME,\n  EVENT_RESET,\n  ACTION_PAUSE,\n  ACTION_RESUME,\n  ACTION_RESET,\n  ACTION_TOGGLE,\n  EVENT_VISIBILITY_CHANGE,\n  doc,\n} from \"./constants\";\nimport { callOrReturn, getOption, mergeDeep, getDataSelector } from \"./utils\";\nimport { EventHandler } from \"./EventHandler\";\nimport { isNumber } from \"./is\";\n\nclass Autoaction {\n  static Default = {\n    progressElem: getDataSelector(PROGRESS),\n    duration: 5000,\n    decimal: 4,\n    durationUpdate: null,\n    pauseOnMouse: true,\n    resetOnMouse: true,\n    pauseOnFocus: true,\n    resetOnFocus: true,\n    visibilityControl: false,\n    cssVariable: UI_PREFIX + PROGRESS,\n  };\n  constructor(elem, action, opts) {\n    const Default = this.constructor.Default;\n    opts = isNumber(opts)\n      ? { ...Default, duration: opts }\n      : mergeDeep(Default, opts);\n    const { on, off, emit } = new EventHandler();\n    Object.assign(this, { elem, action, on, off, emit, opts });\n    [\n      \"checkTime\",\n      ACTION_PAUSE,\n      ACTION_RESUME,\n      ACTION_RESET,\n      ACTION_TOGGLE,\n    ].forEach((action) => (this[action] = this[action].bind(this)));\n\n    this.progressElem = getOption(false, opts.progressElem, elem);\n\n    if (opts.visibilityControl) {\n      on(doc, EVENT_VISIBILITY_CHANGE, () => this.toggle(!doc.hidden));\n    }\n  }\n  toggleInterections(s) {\n    const { opts, elem, on, off, resume, pause, reset } = this;\n    const { pauseOnMouse, resetOnMouse, pauseOnFocus, resetOnFocus } = opts;\n\n    if (!pauseOnMouse && !resetOnMouse && !pauseOnFocus && !resetOnFocus)\n      return;\n\n    if (s) {\n      reset();\n      let interactedMouse, interactedFocus;\n      if (pauseOnFocus || resetOnFocus) {\n        on(elem, [EVENT_FOCUSIN, EVENT_FOCUSOUT], ({ type }) => {\n          interactedFocus = type === EVENT_FOCUSIN;\n          if (interactedFocus) {\n            resetOnFocus && reset();\n            pauseOnFocus && pause();\n          } else if (!interactedMouse) {\n            pauseOnFocus && resume();\n          }\n        });\n      }\n      if (pauseOnMouse || resetOnMouse) {\n        on(elem, [EVENT_MOUSEENTER, EVENT_MOUSELEAVE], ({ type }) => {\n          interactedMouse = type === EVENT_MOUSEENTER;\n          if (interactedMouse) {\n            resetOnMouse && reset();\n            pauseOnMouse && pause();\n          } else if (!interactedFocus) {\n            pauseOnMouse && resume();\n          }\n        });\n      }\n    } else {\n      off();\n    }\n    return this;\n  }\n  checkTime() {\n    const { opts, elem, progressElem, paused, _prevProgress } = this;\n    if (paused) return;\n    const current = performance.now();\n    this.timeCurrent = Math.round(current - this.timeBegin);\n    const time = opts.duration - this.timeCurrent;\n    const progress = +Math.max(time / opts.duration, 0).toFixed(opts.decimal);\n    this._prevProgress = progress;\n    if (progress && progress === _prevProgress) {\n      return requestAnimationFrame(this.checkTime);\n    }\n\n    if (opts.cssVariable) {\n      progressElem?.style.setProperty(\"--\" + opts.cssVariable, progress);\n    }\n\n    callOrReturn(opts.durationUpdate, { elem, time, progress });\n\n    if (progress <= 0) {\n      this.action();\n    } else {\n      requestAnimationFrame(this.checkTime);\n    }\n  }\n  toggle(s = this.paused) {\n    return s ? this.resume() : this.pause();\n  }\n  pause() {\n    this.paused = true;\n    this.emit(EVENT_PAUSE);\n    return this;\n  }\n  resume() {\n    this.paused = false;\n    this.timeBegin = performance.now() - this.timeCurrent;\n    this.checkTime();\n    this.emit(EVENT_RESUME);\n    return this;\n  }\n  reset() {\n    this.paused = false;\n    this.timeBegin = performance.now();\n    this.checkTime();\n    this.emit(EVENT_RESET);\n    return this;\n  }\n  destroy() {\n    this.paused = true;\n    this.off();\n  }\n  static createOrUpdate(autoaction, elem, action, opts) {\n    if (autoaction) {\n      return autoaction.destroy();\n    } else if (opts !== false) {\n      return new Autoaction(elem, action, opts);\n    }\n  }\n}\n\nexport default Autoaction;\n","import {\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDE,\n  EVENT_HIDDEN,\n  body,\n  DEFAULT_OPTIONS,\n  HIDE_MODE,\n  POPOVER_API_SUPPORTED,\n  POPOVER_API_MODE_MANUAL,\n  POPOVER,\n  ACTION_REMOVE,\n  HIDDEN,\n  TRANSITION,\n} from \"./helpers/constants\";\nimport { isArray, isObject, isString } from \"./helpers/is\";\nimport { fragment, inDOM } from \"./helpers/dom\";\nimport {\n  normalizeToggleParameters,\n  arrayFrom,\n  getEventsPrefix,\n  callOrReturn,\n  getOptionElem,\n  isShown,\n  toggleHideModeState,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  awaitPromise,\n  baseDestroy,\n  callShowInit,\n} from \"./helpers/modules\";\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Autoaction from \"./helpers/Autoaction.js\";\n\nconst TOAST = \"toast\";\n\nconst positions = {};\nconst wrappers = new Map();\nconst _containers = {};\nclass Toast extends ToggleMixin(Base, TOAST) {\n  static _templates = {};\n\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    eventPrefix: getEventsPrefix(TOAST),\n    root: null,\n    container: \"\",\n    template: \"\",\n    appear: true,\n    dismiss: true,\n    limit: false,\n    limitAnimateEnter: true,\n    limitAnimateLeave: true,\n    autodestroy: true,\n    autohide: false,\n    topLayer: true,\n    keepTopLayer: true,\n    popoverApi: true,\n    shown: true,\n  };\n  constructor(elem, opts) {\n    if (isObject(elem)) {\n      opts = elem;\n      elem = null;\n    }\n    super(elem, opts);\n  }\n  _update() {\n    const { opts, base, autohide, hide } = this;\n    if (!opts.root && inDOM(base)) {\n      this.root = base.parentElement;\n    } else {\n      this.root = opts.root ? getOptionElem(this, opts.root) : body;\n    }\n    if (opts[HIDE_MODE] === ACTION_REMOVE && base[HIDDEN]) {\n      toggleHideModeState(false, this);\n    }\n\n    this[TRANSITION] = Transition.createOrUpdate(\n      this[TRANSITION],\n      base,\n      opts[TRANSITION],\n    );\n    this.autohide = Autoaction.createOrUpdate(\n      autohide,\n      base,\n      hide,\n      opts.autohide,\n    );\n\n    addDismiss(this);\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n    baseDestroy(this, { remove: true, ...destroyOpts });\n    return this;\n  }\n  init() {\n    if (this.isInit) return;\n\n    this._update();\n\n    return callShowInit(this);\n  }\n  async toggle(s, params) {\n    const {\n      transition,\n      opts: {\n        limit,\n        limitAnimateLeave,\n        limitAnimateEnter,\n        position,\n        container,\n        popoverApi,\n        topLayer,\n        keepTopLayer,\n        hideMode,\n        autodestroy,\n      },\n      autohide,\n      base,\n      root,\n      instances,\n      constructor,\n      emit,\n    } = this;\n    const { animated, silent, event, trigger } =\n      normalizeToggleParameters(params);\n\n    if (animated && transition?.isAnimating) return;\n\n    s ??= !isShown(base, hideMode);\n\n    let preventAnimation;\n\n    if (s) {\n      if (limit) {\n        const nots = arrayFrom(instances.values()).filter(\n          (instance) =>\n            instance !== this &&\n            instance.opts.position === position &&\n            instance.root === root,\n        );\n        for (let i = 0; i < nots.length; i++) {\n          if (i >= limit - 1) {\n            nots[i - (limit - 1)]?.hide(limitAnimateLeave);\n            if (!limitAnimateEnter) {\n              preventAnimation = true;\n            }\n          }\n        }\n      }\n      if (root) {\n        let to = root;\n        if (position) {\n          const wrapper = (to = constructor.getWrapper({\n            position,\n            root,\n            container,\n            keepTopLayer,\n          }));\n\n          if (POPOVER_API_SUPPORTED && popoverApi && topLayer) {\n            wrapper[POPOVER] = POPOVER_API_MODE_MANUAL;\n          } else {\n            wrapper[POPOVER] = null;\n          }\n\n          if (wrapper && wrapper.parentElement !== root) {\n            root.append(wrapper);\n          }\n          if (POPOVER_API_SUPPORTED && popoverApi && topLayer) {\n            wrapper.hidePopover();\n            wrapper.showPopover();\n          }\n        }\n        to.append(base);\n      }\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    autohide && autohide.toggleInterections(s);\n\n    s && toggleHideModeState(true, this);\n\n    !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams);\n\n    const promise = transition?.run(s, animated && !preventAnimation);\n\n    awaitPromise(promise, () => {\n      !s && toggleHideModeState(false, this);\n      !silent && emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams);\n      !s && autodestroy && this.destroy({ remove: true });\n    });\n\n    animated && (await promise);\n\n    const rootWrappers = wrappers.get(root);\n    const wrapper =\n      rootWrappers &&\n      [...rootWrappers].find(\n        (w) => w.position === position && w.container === container,\n      )?.wrapper;\n\n    if (!s && wrapper && !wrapper.children.length) {\n      if (rootWrappers) {\n        const w = [...rootWrappers].find((w) => w.wrapper === wrapper);\n        w && rootWrappers.delete(w);\n      }\n      wrapper.remove();\n    }\n\n    return this;\n  }\n\n  static getWrapper({ position, root = body, container = \"\", keepTopLayer }) {\n    let rootWrappers = wrappers.get(root);\n    if (!rootWrappers) {\n      rootWrappers = new Set();\n      wrappers.set(root, rootWrappers);\n    } else {\n      const wrapper = [...rootWrappers].find(\n        (w) => w.position === position && w.container === container,\n      );\n      if (wrapper) return wrapper.wrapper;\n    }\n\n    const containerParams = { name: container, position };\n    const wrapper = fragment(\n      isString(container)\n        ? callOrReturn(\n            _containers[container] ?? _containers[\"\"],\n            containerParams,\n          )\n        : container(containerParams),\n    );\n\n    rootWrappers.add({ wrapper, container, position, root, keepTopLayer });\n    return wrapper;\n  }\n  static addPosition(position, container = \"\") {\n    positions[container] ||= {};\n    if (isArray(position)) {\n      position.forEach((p) => this.addPosition(p, container));\n    } else if (isObject(position)) {\n      positions[container][position.name] = position;\n    }\n  }\n  static template(name, opts) {\n    if (!opts) {\n      opts = name;\n      name = \"\";\n    }\n    if (!opts) return this._templates[name];\n    this._templates[name] = opts;\n    return this;\n  }\n  static container(name, opts) {\n    if (!opts) {\n      opts = name;\n      name = \"\";\n    }\n    if (!opts) return _containers[name];\n    _containers[name] = opts;\n    return this;\n  }\n  static forceTopLayer() {\n    [...wrappers.values()].forEach((set) => {\n      set.forEach(({ wrapper, root, keepTopLayer }) => {\n        if (\n          keepTopLayer &&\n          POPOVER_API_SUPPORTED &&\n          wrapper.popover &&\n          root.contains(wrapper)\n        ) {\n          wrapper.hidePopover();\n          wrapper.showPopover();\n        }\n      });\n    });\n  }\n}\n\nexport default Toast;\n","import {\n  EVENT_BEFORE_INIT,\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_BEFORE_HIDE,\n  CLASS,\n  HOVER,\n  FOCUS,\n  TOP,\n  ANCHOR,\n  TARGET,\n  UI_PREFIX,\n  ARIA_DESCRIBEDBY,\n  DATA_UI_PREFIX,\n  DEFAULT_FLOATING_OPTIONS,\n  DEFAULT_OPTIONS,\n  OPTION_ARIA_DESCRIBEDBY,\n  TITLE,\n  CONTENT,\n  TOOLTIP,\n  CLASS_ACTIVE_SUFFIX,\n  TRANSITION,\n} from \"./helpers/constants\";\n\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport {\n  getElement,\n  setAttribute,\n  toggleClass,\n  inDOM,\n  removeAttribute,\n} from \"./helpers/dom\";\nimport Transition from \"./helpers/Transition.js\";\n\nimport {\n  normalizeToggleParameters,\n  getEventsPrefix,\n  getClassActive,\n  updateModule,\n} from \"./helpers/utils\";\nimport {\n  baseDestroy,\n  floatingTransition,\n  callShowInit,\n  toggleOnInterection,\n  addDismiss,\n} from \"./helpers/modules\";\nimport Teleport from \"./helpers/Teleport.js\";\n\nconst UI_TOOLTIP = UI_PREFIX + TOOLTIP;\n\nclass Tooltip extends ToggleMixin(Base, TOOLTIP) {\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    ...DEFAULT_FLOATING_OPTIONS,\n    delay: [200, 0],\n    eventPrefix: getEventsPrefix(TOOLTIP),\n    placement: TOP,\n    template: (content) =>\n      `<div class=\"${UI_TOOLTIP}\"><div class=\"${UI_TOOLTIP}-arrow\" data-${UI_TOOLTIP}-arrow></div><div class=\"${UI_TOOLTIP}-content\">${content}</div></div>`,\n    interactive: false,\n    removeTitle: true,\n    tooltipClass: \"\",\n    [ANCHOR + CLASS_ACTIVE_SUFFIX]: getClassActive(TOOLTIP),\n    trigger: HOVER + \" \" + FOCUS,\n    content: null,\n  };\n\n  static get BASE_NODE_NAME() {\n    return ANCHOR;\n  }\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  _update() {\n    const { tooltip, base, opts } = this;\n\n    this.transition = Transition.createOrUpdate(\n      this[TRANSITION],\n      tooltip,\n      opts[TRANSITION],\n    );\n\n    addDismiss(this, tooltip);\n\n    toggleOnInterection(this, base, tooltip);\n\n    opts.a11y && setAttribute(tooltip, TOOLTIP);\n  }\n  destroy(destroyOpts) {\n    const { isInit, anchor, tooltip, id, _cache, emit, opts } = this;\n    if (!isInit) return;\n    emit(EVENT_BEFORE_DESTROY);\n    if (opts.a11y) {\n      removeAttribute(tooltip, TOOLTIP);\n      setAttribute(anchor, ARIA_DESCRIBEDBY, (val) =>\n        val === id + \"-\" + TARGET ? _cache[OPTION_ARIA_DESCRIBEDBY] : val,\n      );\n    }\n\n    if (_cache[TITLE]) {\n      anchor[TITLE] = _cache[TITLE];\n    }\n    return baseDestroy(this, destroyOpts);\n  }\n  init() {\n    const { opts, anchor, id, isInit, emit } = this;\n\n    if (isInit) return;\n\n    emit(EVENT_BEFORE_INIT);\n\n    this._cache = { [TITLE]: anchor[TITLE] };\n\n    const target = (this.tooltip = getElement(\n      opts.template(\n        opts[CONTENT] ??\n          anchor.getAttribute(DATA_UI_PREFIX + TOOLTIP + \"-\" + CONTENT) ??\n          anchor[TITLE],\n        this,\n      ),\n    ));\n    target.id ||= id + \"-\" + TARGET;\n\n    anchor.removeAttribute(TITLE);\n    toggleClass(\n      target,\n      anchor.getAttribute(DATA_UI_PREFIX + TOOLTIP + \"-\" + CLASS) ??\n        opts.tooltipClass,\n      true,\n    );\n\n    this._update();\n\n    this.teleport = new Teleport(target, { disableAttributes: true });\n\n    return callShowInit(this, target);\n  }\n\n  async toggle(s, params) {\n    const { anchor, tooltip, id, opts, emit, _cache, isOpen, isAnimating } =\n      this;\n    const awaitAnimation = opts.awaitAnimation;\n    const { animated, trigger, silent, event, ignoreConditions } =\n      normalizeToggleParameters(params);\n\n    s ??= !isOpen;\n\n    if (\n      (!ignoreConditions &&\n        ((awaitAnimation && isAnimating) || s === isOpen)) ||\n      (!s && !inDOM(tooltip))\n    )\n      return;\n\n    this.isOpen = s;\n\n    if (isAnimating && !awaitAnimation) {\n      await this[TRANSITION].cancel();\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    const promise = floatingTransition(this, {\n      s,\n      animated,\n      silent,\n      eventParams,\n    });\n\n    if (opts.a11y) {\n      setAttribute(\n        anchor,\n        ARIA_DESCRIBEDBY,\n        s\n          ? (value) => {\n              value && (_cache[OPTION_ARIA_DESCRIBEDBY] = value);\n              return id + \"-\" + TARGET;\n            }\n          : _cache[OPTION_ARIA_DESCRIBEDBY] ?? null,\n      );\n    }\n\n    toggleClass(anchor, opts[ANCHOR + CLASS_ACTIVE_SUFFIX], s);\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Tooltip;\n","import {\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_BEFORE_HIDE,\n  CLASS_ACTIVE,\n  ARIA_CONTROLS,\n  ARIA_EXPANDED,\n  POPOVER,\n  CLICK,\n  DEFAULT_FLOATING_OPTIONS,\n  DEFAULT_OPTIONS,\n  CLASS_ACTIVE_SUFFIX,\n  TOGGLER,\n  OPTION_TOP_LAYER,\n  DATA_UI_PREFIX,\n  CONFIRM,\n  TRIGGER,\n  HIDE_MODE,\n  TRANSITION,\n  PRIVATE_OPTION_CANCEL_ON_HIDE,\n} from \"./helpers/constants\";\n\nimport {\n  toggleClass,\n  removeClass,\n  setAttribute,\n  removeAttribute,\n} from \"./helpers/dom\";\nimport {\n  normalizeToggleParameters,\n  getDefaultToggleSelector,\n  getOptionElem,\n  getEventsPrefix,\n  updateOptsByData,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  toggleOnInterection,\n  floatingTransition,\n  callShowInit,\n  toggleConfirm,\n} from \"./helpers/modules\";\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\n\nclass Popover extends ToggleMixin(Base, POPOVER) {\n  static [PRIVATE_OPTION_CANCEL_ON_HIDE] = true;\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    ...DEFAULT_FLOATING_OPTIONS,\n    mode: false,\n    eventPrefix: getEventsPrefix(POPOVER),\n    dismiss: true,\n    autofocus: true,\n    trigger: CLICK,\n    [TOGGLER]: null,\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [POPOVER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    confirm: `[${DATA_UI_PREFIX + CONFIRM}],[${\n      DATA_UI_PREFIX + CONFIRM\n    }=\"${POPOVER}\"]`,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  init() {\n    if (this.isInit) return;\n    this._update();\n\n    this.teleport = new Teleport(this.base, { disableAttributes: true });\n\n    return callShowInit(this);\n  }\n  _update() {\n    const { base, opts } = this;\n    updateOptsByData(opts, base, [TRIGGER, OPTION_TOP_LAYER, HIDE_MODE]);\n\n    this[TRANSITION] = Transition.createOrUpdate(\n      this[TRANSITION],\n      base,\n      opts[TRANSITION],\n    );\n\n    this.updateToggler();\n\n    addDismiss(this);\n    toggleOnInterection(this);\n  }\n  updateToggler() {\n    const { opts, id } = this;\n    const toggler = (this.toggler = getOptionElem(\n      this,\n      opts.toggler ?? getDefaultToggleSelector(id),\n    ));\n    if (!toggler) return;\n    opts.a11y && setAttribute(toggler, ARIA_CONTROLS, id);\n    return this;\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n    const { opts, toggler } = this;\n    this.emit(EVENT_BEFORE_DESTROY);\n    opts.a11y && removeAttribute(toggler, ARIA_CONTROLS, ARIA_EXPANDED);\n    removeClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX]);\n    return baseDestroy(this, destroyOpts);\n  }\n\n  async toggle(s, params) {\n    const { isShown, isAnimating, toggler, base, opts, emit } = this;\n    const { awaitAnimation, a11y } = opts;\n    const { animated, silent, event, ignoreConditions } =\n      normalizeToggleParameters(params);\n\n    s ??= !isShown;\n\n    if (!ignoreConditions && ((awaitAnimation && isAnimating) || s === isShown))\n      return;\n\n    this.isShown = s;\n\n    if (isAnimating && !awaitAnimation) {\n      await this[TRANSITION].cancel();\n    }\n\n    const eventParams = { event, trigger: toggler };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    a11y && toggler.setAttribute(ARIA_EXPANDED, !!s);\n\n    toggleConfirm(s, this);\n\n    const promise = floatingTransition(this, {\n      s,\n      animated,\n      silent,\n      eventParams,\n    });\n\n    toggleClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(base, opts[POPOVER + CLASS_ACTIVE_SUFFIX], s);\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Popover;\n"],"names":["cache","kebabToCamel","str","replace","match","toUpperCase","upperFirst","slice","UI","UI_PREFIX","UI_EVENT_PREFIX","VAR_UI_PREFIX","PRIVATE_PREFIX","DATA_UI_PREFIX","ACTIVE","CLASS_ACTIVE","NAME","MODE","PX","NONE","ID","WIDTH","HEIGHT","TOP","LEFT","RIGHT","BOTTOM","CENTER","START","END","DOWN","TITLE","HORIZONTAL","ABSOLUTE","FIXED","TRANSITION","TELEPORT","BUTTON","CLASS","STYLE","ROLE","ROOT","CONFIRM","CANCEL","BEFORE","AFTER","MOUSE","CLICK","HOVER","FOCUS","SCROLL","HIDE","HIDDEN","SHOW","APPEAR","TARGET","AVAILABLE","AVAILABLE_WIDTH","AVAILABLE_HEIGHT","ANCHOR","MODAL","CONTENT","ITEM","BACKDROP","POPOVER","TOOLTIP","TOGGLER","TRIGGER","DROPDOWN","ARROW","PROGRESS","DISMISS","FLOATING","DIALOG","FLIP","SHRINK","STICKY","PLACEMENT","PADDING","OFFSET","BOUNDARY_OFFSET","CLIP_PATH","ARROW_OFFSET","ARROW_PADDING","TRUE","FALSE","TOP_LAYER","doc","document","body","ENTER","LEAVE","ENTER_ACTIVE","ENTER_FROM","ENTER_TO","LEAVE_ACTIVE","LEAVE_FROM","LEAVE_TO","HIDE_MODE","DURATION","ACTION_INIT","ACTION_DESTROY","ACTION_TOGGLE","ACTION_SHOW","ACTION_HIDE","ACTION_REMOVE","ACTION_UPDATE","ACTION_PAUSE","ACTION_RESUME","ACTION_RESET","ACTION_ON","ACTION_OFF","ACTION_EMIT","ACTION_ONCE","INERT","AUTOFOCUS","TABINDEX","DISABLED","AUTO","FLOATING_DATA_ATTRIBUTE","POPOVER_API_MODE_MANUAL","PLACEHOLDER","EVENT_INIT","EVENT_BEFORE_INIT","EVENT_DESTROY","EVENT_BEFORE_DESTROY","EVENT_BEFORE_SHOW","EVENT_SHOW","EVENT_SHOWN","EVENT_BEFORE_HIDE","EVENT_HIDE","EVENT_HIDDEN","EVENT_PAUSE","EVENT_RESUME","EVENT_RESET","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","EVENT_MOUSEDOWN","EVENT_CHANGE","EVENT_CLICK","EVENT_KEYDOWN","EVENT_FOCUS","EVENT_FOCUSIN","EVENT_FOCUSOUT","EVENT_ACTION_OUTSIDE","EVENT_SCROLL","ARIA","ARIA_CONTROLS","ARIA_EXPANDED","ARIA_SELECTED","ARIA_HIDDEN","ARIA_LABELLEDBY","ARIA_DESCRIBEDBY","ARIA_ORIENTATION","ARIA_LIVE","ARIA_ATOMIC","KEY_ENTER","KEY_SPACE","KEY_END","KEY_HOME","KEY_ARROW_LEFT","KEY_ARROW_UP","KEY_ARROW_RIGHT","KEY_ARROW_DOWN","OPTION_GROUP","OPTION_PREVENT_SCROLL","OPTION_HASH_NAVIGATION","OPTION_ARIA_DESCRIBEDBY","OPTION_ARIA_HIDDEN","OPTION_TOP_LAYER","OPTION_AUTODESTROY","CLASS_ACTIVE_SUFFIX","ROLE_SUFFIX","HIDDEN_CLASS","DEFAULT_OPTIONS","init","destroy","data","on","appear","eventDispatch","eventBubble","shown","a11y","hideMode","keepPlace","transition","awaitAnimation","DEFAULT_FLOATING_OPTIONS","placement","offset","padding","delay","boundaryOffset","shrink","flip","sticky","escapeHide","outsideHide","focusTrap","topLayer","topLayerForce","popoverApi","safeModal","floatingClass","arrow","height","width","SELECTOR_DISABLED","SELECTOR_INERT","SELECTOR_ROOT","MIRROR","x","y","CLIP_PATH_PROPERTY","CSS","supports","POPOVER_API_SUPPORTED","HTMLElement","prototype","hasOwnProperty","FOCUSABLE_ELEMENTS_SELECTOR","PRIVATE_OPTION_CANCEL_ON_HIDE","isArray","Array","isElement","value","getElementsByClassName","isFunction","isHTML","RegExp","test","bind","isIterable","Symbol","iterator","isString","isNumber","isObject","constructor","Object","isDialog","elem","tagName","arrayFrom","from","arrayUnique","array","length","Set","callOrReturn","camelToKebab","toLowerCase","checkHash","id","location","hash","substring","createElement","type","props","content","class","entries","forEach","name","classes","toggleClass","addClass","style","addStyle","setAttribute","item","append","createInset","input","returnArray","top","right","bottom","left","getDataSelector","values","join","getOption","multiply","instance","option","root","params","filter","Boolean","getOptionElem","getOptionElems","min","max","Math","isOverflowElement","overflow","overflowX","overflowY","display","getComputedStyle","UNFOCUSABLE_SELECTORS","isUnfocusable","matches","mergeDeep","objects","result","object","key","undefined","normalizeToggleParameters","animated","resizeObserver","ResizeObserver","borderBoxSize","target","blockSize","inlineSize","__resizeCallback__","strToArray","separator","split","uuidGenerator","prefix","random","toString","OPTIONS_BOOLEAN","updateOptsByData","opts","dataset","names","optionName","attributeName","includes","JSON","parse","getEventsPrefix","getClassActive","getDefaultToggleSelector","DEFAULT_PREFIX","updateModule","property","defaults","defaultValue","registerProperty","valuesToArray","trim","map","parseFloat","isShown","inDOM","classList","contains","hasAttribute","toggleHideModeState","s","base","subInstance","mode","replaceWith","_floatingParent","createComment","parent","parentElement","remove","toggleAttribute","toggle","getBooleanDataAttrValue","getAttribute","getDatasetValue","datasetValue","isDataObject","setProperty","closest","selectors","getElements","find","t","dir","selector","until","utilIsFn","el","elems","is","push","flat","each","fn","isFn","i","list","focus","preventScroll","fragment","html","findSelectors","children","DOMParser","parseFromString","querySelectorAll","getElement","context","findSelf","window","unshift","nextAll","parents","removeAttribute","removeClass","cls","getBoundingClientRect","toJSON","getPropertyValue","EventHandler","this","eventsSet","_id","getNamespaces","eventFullName","event","namespace","events","deligate","_handler","_opts","capture","e","detail","handler","once","offId","isSelector","deligateTarget","addEventListener","add","args","newOpts","optsPosition","getOptsObj","arguments","removeSets","sets","set","removeEventListener","delete","off","emit","dispatchEvent","CustomEvent","Breakpoints","static","breakpoints","unit","_onResize","sort","a","b","mql","media","mq","matchMedia","instances","checkBreakpoints","ignoreConditions","breakpoint","currentData","newBreakpoint","onUpdate","getDataValue","_data","dataName","documentElement","Base","Map","BASE_NODE_NAME","Default","_templates","allInstances","components","baseElemName","template","_fromTemplate","_fromHTML","querySelector","baseOpts","uuid","eventHandler","action","_initBreakpoints","isInit","_update","eventName","eventPrefix","any","bubbles","update","get","getOrCreate","Toast","toast","forceTopLayer","ToggleMixin","isAnimating","initialPlaceNode","teleport","placeholder","hide","show","Transition","css","cssVariables","defaultOpts","promises","toggleVariables","offsetWidth","offsetHeight","rect","prop","removeProperty","toggleAnimationClasses","setClasses","animations","styles","hasStyle","hasClass","state","collectPromises","duration","promisesEvent","promisesAnimation","Promise","resolve","getAnimations","allSettled","finished","promisesDuration","isNaN","setTimeout","cancel","animation","getAwaitPromise","async","Teleport","to","position","disableAttributes","move","toParameters","before","insertAdjacentElement","reset","addDismiss","preventDefault","stopPropagation","eventParams","trigger","addEscapeHide","keyCode","stop","callAutofocus","autofocus","focusElem","activeElement","baseDestroy","keepInstance","PREFIX","toggleOnInterection","toggler","triggerClick","triggerHover","triggerFocus","hoverTimer","isMouseDown","clearTimeout","requestAnimationFrame","isFocus","entered","d","syntax","inherits","head","appendChild","ResetFloatingCssVariables","Floating","anchor","onTopLayer","defaultTopLayerOpts","assign","anchorScrollParents","anchorStyles","targetStyles","v","usePopoverApi","inTopLayer","moveToRoot","useFocusGuards","wrapper","createWrapper","shiftKey","wrapperStyle","arrowPadding","arrowOffset","wrapperComputedStyle","polygonValues","valueEnd","splice","computedValues","next","collectCssVariables","anchorRect","targetRect","arrowData","size","minHeight","minWidth","prevTop","pendingUpdate","updatePosition","offsetLeft","offsetTop","viewRect","visualViewport","baseM","baseS","hor","dirS","minRect","useFlipM","useFlipS","calculate","m","isStart","isEnd","isCenter","isMainDir","sumPadding","mirrorSize","mirrorDirS","anchorSpace","awailableSizesOffset","awailableSizes","currentSize","mo","so","staticSo","shift","transformOrigin","arrowPosition","getPosition","scrollY","scrollX","abs","translate","observe","box","observeResize","_toggleApi","passive","wrapperIsDialog","isModal","isPopover","popover","open","close","showModal","showPopover","focusGuards","FocusGuards","focusAfterAnchor","strategy","onFocusOut","zIndex","margin","background","maxWidth","maxHeight","pointerEvents","justifyContent","alignItems","inset","willChange","attributes","interactive","after","unobserve","hidePopover","floatingTransition","silent","DefaultTopLayer","dispatchTopLayer","promise","run","callShowInit","stateElem","hashNavigation","ignoreAutofocus","__initial","awaitPromise","callback","FOCUS_GUARD","onFocus","returnElem","focusFirst","isGuardBefore","globalReturnElems","findIndex","relatedTarget","returnElems","methodName","focusGuard","toggleConfirm","EVENT_HASHCHANGE","addHashNavigation","COLLAPSE","Collapse","dismiss","super","createOrUpdate","updateTriggers","destroyOpts","togglers","otherTogglers","flatMap","replaceWord","word","w","concat","isOpen","Dropdown","itemClickHide","items","_onKeydown","arrowActivated","focusableElems","updateToggler","dropdown","isControl","textContent","startsWith","lastIndex","currentIndex","nextIndex","prevIndex","prevCode","horizontal","nextCode","click","CLASS_PREVENT_SCROLL","PROPERTY_ROOT_SCROLLBAR_WIDTH","ARIA_SUFFIX","Dialog","awaitPrevious","hidePrevious","backdropHide","returnFocus","preventHide","confirm","title","description","group","modal","backdrop","isDialogElem","moveToBody","_togglers","updateAriaTargets","rightClick","_mousedownTarget","suffix","hasPreventScrollDialogs","shownDialogs","optReturnFocusAwait","await","groupClosingFinish","groupClosing","backdropIsOpen","shownGroupDialogs","returnFocusElem","baseIsDialog","groupDialogs","innerWidth","clientWidth","TABLIST","TAB","TABS","TABPANEL","ACCORDION","ELEMS","OPTION_TAB_ROLE","OPTION_TABPANEL_ROLE","OPTION_TABPANEL_TABINDEX","OPTION_ARIA_ORIENTRATION","OPTION_STATE_ATTRIBUTE","TABLIST_SECONDARY_METHODS","A11Y_DEFAULTS","Tablist","siblings","alwaysExpanded","multiExpand","keyboard","arrowActivation","rtl","focusFilter","tabs","lastShownTab","index","tabWithState","tabObj","tab","tabpanel","isOpenTabpanel","some","val","hasSelected","tabInstance","initTabs","_updateTabIndex","deleteInstance","cleanStyles","tablist","getTab","initTab","shownTabs","tabpanelId","getElementById","_onTabFocus","_onTabKeydown","currentTarget","clean","source","without","toggleDisabled","disabled","isDisabled","firstActiveTabIndex","isTab","currentTabIndex","indexOf","nodeName","firstIndex","lastActiveTabIndex","_switchTab","activeIndex","findLast","shownTab","elemName","Autoaction","progressElem","decimal","durationUpdate","pauseOnMouse","resetOnMouse","pauseOnFocus","resetOnFocus","visibilityControl","cssVariable","hidden","toggleInterections","resume","pause","interactedMouse","interactedFocus","checkTime","paused","_prevProgress","current","performance","now","timeCurrent","round","timeBegin","time","progress","toFixed","autoaction","TOAST","positions","wrappers","_containers","container","limit","limitAnimateEnter","limitAnimateLeave","autodestroy","autohide","keepTopLayer","preventAnimation","nots","getWrapper","rootWrappers","containerParams","p","addPosition","UI_TOOLTIP","Tooltip","removeTitle","tooltipClass","tooltip","_cache","Popover"],"mappings":"sPAAA,MAAMA,EAAQ,CAAA,EACC,IAAAC,EAAA,CAACC,EAAM,KACpBF,EAAME,KACLF,EAAME,GAAOA,EAAIC,QAAQ,OAAQC,GAAUA,EAAM,GAAGC,iBCHvD,MAAML,EAAQ,CAAA,EACC,IAAAM,EAAA,CAACJ,EAAM,KACpBF,EAAME,KAASF,EAAME,GAAOA,EAAI,GAAGG,cAAgBH,EAAIK,MAAM,ICCxD,MAAMC,EAAK,KACLC,EAAYD,MACZE,EAAkB,MAClBC,EAAgB,KAAOF,EACvBG,EAAiB,IAEjBC,EADc,QACiBJ,EAC/BK,EAAS,SACTC,EAAeN,EAAYK,EAG3BE,EAAO,OACPC,EAAO,OAEPC,EAAK,KACLC,EAAO,OACPC,EAAK,KAELC,EAAQ,QACRC,EAAS,SACTC,EAAM,MACNC,EAAO,OACPC,EAAQ,QACRC,EAAS,SACTC,EAAS,SACTC,EAAQ,QACRC,EAAM,MAENC,EAAO,OAIPC,EAAQ,QAERC,EAAa,aAEbC,EAAW,WACXC,EAAQ,QACRC,EAAa,aACbC,EAAW,WAGXC,EAAS,SAGTC,EAAQ,QACRC,EAAQ,QAERC,EAAO,OACPC,EAAO,OACPC,EAAU,UACVC,EAAS,SAETC,EAAS,SACTC,EAAQ,QAERC,EAAQ,QAERC,EAAQ,QACRC,EAAQ,QACRC,EAAQ,QACRC,EAAS,SAETC,EAAO,OACPC,EAAS,SACTC,EAAO,OAEPC,EAAS,SAETC,EAAS,SACTC,EAAY,YACZC,GAAkBD,EAAY,IAAMnC,EACpCqC,GAAmBF,EAAY,IAAMlC,EACrCqC,GAAS,SAITC,GAAQ,QACRC,GAAU,UACVC,GAAO,OACPC,GAAW,WACXC,GAAU,UACVC,GAAU,UACVC,GAAU,UACVC,GAAU,UAEVC,GAAW,WACXC,GAAQ,QACRC,GAAW,WACXC,GAAU,UACVC,GAAW,WACXC,GAAS,SAETC,GAAO,OACPC,GAAS,SACTC,GAAS,SACTC,GAAY,YACZC,GAAU,UACVC,GAAS,SACTC,GAAkB,YAAcD,GAEhCE,GAAY,YACZC,GAAeb,GAAQ,IAAMU,GAC7BI,GAAgBd,GAAQ,IAAMS,GAC9BM,GAAO,OACPC,GAAQ,QACRC,GAAY,YAEZC,GAAMC,SACNC,GAAOF,GAAIE,KAEXC,GAAQ,QACRC,GAAQ,QACgBrF,EAAWoF,IACzC,MAAME,GAAeF,GAAQpF,EAAWQ,GAClC+E,GAAaH,GAAQ,OACrBI,GAAWJ,GAAQ,KACGpF,EAAWoF,IACTpF,EAAWqF,IACzC,MAAMI,GAAeJ,GAAQrF,EAAWQ,GAClCkF,GAAaL,GAAQ,OACrBM,GAAWN,GAAQ,KACGrF,EAAWqF,IACvC,MAAMO,GAAY/C,EAAO7C,EAAWW,GAC9BkF,GAAW,WACiB7F,EAAWoF,IACXpF,EAAWqF,IAE7C,MAAMS,GAAc,OACdC,GAAiB,UACjBC,GAAgB,SAChBC,GAAclD,EACdmD,GAAcrD,EAEdsD,GAAgB,SAChBC,GAAgB,SAChBC,GAAe,QACfC,GAAgB,SAChBC,GAAe,QACfC,GAAY,KACZC,GAAa,MACbC,GAAc,OACdC,GAAc,OAGdC,GAAQ,QACRC,GAAY,YACZC,GAAW,WACXC,GAAW,WACXC,GAAO,OAEPC,GAA0B1G,EAAiB2D,GAE3CgD,GAA0B,SAE1BC,GAAc,cAEdC,GAAatB,GACbuB,GAAoB/E,EAAStC,EAAWoH,IACxCE,GAAgBvB,GAChBwB,GAAuBjF,EAAStC,EAAWsH,IAC3CE,GAAoBlF,EAAStC,EAAW+C,GACxC0E,GAAa1E,EACb2E,GAjGQ,QAkGRC,GAAoBrF,EAAStC,EAAW6C,GACxC+E,GAAa/E,EACbgF,GAAe/E,EACfgF,GAAczB,GACd0B,GAAezB,GACf0B,GAAczB,GACd0B,GAAmBzF,EAAQ4C,GAC3B8C,GAAmB1F,EAAQ6C,GAE3B8C,GAAkB3F,EAAQhB,EAE1B4G,GAAe,SAGfC,GAAc5F,EACd6F,GApIM,MAoIgB9G,EAEtB+G,GAAc5F,EACd6F,GAAgB7F,EAzJX,KA0JL8F,GAAiB9F,EAzJX,MA6JN+F,GAAuB,GAAGL,2BAC1BM,GAAe/F,EAKfgG,GAAO,OACPC,GAAgBD,GAAO,YACvBE,GAAgBF,GAAO,YACvBG,GAAgBH,GAAO,YACvBI,GAAcJ,GAAO,IAAM9F,EAE3BmG,GAAkBL,GAAO,cACzBM,GAAmBN,GAAO,eAC1BO,GAAmBP,GAAO,eAE1BQ,GAAYR,GAAO,QACnBS,GAAcT,GAAO,UAErBU,GAAY,GAEZC,GAAY,GACZC,GAAU,GACVC,GAAW,GAEXC,GAAiB,GACjBC,GAAe,GACfC,GAAkB,GAClBC,GAAiB,GAGjBC,GAAe,QAEfC,GAAwB,gBACxBC,GAAyB,iBAEArK,EAAasJ,IAC5C,MAAMgB,GAA0BtK,EAAauJ,IAChBvJ,EAAamJ,IACbnJ,EAAaoJ,IACbpJ,EAAakJ,IAC1C,MAAMqB,GAAqBvK,EAAaqJ,IACfrJ,EAAayJ,IACXzJ,EAAa0J,IACxC,MAAMc,GAAmB,WACnBC,GAAqBpD,GAAOjB,GAC5BsE,GAAsB,cACtBC,GAActK,EAAWkC,GAEzBqI,GAAepK,EAAY2C,EAG3B0H,GAAkB,CAC7BC,MAAM,EACNC,SAAS,EACTC,KAAM,GACNC,GAAI,KACJC,OAAQ,KACRC,eAAe,EACfC,aAAa,EACbC,MAAO,KACPC,MAAM,EACNC,SAAUpI,EACVqI,WAAW,EACXC,YAAY,EACZC,gBAAgB,GAGLC,GAA2B,CACtCD,gBAAgB,EAChBE,UAAWnK,EACXoK,OAAQ,EACRC,QAAS,EACTC,MAAO,IACPC,eAAgB,EAChBC,QAAQ,EACRC,MAAM,EACNC,QAAQ,EACRC,YAAY,EACZC,aAAa,EACbC,WAAW,EACXC,UAAU,EACVC,eAAe,EACfC,YAAY,EACZC,WAAW,EACXC,cAAe,GACftB,OAAO,EACPuB,MAAO,CACLC,OAAQ,KACRC,MAAO,KACPjB,OAAQ,EACRC,QAAS,IAKAiB,GAAoB,IAAI3F,MACxB4F,GAAiB,IAAI/F,MAErBgG,GAAgB,IAAMzK,EAEtB0K,GAAS,CACpB5L,CAACA,GAAMG,EACPA,CAACA,GAASH,EACVC,CAACA,GAAOC,EACRA,CAACA,GAAQD,EACTI,CAACA,GAAQC,EACTA,CAACA,GAAMD,EACPP,CAACA,GAAQC,EACTA,CAACA,GAASD,EACV+L,EAAG,IACHC,EAAG,KAGQC,GAAqBC,IAAIC,SAASvI,GAAY,IAAM9D,GAC7D8D,GA1MyB,WA2MTA,GAEPwI,GACXC,YAAYC,UAAUC,eAAe5J,IAE1B6J,GAA8B,iOAAiOhN,iBAE/PiN,GAAgClN,gBCzT9B,IAAAmN,GAAAC,MAAMD,QCANE,GAACC,GAAUA,KAAWA,EAAMC,uBCA3CC,GAAgBF,GAA2B,mBAAVA,ECAlBG,GAAAC,OAAOX,UAAUY,KAAKC,KAAK,gBCC1CC,GAAgBP,GAAUA,KAAWA,EAAMQ,OAAOC,YAAcC,GAASV,GCDzEW,GAAgBX,GAA2B,iBAAVA,ECAlBY,GAACZ,GAAUA,GAASA,EAAMa,cAAgBC,OCAzDJ,GAAgBV,GAA2B,iBAAVA,ECAjCe,GAAgBC,GAA2B,WAAlBA,GAAMC,QCAhBC,GAAApB,MAAMqB,KCCrBC,GAAgBC,GACdA,EAAMC,OAAS,EAAIJ,GAAU,IAAIK,IAAIF,IAAUA,ECDjDG,GAAe,CAACxB,KAAUjD,IAAUmD,GAAWF,GAASA,KAASjD,GAAQiD,ECDzE,MAAMlO,GAAQ,CAAA,EACC,IAAA2P,GAAA,CAACzP,EAAM,KACpBF,GAAME,KACLF,GAAME,GAAOA,EAAIC,QAAQ,kBAAmB,SAASyP,eCHxDC,GAAgBC,GAAOC,SAASC,KAAKC,UAAU,KAAOH,ECIvCI,GAAA,CAACC,EfwCG,MexCSC,KAAUC,KACpC,MAAMnB,EAAO3J,GAAI2K,cAAcC,GAoB/B,OAnBIC,IACExB,GAASwB,KACXA,EAAQ,CAAEE,MAAOF,IAEnBpB,OAAOuB,QAAQH,GAAOI,SAAQ,EAAEC,EAAMvC,MAChCuC,IAASnO,ECVJ,EAAC4M,EAAMwB,KAAYC,GAAYzB,EAAMwB,GAAS,EAAK,EDW1DE,CAAS1B,EAAMhB,GACNuC,IAASlO,EACdqM,GAASV,GACXgB,EAAK2B,MAAQ3C,EAEb4C,GAAS5B,EAAMhB,GAGjB6C,GAAa7B,EAAMS,GAAac,GAAOvC,EACxC,KAGLmC,EAAQG,SAASQ,GAASA,GAAQ9B,EAAK+B,OAAOD,KACvC9B,CAAI,EExBbgC,GAAe,CAACC,EAAOC,KACrB,IAAIC,EAAM,EACRC,EAAQ,EACRC,EAAS,EACTC,EAAO,EAyBT,OAxBI3C,GAASsC,GACXE,EAAMC,EAAQC,EAASC,EAAOL,EACrBpD,GAAQoD,GACI,IAAjBA,EAAM3B,OACR6B,EAAMC,EAAQC,EAASC,EAAOL,EAAM,GACV,IAAjBA,EAAM3B,QACf6B,EAAME,EAASJ,EAAM,GACrBG,EAAQE,EAAOL,EAAM,IACK,IAAjBA,EAAM3B,QACf6B,EAAMF,EAAM,GACZG,EAAQE,EAAOL,EAAM,GACrBI,EAASJ,EAAM,KAEfE,EAAMF,EAAM,GACZG,EAAQH,EAAM,GACdI,EAASJ,EAAM,GACfK,EAAOL,EAAM,IAENrC,GAASqC,KAClBE,EAAMF,EAAME,KAAO,EACnBC,EAAQH,EAAMG,OAAS,EACvBC,EAASJ,EAAMI,QAAU,EACzBC,EAAOL,EAAMK,MAAQ,GAEnBJ,EACK,CAACC,EAAKC,EAAOC,EAAQC,GAErB,CAAEH,MAAKC,QAAOC,SAAQC,OAC9B,ECjCHC,GAAe,IAAIC,IAAW,IAAI7Q,EAAiB6Q,EAAOC,KAAK,QCGhD,SAAAC,GAAUC,EAAUC,EAAUC,EAAQC,EAAOzM,MAAQ0M,GAClE,GAAKF,EAKL,OAJAA,EAASrC,GAAaqC,EAAQD,KAAaG,GACvCrD,GAASmD,KACXA,EAASC,EAAKH,EAAW,mBAAqB,iBAAiBE,IAE1DF,EAAWT,GAAYW,GAAQG,OAAOC,SAAWJ,CAC1D,CCVe,IAAAK,GAAA,IAAIH,IAAWL,IAAU,KAAUK,GCAnCI,GAAA,IAAIJ,IAAWL,IAAU,KAASK,GCgBjD,MAAMK,IAAEA,GAAGC,IAAEA,IAAQC,KCjBN,IAAAC,GAACvD,IACd,MAAMwD,SAAEA,EAAQC,UAAEA,EAASC,UAAEA,EAASC,QAAEA,GAAYC,iBAAiB5D,GACrE,OACG,kBAAkBX,KAAKsE,IACxB,kCAAkCtE,KAAKmE,EAAWE,EAAYD,EAC9D,ECJJ,MAAMI,GAAwB,GAAG/F,MAAqBC,KACvC,IAAA+F,GAAC9D,GAASA,EAAK+D,QAAQF,ICDvB,SAASG,MAAaC,GACnC,MAAMC,EAAS,CAAA,EACf,IAAK,MAAMC,KAAUF,EAAQjB,OAAOC,SAClC,IAAK,MAAOmB,EAAKpF,KAAUc,OAAOuB,QAAQ8C,GACpCvE,GAASsE,EAAOE,IAClBF,EAAOE,GAAOxE,GAASZ,GAASgF,GAAUE,EAAOE,GAAMpF,GAASA,EACvDH,GAAQqF,EAAOE,IACxBF,EAAOE,GAAOvF,GAAQG,GAAS,IAAIkF,EAAOE,MAASpF,GAASA,OACzCqF,IAAVrF,IACTkF,EAAOE,GAAOpF,GAIpB,OAAOkF,CACT,CCde,IAAAI,GAAA,CAACC,GAAW,IACzB3E,GAAS2E,GAAY,CAAEA,UAAU,KAASA,GAAa,CAAEA,YCF3D,MAAMC,GAAiB,IAAIC,gBAAgBpD,IACzC,IAAK,MAAMqD,cAAEA,EAAaC,OAAEA,KAAYtD,EAAS,CAC/C,MAAMuD,UAAEA,EAASC,WAAEA,GAAeH,EAAc,GAChDC,EAAOG,mBAAmBD,EAAYD,EACvC,KCJY,ICEf1C,GAAgBlC,QACLqE,IAATrE,EAAsBT,GAAWS,GAAQE,GAAUF,GAAQ,CAACA,GAAS,GCFvE+E,GAAe,CAAC/T,EAAM,GAAIgU,EAAY,MACpChU,GAAO6N,GAAQ7N,GAAOA,EAAMA,EAAIiU,MAAMD,IAAYhC,OAAOC,SAAW,GCFvDiC,GAAA,CAACC,EAAS,KACvBA,EAAS7B,KAAK8B,SAASC,SAAS,IAAItE,UAAU,EAAG,ICY5C,MAAMuE,GAAkB,CAC7BlR,EACAmH,GACAJ,GACAC,GACA1G,GACA8G,IAEa,IAAA+J,GAAA,CAACC,GAAQC,WAAWC,KACjCA,EAAMpE,SAASC,IACb,IAAIoE,EAAapE,EACbqE,EAAgBrE,EAChB1C,GAAQ0C,KACVoE,EAAapE,EAAK,GAClBqE,EAAgBrE,EAAK,IAEvB,IAAIvC,EAAQyG,EAAQnU,EAAKF,EAAWwU,SACLvB,IAAVrF,IAEfsG,GAAgBO,SAASF,GAC3B3G,EACY,KAAVA,GAAgBA,IAAU9I,IAEtB8I,IAAU7I,SAEVkO,EACGrF,GAAsB,MAAbA,EAAM,KACxBA,EAAQ8G,KAAKC,MAAM/G,SAGPqF,IAAVrF,IACFwG,EAAKG,GAAc3G,GAEtB,IAEIwG,GC/CTQ,GAAgBzE,GAAShQ,EAAYgQ,EAAO,ICA5C0E,GAAgB1E,GAAShQ,GAAagQ,EAAOA,EAAO,IAAM,IAAM3P,ECAjDsU,GAAA,CAACtF,EAAI+B,IAClB,IAAIhR,EAAiByF,KACnBuL,EAAW,IAAM,OACd/B,eAAgBA,MCDvB,MAAMuF,GAAiB/U,EpCUA,WoCTvB,IAAAgV,GAAe,EAAGZ,OAAM3F,eAAe0B,EAAM8E,GAAW,EAAOC,KAC7D,MAAMC,EAAe1G,EAAYsG,GAAiB/U,EAAWmQ,IAC7D,IAAIvC,EAAQwG,EAAKjE,GAYjB,OAXI+E,GAAYtH,GAASU,GAASV,KAChCA,EAAQsH,EAAStH,IAEfY,GAASZ,GACXwG,EAAKjE,GAAQ,IAAKgF,KAAiBvH,GAC1BA,IACTwG,EAAKjE,GAAQ,IAAKgF,GACdF,IACFb,EAAKjE,GAAM8E,GAAYrH,IAGpBwG,CAAI,ECCb,MAAMgB,GAAmBnI,IAAImI,iBAE7B,ICrBAC,GAAe,EAAGzH,WAAYA,EAAM0H,OAAOzB,MAAM,KAAK0B,IAAIC,YCG1DC,GAAe,CAAC7G,EAAM1D,IACbA,IAAa/E,GAChBuP,GAAM9G,GACN1D,IAAalJ,GACZ4M,EAAK+G,UAAUC,SAASrL,KACxBqE,EAAKiH,aAAa3K,GCKV4K,GAAA,CACbC,EACAvE,EACA+B,EAAS/B,EAASwE,KAClBC,EAAczE,KAEd,MAAM4C,EAAO5C,EAAS4C,KAChB8B,EAAO9B,EAAKxO,IAClB,GAAIsQ,IAAS/P,GACX,GAAI4P,EACE3B,EAAKjJ,WACP8K,EAAY9O,KAAcgP,YAAY5C,GACtC0C,EAAY9O,IAAe,MAE3B8O,EAAYG,iBAAiBzF,OAAO4C,QAGtC,GAAIa,EAAKjJ,UACPoI,EAAO4C,YACJF,EAAY9O,MAAiBlC,GAAIoR,cAChClW,EAAYgH,GAAc,IAAMoM,EAAO/D,SAGtC,CACL,MAAM8G,EAAS/C,EAAOgD,cAClBD,IACFL,EAAYG,gBAAkBE,EAAOT,aACnC5O,IAEEqP,EAAOC,cACPD,EACJ/C,EAAOiD,SAEV,MAEMN,IAASlU,GAClBuR,EAAOkD,gBAAgBP,GAAOH,GAGhCxC,EAAOoC,UAAUe,OACfnM,KACEwL,GAAKG,IAAS/P,IAAiB+P,IAASpT,IAGxCiT,IACFxC,EAAOzQ,IAAU,EAClB,ECzDH6T,GAAe,CAAC/H,EAAMuB,KACpB,MAAMvC,EAAQgB,EAAKgI,aAAarW,EAAiB4P,GACjD,OAAiB,OAAVvC,EAAiBA,EAAQA,IAAU7I,EAAK,ECFjD8R,GAAe,CAACjI,EAAMuB,EAAM8E,KAC1B,IAAI6B,EAAelI,EAAKgI,aAAarW,EAAiB4P,IAAOmF,QAAU,GACvE,MAAMyB,EAAmC,MAApBD,EAAa,GAQlC,OAPIA,IACEC,EACFD,EAAepC,KAAKC,MAAMmC,GACjB7B,IACT6B,EAAe,CAAE7B,CAACA,GAAW6B,KAG1B7B,EAAW6B,EAAe,CAACA,EAAcC,EAAa,ECVhD,SAASvG,GAAS5B,EAAMuB,EAAMvC,GAC3C,GAAIO,GAAWS,GACbA,EAAKsB,SAAStB,GAAS4B,GAAS5B,EAAMuB,EAAMvC,UAE5C,GAAIY,GAAS2B,GACX,IAAK,MAAM6C,KAAO7C,EAAMK,GAAS5B,EAAMoE,EAAK7C,EAAK6C,SAEjDpE,EAAK2B,MAAMyG,YAAY3H,GAAac,GAAOvC,EAGjD,CCXe,IAAAqJ,GAAA,CAACrI,EAAMsI,IACpBC,GAAYD,GAAWE,MAAMC,GAAMA,IAAMzI,GAAQyI,EAAEzB,SAAShH,KCC/C0I,GAAA,CAAC1I,EAAMqG,EAAUsC,EAAUC,KACxC,MAAMC,EAAW3J,GAAW0J,GAC5B,OAAOjC,GAAI3G,GAAO8I,IAChB,MAAMC,EAAQ,GACd,KAAOD,GAEL,GADAA,EAAKA,EAAGzC,GACA,CACN,GAAIuC,IAAUC,EAAWD,EAAME,GAAME,GAAGF,EAAIF,IAAS,MACrDG,EAAME,KAAKH,EACZ,CAEH,OAAO9F,GAAO+F,EAAOJ,EAAS,IAC7BO,MAAM,ECdXC,GAAe,CAACJ,EAAOK,MACrBL,EAAQR,GAAYQ,IACdzH,QAAQ8H,GACPL,GCAT/F,GAAe,CAAC+F,EAAOJ,KACrB,MAAMU,EAAOnK,GAAWyJ,GAExB,OADAI,EAAQ7I,GAAU6I,GACXJ,EACHI,EAAM/F,QAAO,CAAChD,EAAMsJ,EAAGC,IACrBF,EAAOV,EAAS3I,EAAMsJ,EAAGC,GAAQP,GAAGhJ,EAAM2I,KAE5CI,CAAK,ECXIS,GAAA,CAACxJ,EAAMwF,EAAO,CAAEiE,eAAe,KAC5CzJ,GAAQA,EAAKwJ,MAAMhE,GCCrBkE,GAAe,CAACC,EAAMC,KACpB,IAAIC,EAAWF,EACf,GAAIjK,GAASiK,GAAO,CAClB,MACMtT,GADS,IAAIyT,WACAC,gBAAgBJ,EAAM,aACzC,GAAIC,EACF,OAAO1J,GAAU7J,EAAI2T,iBAAiBJ,IAExCC,EAAWxT,EAAIE,KAAKsT,QACrB,CACD,OAAOA,EACHA,EAASvJ,OAAS,EAChBJ,GAAU2J,GACVA,EAAS,GACX,EAAE,ECfRI,GAAe,CAACtB,EAAUuB,EAASC,IACjC5B,GAAYI,EAAUuB,EAASC,GAAU,GCI5B,SAAS5B,GAAYI,EAAUuB,EAAU7T,GAAK8T,GAAW,GACtE,GAAIpL,GAAU4J,GACZ,MAAO,CAACA,GAEV,IAAIzE,EAASyE,EAIb,OAHIjJ,GAASwK,KACXA,EAAUD,GAAWC,IAElBnL,GAAUmL,IAAavB,GACxBjJ,GAASiJ,GAGTzE,EnD6BkB,cmD/BpByE,EAAWA,EAASjC,QAETrQ,GnD4BO,WmD3BPsS,EACAyB,OACAjL,GAAOwJ,GACPe,GAASf,GAETuB,EAAQF,iBAAiBrB,GAE3BpJ,GAAWoJ,KACpBzE,EAAShE,GAAUyI,GAAW7G,GAASyG,GAAYzG,EAAMoI,KAAUhB,QAGrEhF,EAAShC,GAAYgC,GAEjBiG,GAAYnB,GAAGkB,EAASvB,IAC1BzE,EAAOmG,QAAQH,GAEV9J,GAAY8D,GAAQlB,OAAOC,UArBW,EAsB/C,CCnCe,IAAA6D,GAAC9G,GAASA,GAAQzJ,GAAKyQ,SAAShH,GCChCgJ,GAAA,CAAChJ,EAAM2I,IACpB3I,IAAS2I,IAELjJ,GAASiJ,GACT3I,EAAK+D,QAAQ4E,GACbpJ,GAAWoJ,GACXzI,GAAUyI,GAAU9C,SAAS7F,GAC7Bd,GAAWyJ,IAAaA,EAAS3I,ICRvC2G,GAAe,CAACoC,EAAOK,IAAOb,GAAYQ,GAAOpC,IAAIyC,GCArDkB,GAAe,CAACtK,EAAM2I,EAAUC,IAC9BF,GAAI1I,EAAM,qBAAsB2I,EAAUC,GCD5C2B,GAAe,CAACvK,EAAM2I,EAAUC,IAC9BF,GAAI1I,EAAM,gBAAiB2I,EAAUC,GCAvC4B,GAAe,CAACxK,KAAS0F,KACnB7G,GAAQmB,GACVA,EAAKsB,SAAStB,GACZ0F,EAAMpE,SAASC,GAASvB,GAAQA,EAAKwK,gBAAgBjJ,OAGvDmE,EAAMpE,SAASC,GAASvB,GAAQA,EAAKwK,gBAAgBjJ,IACtD,ECRHkJ,GAAe,CAACzK,EAAMwB,IAAYC,GAAYzB,EAAMwB,GAAS,GCA9C,SAASK,GAAa7B,EAAMuB,EAAMvC,GAC/C,GAAKgB,EAAL,CACA,GAAInB,GAAQmB,GACV,OAAOA,EAAKsB,SAAStB,GAAS6B,GAAa7B,EAAMuB,EAAMvC,KAErDE,GAAWF,KACbA,EAAQA,EAAMgB,EAAKgI,aAAazG,KAEpB,OAAVvC,EACFgB,EAAKwK,gBAAgBjJ,QACF8C,IAAVrF,GACTgB,EAAK6B,aAAaN,EAAMvC,EAVR,CAYpB,CCVe,SAASyC,GAAYzB,EAAMwB,EAAS2F,GAC7CtI,GAAQ2C,KACVA,EAAUA,EAAQwB,OAAOC,SAASR,KAAK,MAEzC,MAAMiI,EAAM3F,GAAWvD,GACnBzC,GAAUiB,IACZmH,KAAOnH,EAAK+G,UAAUC,SAAS0D,EAAI,IACnC1K,EAAK+G,UAAUI,E5D6HO,M4D7HU5P,OAAkBmT,IACzCnL,GAAWS,IACpBA,EAAKsB,SAASwH,GAAOrH,GAAYqH,EAAI4B,EAAKvD,IAE9C,CCfe,IAAAwD,GAAC3K,GAASA,EAAK2K,wBAAwBC,SCAtDC,GAAe,CAAClJ,EAAOJ,IAASI,EAAMkJ,iBAAiBtJ,GAAMmF,OCc7D,MAAMoE,GACJjL,cACEkL,KAAKC,UAAY,IAAIzK,IACrB,IAAK,MAAMgB,IAAQ,CAAC3J,GAAWC,GAAYC,GAAaC,IACtDgT,KAAKxJ,GAAQwJ,KAAKxJ,GAAMjC,KAAKyL,MAE/BA,KAAKE,IAAM,CACZ,CACDC,cAAcC,GACZ,IAAKC,KAAUC,GAAaF,EAAclG,MAAM,oBAGhD,OAFAoG,EAAYA,GAAW5I,KAAK,KAC5B2I,EAAQA,EAAMna,QAAQ,WAAY,IAC3B,CAAEka,gBAAeC,QAAOC,YAChC,CACDrP,GAAG+M,EAAOuC,KAAWvI,GACnB,IACIwI,GADCC,EAAUC,GAAS1I,EAUb,IAAEqG,EAmDb,OA1DI1J,GAAS8L,MACVD,EAAUC,EAAUC,GAAS1I,GAE3BnD,GAAS6L,KACZA,EAAQ,CAAEC,UAAWD,IAGVrC,EAEVoC,EAFHA,EAAqBG,IACnBvC,EAAGuC,EAAGA,EAAEC,OAAO,EAGjB7C,EAAQI,GAAKJ,GAAQ/I,KACnBsL,EAAS5L,GAAS4L,GACdvG,GAAWuG,GACX1L,GAAS0L,GACT,CAACA,GACDA,GACGhK,SAAS6J,IACd,MAAMvK,EAAKmK,KAAKE,MACVzF,EAAO,IAAKiG,GAClB,IAAII,EAAUL,EAEd,MAAMJ,MAAEA,EAAKC,UAAEA,GAAc3L,GAASyL,GAClCJ,KAAKG,cAAcC,GACnBA,EAUJ,GARI3F,EAAKsG,OACPD,EAAU,CAAEzC,GAAQuC,IAClBZ,KAAKgB,MAAMnL,GACXwI,EAAGuC,EAAE,EAFG,CAGPE,IAELrG,EAAKsG,MAAO,EAERP,EAAU,CACZ,MAAMS,EAAatM,GAAS6L,GAC5BM,EAAU,CAAEzC,GAAQuC,IAClBA,EAAEM,eAAiBD,EACfL,EAAEhH,OAAO0D,QAAQkD,GACjBlD,GAAQsD,EAAEhH,OAAQ4G,GAClBI,EAAEM,gBACJ7C,EAAGuC,EACJ,EANO,CAOPE,EACJ,CAED7L,EAAKkM,iBAAiBd,EAAOS,EAASrG,GACtCuF,KAAKC,UAAUmB,IAAI,CACjBvL,KACAZ,OACAmL,gBACAC,QACAC,YACAQ,UACArG,QACA,GACF,IAEGuD,CACR,CACD+C,OACE,OAAOf,KAAK/O,MAxFG,EAACoQ,EAAMC,KACxBD,EAAOlM,GAAUkM,GACjB,MAAME,EAAe5M,GAAS0M,EAAK,IAAM,EAAI,EAC7C,IAAI5G,EAAO4G,EAAKE,GAGhB,OAFA9G,EAAO5F,GAAS4F,GAAQA,EAAO,CAAEkG,UAAWlG,GAC5C4G,EAAKE,GAAgB,IAAK9G,KAAS6G,GAC5BD,CAAI,EAkFSG,CAAWC,UAAW,CAAEV,MAAM,IACjD,CACDC,MAAMnL,GACJmK,KAAK0B,WAAW,CAACvM,GAAU6K,KAAKC,WAAWxC,MAAMrB,GAAMA,EAAEvG,KAAOA,KACjE,CACD6L,WAAWC,EAAMlH,GACfkH,EAAKpL,SAASqL,IACPA,IACLA,EAAI3M,KAAK4M,oBAAoBD,EAAIvB,MAAOuB,EAAId,QAASrG,GACrDuF,KAAKC,UAAU6B,OAAOF,GAAI,GAE7B,CACDG,IAAI/D,EAAOuC,EAAQO,EAASrG,GAC1B,MAAMwF,EAAYD,KAAKC,UACvB,GAAKwB,UAAUlM,OAMb,MAHc,MAAVyI,IACFA,EAAQ7I,GAAU8K,GAAWrE,KAAKgG,GAAQA,EAAI3M,QAEzCmJ,GAAKJ,GAAQ/I,IACdsL,EACFvG,GAAWuG,GAAQhK,SAAS6J,IAC1B,MAAMC,MAAEA,EAAKC,UAAEA,GAAcN,KAAKG,cAAcC,GAC1CuB,EAAOxM,GAAU8K,GAAWhI,QAC/B2J,KACCA,EAAI3M,OAASA,GACXqL,GAAasB,EAAItB,YAAcA,GAC/BD,GAASuB,EAAIvB,QAAUA,GACvBS,GAAWc,EAAId,UAAYA,KAGjCd,KAAK0B,WAAWC,EAAMlH,EAAK,IAG7BuF,KAAK0B,WACH,IAAIzB,GAAWhI,QAAQ2I,GAAMA,EAAE3L,OAASA,IACxCwF,EAEH,IAxBHuF,KAAK0B,WAAWzB,EAAWxF,EA2B9B,CACDuH,KAAKhE,EAAOuC,EAAQ9F,GAClB2D,GAAKJ,GAAQ/I,IACX+E,GAAWuG,GAAQhK,SAAS8J,IAC1BpL,EAAKgN,cAAc,IAAIC,YAAY7B,EAAO5F,GAAM,GAChD,GAEL,EC3IH,MAAM0H,GACJC,WAAa,CAAA,EACbA,iBAAmB,IAAI5M,IACvBV,YAAYuN,EAAa5H,GACvB,MAAM6H,EAAO7H,EAAK6H,MAAQrb,EAC1B+Y,KAAKuC,UAAYvC,KAAKuC,UAAUhO,KAAKyL,MACrCqC,EAActN,OAAOuB,QAAQ+L,GAAaG,MAAK,CAACC,EAAGC,IAAMD,EAAE,GAAKC,EAAE,KAClE1C,KAAK2C,IAAMN,EAAYzG,KAAI,EAAE9I,EAAO9B,GAAOuN,KACzCzL,GAASA,EACT,MAAM8P,EAASrE,EAEX,cAAczL,IAAQwP,KADtB,0BAA0BD,EAAY9D,EAAI,GAAG,KAAK+D,KAEhDO,EAAM7C,KAAKlL,YAAY6N,IAAI7P,KAAWuM,OAAOyD,WAAWF,GAE9D,OADAC,EAAG1B,iBAAiB1S,GAAcuR,KAAKuC,WAChC,CAAEM,KAAI/P,QAAO9B,OAAM,IAE5BgP,KAAKqC,YAAcA,EACnBrC,KAAKvF,KAAOA,EACZuF,KAAKuC,YACLvC,KAAKlL,YAAYiO,UAAU3B,IAAIpB,KAChC,CACDuC,UAAU3B,GACHA,IAAKA,EAAE5H,SACVgH,KAAKgD,kBAER,CACDA,iBAAiBC,GACf,MAAMxI,KAAEA,EAAIyI,WAAEA,EAAUP,IAAEA,GAAQ3C,KAClC,IAAImD,EAAaC,EACjB,IAAK,MAAMtQ,MAAEA,EAAK9B,KAAEA,EAAI6R,GAAEA,KAAQF,EAAK,CACrC,GAAI7P,IAAU+P,EAAG7J,QAAS,MAC1BoK,EAAgB,CAACpS,EAAM8B,GACvBqQ,EAAclK,GAAUkK,GAAenS,EAAMA,EAC9C,CAMD,OALIiS,GAAqBC,GAAcA,EAAW,KAAOE,EAAc,KACrEpD,KAAKkD,WAAaE,EAClB3I,EAAK4I,UAAY5I,EAAK4I,SAASD,EAAeD,IAGzCnD,KAAKkD,UACb,CACDnS,UACEiP,KAAK2C,IAAIpM,SAAQ,EAAGsM,QAClBA,EAAGhB,oBAAoBpT,GAAcuR,KAAKuC,aAE5CvC,KAAKlL,YAAYiO,UAAUjB,OAAO9B,KACnC,ECdH,SAASsD,GAAaC,EAAOC,EAAUvO,GACrC,MAAMhB,EAAQwB,GAAa8N,EAAMC,GAAWvO,GAC5C,OAAKJ,GAASZ,GACPsP,EAAMtP,EAAMjD,MACf,IAAKsS,GAAaC,EAAOtP,EAAMjD,KAAMiE,MAAUhB,GAC/CA,EAHyB,CAAA,CAI/B,CAVKT,IACHjI,SAASkY,gBAAgBzH,UAAUoF,IAAI5a,EAAY,MAAQuD,IAW7D,MAAM2Z,GACJtB,oBAAsB,IAAIuB,IAC1BvB,kBAAoB,CAAA,EACpBtN,YAAYG,EAAMwF,GACZtG,GAAWsG,KACbA,EAAOA,EAAKxF,IAEdwF,IAAS,CAAA,EACT,MAAM1T,KAAEA,EAAI6c,eAAEA,EAAcC,QAAEA,EAAON,MAAEA,EAAKO,WAAEA,EAAUC,aAAEA,GACxD/D,KAAKlL,YAEP4O,GAAKM,WAAWjd,GAAQiZ,KAAKlL,YAE7B,MAAMmP,EAAeL,GAAkB7c,EAEvC,IAAIyc,EAAW/I,EAAKzJ,KAEpB,GAAY,MAARiE,EACFwF,EAAOxB,GAAU4K,EAASP,GAAaC,EAAOC,EAAUvO,GAAOwF,GAC/DxF,EAAON,GAAS8F,EAAKyJ,UACjBzO,GAAaqO,EAAWrJ,EAAKyJ,UAAWzJ,GACxCA,EAAKyJ,SAASzJ,GAClBuF,KAAKmE,eAAgB,OAChB,GAAIlP,EAAM,CACXb,GAAOa,IACTA,EAAO0J,GAAS1J,GAChB+K,KAAKoE,WAAY,GACRzP,GAASM,KAClBA,EAAO3J,GAAI+Y,cAAcpP,IAG3B,MAAOkI,EAAcC,GAAgBF,GAAgBjI,EAAMlO,GAI3D,GAFAyc,KAAcpG,GAAgBD,EAE1BqG,IAAaD,EAAMC,GAAW,OAElC/I,EAAOxB,GACL4K,EACAP,GAAaC,EAAOC,EAAUvO,GAC9BkI,EACA1C,EAEH,CAGD,KAFAxF,EAAOiK,GAAWjK,IAEP,OAEX+K,KAAKiE,GAAgBhP,EAErB+K,KAAKsE,SAAWtE,KAAKvF,KAAOA,EAE5BuF,KAAKnK,GAAKZ,EAAKY,KAAOmK,KAAKuE,KAAOpK,GAAc3T,EAAYO,EAAO,KACnE,MAAMyd,EAAe,IAAIzE,GA0BzB,MAzBA,CAAClT,GAAWC,GAAYE,IAAauJ,SAASC,IAC5CwJ,KAAKxJ,GAAQ,IAAIwB,KACfwM,EAAahO,MAASwB,GACfgI,KACR,IAGH,CACE3T,GACAC,GACAC,GACAJ,GACAC,GACAK,GACAM,IACAwJ,SAASkO,GAAYzE,KAAKyE,GAAUzE,KAAKyE,IAASlQ,KAAKyL,QAErDA,KAAKsE,SAASjC,YAChBrC,KAAK0E,mBAEL1E,KAAKlP,OAGPiT,EAAanC,IAAI5B,KAAKnK,GAAImK,MAEnBA,IACR,CACD0E,mBACE1E,KAAKqC,YAAc,IAAIF,GACrB,CAAE,EAAGnC,KAAKsE,YAAatE,KAAKsE,SAASjC,aACrC,CACEgB,SAAU,CAACH,EAAYzI,KACrBuF,KAAKgC,KjEkDiB,aiElDMkB,EAAYlD,KAAKkD,YAC7ClD,KAAKvF,KAAOyI,EAAW,GACnBjK,GAAUwB,EAAMyI,EAAW,IAC3B,IAAKzI,UACFuF,KAAKvF,KAAK4H,YACb5H,EAAK1J,QACPiP,KAAKjP,UACIiP,KAAK2E,OACd3E,KAAK4E,YAEL5E,KAAKlP,OAEPkP,KAAKkD,WAAaA,CAAU,GAInC,CACDlB,KAAK6C,KAAchE,GACjB,MAAMpG,KAAEA,EAAI4B,KAAEA,GAAS2D,MACjB/O,GAAEA,EAAEE,cAAEA,EAAaC,YAAEA,EAAW0T,YAAEA,GAAgBrK,EAOxD,GANAoG,EAAS,CAACb,QAASa,GACf5P,IACFA,EAAG4T,IAAc5T,EAAG4T,MAAchE,GAClC5P,EAAG8T,KAAO9T,EAAG8T,IAAIF,KAAchE,IAI/B/M,GAAQ3C,GAAiBA,EAAc2J,SAAS+J,GAAa1T,EAC7D,CACA,MAAM6T,EACHlR,GAAQ1C,IAAgBA,EAAY0J,SAAS+J,MAC5CzT,EACJiL,EAAK4F,cACH,IAAIC,YAAY4C,EAAcD,EAAW,CAAEhE,SAAQmE,YAEtD,CACD,OAAOhF,IACR,CACDiF,OAAOxK,GAWL,OAVIA,IACFuF,KAAKsE,SAAWrL,GAAU+G,KAAKsE,SAAU7J,GACrCuF,KAAKqC,aAAerC,KAAKsE,SAASjC,aACpCrC,KAAKqC,aAAatR,UAClBiP,KAAKqC,aAAc,EACnBrC,KAAK0E,oBAEL1E,KAAK4E,aAGF5E,IACR,CACG3D,WACF,OAAO2D,KAAKA,KAAKlL,YAAY8O,gBAAkB5D,KAAKlL,YAAY/N,KACjE,CACGgc,gBACF,OAAO/C,KAAKlL,YAAYiO,SACzB,CACGc,cACF,OAAO7D,KAAKlL,YAAY+O,OACzB,CACDzB,WAAWnN,GACT,QAAaqE,IAATrE,EAAoB,MAAO,IAAI+K,KAAK+C,UAAUtL,UAClD,IAAK,MAAO5B,EAAIgC,KAAamI,KAAK+C,UAChC,GAAI,CAAClN,EAAIgC,EAASwE,MAAMvB,SAAS7F,GAC/B,OAAO4C,CAGZ,CACDuK,mBAAmBnN,EAAMwF,GACvB,OAAOuF,KAAKkF,IAAIjQ,EAAMwF,IAAS,IAAIuF,KAAK/K,EAAMwF,EAC/C,CACD2H,eAAerK,EAAOzM,IACpB,OAAO6J,GAAU4C,EAAKkH,iBAAiBzH,GAAgBwI,KAAKjZ,QAAQ6U,KACjE3G,GAAS+K,KAAKmF,YAAYlQ,IAE9B,CACDmN,qBAAqB3H,GACnB,OAAOxB,GAAU+G,KAAK6D,QAASpJ,EAChC,CACD2H,YAAY5L,EAAMiE,GAKhB,OAJKA,IACHA,EAAOjE,EACPA,EAAO,IAEJiE,GACLuF,KAAKuD,MAAM/M,GAAQiE,EACZuF,MAFWA,KAAKuD,MAAM/M,EAG9B,CACD4L,wBAAwBlM,GACtB,MAAMkP,EAAQpF,KAAKgE,WAAWqB,MAC1BD,GACFA,EAAME,cAAcpP,EAEvB,EC9NY,IAAAqP,GAAA,CAAC7B,EAAM3c,IACpB,cAAc2c,EACZtB,aAAe,CAAA,EACfA,iBAAmB,IAAIuB,IACZ5c,kBACT,OAAOA,CACR,CACGye,kBACF,OAAOxF,KAAKvO,YAAY+T,WACzB,CACGC,uBACF,OACEzF,KAAK0F,UAAUC,aACf3F,KAAK2F,aACL3F,KAAKA,KAAKlL,YAAY/N,KAEzB,CACD6e,KAAKnL,GACH,OAAOuF,KAAKjD,QAAO,EAAOtC,EAC3B,CACDoL,KAAKpL,GACH,OAAOuF,KAAKjD,QAAO,EAAMtC,EAC1B,CACD2H,cAAcvM,EAAIuG,EAAG3B,GACnB,OAAOuF,KAAK+C,UAAUmC,IAAIrP,IAAKkH,OAAOX,EAAG3B,EAC1C,CACD2H,YAAYvM,EAAI4E,GACd,OAAOuF,KAAK+C,UAAUmC,IAAIrP,IAAKgQ,KAAKpL,EACrC,CACD2H,YAAYvM,EAAI4E,GACd,OAAOuF,KAAK+C,UAAUmC,IAAIrP,IAAK+P,KAAKnL,EACrC,GCNU,MAAMqL,GACnB1D,eAAiB,CACf5L,KAAMjQ,EACNwf,KAAK,EACLC,cAAc,EACdva,CAACA,IAAQ,KACTE,CAACA,IAAe,KAChBC,CAACA,IAAa,KACdC,CAACA,IAAW,KACZH,CAACA,IAAQ,KACTK,CAACA,IAAa,KACdD,CAACA,IAAe,KAChBE,CAACA,IAAW,KACZE,CAACA,IAAW,MAGd4I,YAAYG,EAAMwF,EAAMwL,GACtBjG,KAAK/K,KAAOA,EACZ+K,KAAKiF,OAAOxK,EAAMwL,GAClBjG,KAAKkG,SAAW,GAEhBlG,KAAK2E,QAAS,CACf,CACDM,OAAOxK,EAAMwL,EAAc,IAmBzB,OAlBAxL,EAAO9F,GAAS8F,GAAQ,CAAEjE,KAAMiE,GAASA,EAEzCA,EAAO,IACFqL,GAAWjC,WACXoC,KACAxL,GAGLuF,KAAKvF,KAAOD,GAAiBC,EAAMuF,KAAK/K,KAAM,CAC5CtJ,GACAC,GACAC,GACAC,GACAC,GACAC,GACA,CAACjF,EAAMmB,EAAa,UAGf8X,IACR,CACDmG,gBAAgB/J,GACd,MAAMgK,YAAEA,EAAWC,aAAEA,EAAYzP,MAAEA,GAAUoJ,KAAK/K,KAC5CqR,EAAO,CAACF,EAAaC,GAC3B,CAACjf,EAAOC,GAAQkP,SAAQ,CAACC,EAAM+H,KAC7B,MAAMgI,EAAO7f,EAAgBwB,EAAa,IAAMsO,EAC5C4F,EACFxF,EAAMyG,YAAYkJ,EAAMD,EAAK/H,GAAKtX,GAElC2P,EAAM4P,eAAeD,EACtB,GAEJ,CAEDE,uBAAuBrK,GAMrB,OALA4D,KAAK/K,KAAK2B,MAAMnF,WAAavK,EAC7B8Y,KAAK0G,WAAW,CAACtK,EAAIxQ,GAAaG,KAClCiU,KAAK/K,KAAKmR,YACVpG,KAAK/K,KAAK2B,MAAMnF,WAAa,GAC7BuO,KAAK0G,WAAW,CAACtK,EAAIzQ,GAAeG,GAAcsQ,EAAIvQ,GAAWG,KAC1DgU,IACR,CAED0G,WAAWC,GACT,MAAM1R,KAAEA,EAAIwF,KAAEA,GAASuF,KACjBvJ,EAAU,CAAC,GAAI,IACfmQ,EAAS,CAAC,GAAI,CAAA,GACpB,IAAIC,GAAW,EACXC,GAAW,EACf,CACEnb,GACAC,GACAC,GACAC,GACAC,GACAC,IACAuK,SAASwQ,IACT,MAAM3K,EAAkC,EAA9BuK,GAAY7L,SAASiM,GAC3BlS,GAAS4F,EAAKsM,KAChBF,GAAW,EACXD,EAAOxK,GAAK,IAAKwK,EAAOxK,MAAO3B,EAAKsM,MAEpCD,GAAW,EACXrQ,EAAQ2F,KACL3B,EAAKsM,KACHtM,EAAKjE,KAAOiE,EAAKjE,KAAO,IAAMd,GAAaqR,GAAS,KAAO,IACjE,IAECD,GACFrQ,EAAQF,SAAQ,CAACE,EAAS2F,IACxBnH,EAAK+G,UAAUI,EnEkBG,MmElBc5P,OAC3BiK,EAAQyD,MAAM,KAAKjC,OAAOC,YAI/B2O,GACFD,EAAOrQ,SAAQ,CAACqQ,EAAQxK,KACtBrH,OAAOuB,QAAQsQ,GAAQrQ,SAAQ,EAAEC,EAAMvC,MACrB,MAAZuC,EAAK,KACPA,EAAOd,GAAac,IAElB4F,EACFnH,EAAK2B,MAAMyG,YAAY7G,EAAMvC,GAE7BgB,EAAK2B,MAAM4P,eAAehQ,EAC3B,GACD,GAGP,CACDwQ,gBAAgB5K,GACd,MAAMnH,KAAEA,EAAIiR,SAAEA,EAAQzL,KAAEA,GAASuF,KAC3B+G,EAAQ3K,EAAI3Q,GAAQC,GACpBub,EAAWxM,EAAKwM,WAAWF,IAAUtM,EAAKwM,SAGhD,IAAIC,EAAeC,EAIfR,EAQJ,GAbAT,EAAS3Q,OAAS,EAEdpB,GAAWsG,EAAKsM,MAClBG,EAAgB,IAAIE,SAASC,GAAY5M,EAAKsM,GAAO9R,EAAMoS,MAGzD5M,EAAKsL,MACPY,EAAa1R,EAAKqS,gBAClBH,EACER,EAAWpR,QACX6R,QAAQG,WAAWZ,EAAW/K,KAAI,EAAG4L,cAAeA,OAGnDP,IAAaC,IAAkBC,EAAmB,OAAOjB,EAE9D,MAAMuB,EACHC,MAAMT,IAAyB,MAAZA,EAEhB,KADA,IAAIG,SAASC,GAAYM,WAAWN,EAASJ,KASnD,OANAQ,GAAoBvB,EAAShI,KAAKuJ,GAClCP,GAAiBhB,EAAShI,KAAKgJ,GAC/BC,GAAqBjB,EAAShI,KAAKiJ,GAEnCnH,KAAK2G,WAAaA,EAEXT,CACR,CACGV,kBACF,QAASxF,KAAKkG,SAAS3Q,MACxB,CACDqS,SAEE,OADA5H,KAAK2G,YAAYpQ,SAASsR,GAAcA,EAAUD,WAC3CR,QAAQG,WAAW,CAACvH,KAAK8H,mBACjC,CACDA,kBACE,OAAOV,QAAQG,WAAWvH,KAAKkG,SAChC,CAED6B,UAAU3L,EAAG5C,GAAW,GACtB,MAAMvE,KAAEA,EAAIwF,KAAEA,GAASuF,KAClB/K,IAEDuE,IACEiB,EAAKsL,MACPtL,EAAKuL,cAAgBhG,KAAKmG,iBAAgB,GAC1CnG,KAAKyG,uBAAuBrK,IAG9B4D,KAAKgH,gBAAgB5K,GACjB4D,KAAKkG,SAAS3Q,cACVyK,KAAK8H,kBAETrN,EAAKsL,KACPtL,EAAKuL,cAAgBhG,KAAKmG,iBAAgB,IAI9CnG,KAAK0G,WAAW,MAChB1G,KAAKkG,SAAS3Q,OAAS,EACxB,CACDxE,UACEiP,KAAK0G,WAAW,MAChB1G,KAAK2E,QAAS,CACf,CACDvC,sBAAsB3Q,EAAYwD,EAAMwF,EAAMwL,GAC5C,GAAKxL,EAIL,OAAOhJ,EACHA,EAAWwT,OAAOxK,EAAMwL,GACxB,IAAIH,GAAW7Q,EAAMwF,EAAMwL,GAL7BxU,GAAYV,SAMf,EC9MH,MAAMiX,GACJ5F,eAAiB,CACf6F,IAAI,EACJC,SAAY,YACZC,mBAAmB,GAErBrT,YAAYG,EAAMwF,EAAO,CAAA,EAAIwL,GAC3BjG,KAAK/K,KAAOA,EACZ+K,KAAKiF,OAAOxK,EAAMwL,EACnB,CACDhB,OAAOxK,EAAMwL,EAAc,IAWzB,OAVAxL,EAAO5F,GAAS4F,GAAQA,EAAO,CAAEwN,GAAIxN,GACrCA,EAAOxB,GACL+G,KAAKlL,YAAY+O,QACjBoC,EACAxL,EACAyC,GAAgB8C,KAAK/K,KAAM9M,EAAU,OAGvC6X,KAAKvF,KAAOA,EAEPA,EAAKwN,GAIHjI,KAHEA,KAAKjP,SAIf,CACDqX,QAAQC,GACN,MAAM5N,KAAEA,EAAIxF,KAAEA,GAAS+K,MACjBkI,SAAEA,GAAazN,EACrB,IAAIwN,EAAKxS,GAAagF,EAAKwN,MAAOI,GAGlC,GAFAJ,EAAKtT,GAASsT,GAAM3c,GAAI+Y,cAAc4D,GAAMA,EAEvCA,EAOL,OANAjI,KAAK2F,YAAcra,GAAIoR,cAAclW,EAAY2B,EAAW,IAAM8M,EAAKY,IAEnEmK,KAAK2F,aACP1Q,EAAKqT,OAAOtI,KAAK2F,aAEnBsC,EAAGM,sBAAsBL,EAAUjT,GAC5B+K,IACR,CACDjP,UACEiP,KAAKwI,OACN,CACDA,QAGE,OAFAxI,KAAK2F,aAAanJ,YAAYwD,KAAK/K,MACnC+K,KAAK2F,YAAc,KACZ3F,IACR,CACDoC,sBAAsBsD,EAAUzQ,EAAMwF,EAAMwL,GAC1C,OAAOP,EACHA,EAAST,OAAOxK,EAAMwL,IACb,IAATxL,IACEA,EAAK0N,mBACLlT,EAAKgI,aAAarW,EAAiBuB,GACrC,IAAI6f,GAAS/S,EAAMwF,EAAMwL,GACzB,IACL,EC1DH,MAAMpB,GAAYnW,GAAcjI,EAAkB,IAAM6D,GACzC,SAAQme,GACrB5Q,EACA5C,EAAO4C,EAASwE,KAChBoI,EAAS5M,EAAS+N,MAEd/N,EAASlR,EAAiB2D,MAC5BuN,EAASkK,IAAI9M,EAAM4P,IACnBhN,EAASlR,EAAiB2D,KAAW,GAEnCuN,EAAS4C,KAAKnQ,MAChBuN,EAAS5G,GACPgE,EACA4P,GACAlQ,GAASkD,EAAS4C,KAAKnQ,KACnBuN,EAAS4C,KAAKnQ,IACd,IAAI1D,EAAiB0D,WAAgB1D,EAAiB0D,OACpDuN,EAAS/C,YAAY/N,UAE1BsZ,IACCA,EAAMqI,iBACNrI,EAAMsI,kBACN,MAAMC,EAAc,CAAEvI,QAAOwI,QAASxI,EAAMa,gBAC5CuD,EAAOmE,GACH/Q,EAAS/C,YAAYjB,KACvBgE,EAASmK,KAAKtZ,EAAQkgB,EACvB,IAGL/Q,EAASlR,EAAiB2D,KAAW,EAEzC,CCnCA,MAAMua,GAAYlW,GAAgB,cAEnB,SAAQma,GAAEjR,EAAUuE,EAAGnH,EAAO4C,EAASwE,MAChDD,EACFvE,EAAS5G,GAAGgE,EAAM4P,IAAYxE,ItEwMX,KsEvMbA,EAAM0I,WACPlR,EAAS4C,KAAKrI,WAAW4W,MAAQ,IAAS3I,EAAMsI,kBACjD9Q,EAAS+N,KAAK,CAAEvF,UACZxI,EAAS/C,YAAYjB,KACvBgE,EAASmK,KAAKtZ,EAAQ,CAAE2X,UAE3B,IAGHxI,EAASkK,IAAI9M,EAAM4P,GAEvB,CCZe,IAAAoE,GAAA,CAACpR,EAAU5C,EAAO4C,EAASwE,QACxC,MAAM6M,EAAYrR,EAAS4C,KAAKyO,UAChC,IAAIC,EAAYhR,GACdN,GACc,IAAdqR,EACI,IAAIhc,QAAetG,EAAiBsG,WAClCtG,EAAiBsG,OACd2K,EAAS/C,YAAY/N,SAC1BmiB,EACJjU,GAGFkU,IAAclU,EAAKgH,SAAS3Q,GAAI8d,gBAAkB9d,GAAI8d,cAEjDD,IAAatR,EAAS4C,KAAKnI,WAAc0C,GAASC,KACrDkU,EAAYlU,EAAKoP,cAAczQ,KAAgCqB,GAGjEwJ,GAAM0K,EAAU,ECnBlBE,GAAe,CAACxR,GAAYgF,UAAS,EAAOyM,gBAAe,GAAU,MACnE,MAAMjN,KAAEA,EAAI0F,IAAEA,EAAGC,KAAEA,EAAInM,GAAEA,EAAE0O,KAAEA,EAAIxB,UAAEA,EAASV,YAAEA,GAAgBxK,EA0B9D,OAxBAA,EAASrK,KAAcgP,YAAYH,GAEnC,CAAC,WAAY9R,GAAUrC,EAAYC,GAAUoO,SAAS8C,IAChDxB,EAASwB,KACXxB,EAASwB,GAAKtI,UACd8G,EAASwB,GAAO,KACjB,IAGH0I,IAEKuH,IACHjN,EAAKxG,GAAGiF,SAASyJ,IAASlI,EAAKoD,gBAAgBtY,GAC/Ckb,GAAatR,UACbgS,EAAUjB,OAAOjM,IAEfgH,GACFR,EAAKQ,SAGPmF,EAAKrU,IAELkK,EAAS8M,QAAS,EAEX9M,CAAQ,ECnBjB,MAAM0R,GAAS9iB,EAAkB,IAAMyD,GAExB,IAAAsf,GAAA,CACb3R,EACA4R,EAAU5R,EAAS4R,QACnB7P,EAAS/B,EAASwE,QAElB,IACE5B,MAAMoO,QAAEA,EAAO9W,MAAEA,EAAKwK,KAAEA,GAAMQ,OAC9BA,EAAM9L,GACNA,GACE4G,EAOJ,GALIA,EAASlR,EAAiBuD,MAC5B2N,EAASkK,IAAI,IAAKwH,IAClB1R,EAASlR,EAAiBuD,KAAW,IAGlC2e,EAAS,OAEd,MAAMa,EAAeb,EAAQ/N,SAAShS,GAChC6gB,EAAepN,IAAS5S,IAASkf,EAAQ/N,SAAS/R,GAClD6gB,EAAerN,IAAS5S,IAASkf,EAAQ/N,SAAS9R,GAClDuX,EAAS,GACf,IACIsJ,EADAC,GAAc,EAEdH,IACF5X,EAAQ+B,GAAQ/B,GAASA,EAAQ,CAACA,EAAOA,IAEvC2X,GACFzY,EAAGwY,EAAS/a,GAAc6a,IAASlJ,GACjCtD,EAAO,KAAM,CAAEsD,QAAOwI,QAASY,MAG/BE,GACFpJ,EAAOrC,KAAK5P,GAAmBib,GAAQhb,GAAmBgb,IAExDK,IACFrJ,EAAOrC,KAAKrP,GAAgB0a,GAAQza,GAAiBya,IAErDG,GACEzY,EAAGwY,EAASjb,IAAiB,KAC3Bsb,GAAc,EACdC,aAAaF,GACbG,uBAAsB,IAAOF,GAAc,GAAO,MAIpDH,GAAgBC,IAClB3Y,EAAG,CAACwY,EAAS7P,GAAS2G,GAASF,IAC7B,MAAMnK,KAAEA,GAASmK,EACX4J,EAAU/T,IAASrH,IAAiBqH,IAASpH,GACnD,GACGoH,IAASrH,IAAiBib,GAC1B5T,IAASpH,IAAkB6a,GAAgB/P,EAAOZ,QAAQ,IAAMjQ,GAEjE,OAGF,MAAMmhB,EACHP,GAAgBzT,IAAS5H,IACzBsb,GAAgB1T,IAASrH,GACtBsb,EAAIF,EAAU,EAAIlY,EAAMmY,EAAU,EAAI,GAC5CH,aAAaF,GACTM,EACFN,EAAalC,YACX,IAAM5K,EAAOmN,EAAS,CAAErB,QAASY,EAASpJ,WAC1C8J,GAGFpN,EAAOmN,EAAS,CAAE7J,QAAOwI,QAASxI,EAAMzG,QACzC,IAIL/B,EAASlR,EAAiBuD,KAAW,CAAI,EpCvE5B,MACb,IAAI6b,EAAM,GACV,CAAC/b,GAASG,GAAUJ,IAASwM,SAASC,IACpC,MAAM+S,EAAS7iB,EAAgB8P,EAAO,IACtC,CACE7L,GACAF,GACAC,GACAE,GACAC,GACAC,GACAC,GACAE,GACAC,IACAqL,SAASgQ,IACL9K,GACFA,GAAiB,CACfjF,KAAM+S,EAAShD,EACf6D,OAAQ,IACRC,UAAU,IAGZtE,GAAOwD,EAAShD,EAAO,IACxB,GACD,IAGC9K,IACHnQ,GAAIgf,KAAKC,YAAYtU,GAAc3N,GAAO,EAAO,KAAKyd,MACvD,EqCkBHyE,GAEe,MAAMC,GACnB3V,aAAY8E,OACVA,EAAM8Q,OACNA,EAAM9X,MACNA,EAAK6H,KACLA,EAAIjE,KACJA,EAAO,GAAE6F,KACTA,EAAIsO,WACJA,EAAUC,oBACVA,EAAmBhF,KACnBA,EAAIF,SACJA,IAEA,MAAMzU,GAAEA,EAAE8Q,IAAEA,GAAQ,IAAIhC,GAExBhL,OAAO8V,OAAO7K,KAAM,CAClBpG,SACA8Q,SACA9X,QACA6H,OACAjE,OACAvF,KACA8Q,MACA1F,OACAsO,aACAC,sBACAhF,OACAF,YAEH,CACD5U,OACE,MAAM8I,OAAEA,EAAM8Q,OAAEA,EAAM9X,MAAEA,EAAK6H,KAAEA,EAAIjE,KAAEA,EAAI6F,KAAEA,EAAIpL,GAAEA,EAAE2Z,oBAAEA,GACnD5K,KACIuJ,EAAS7iB,EAAgB8P,EAAO,IAEhCsU,EAAsBtL,GAAQkL,EAAQlS,IACtCuS,EAAelS,iBAAiB6R,GAChCM,EAAenS,iBAAiBe,GAEtC,IAAK1H,EAAMC,EAAQF,EAAQL,EAAWW,GAAY,CAChD5H,GACAF,GACAC,GACAE,GACAS,IACAuQ,KACCpF,GACCsJ,GAAiBiL,EAAcxB,EAAS/S,IACxCsJ,GAAiBkL,EAAczB,EAAS/S,KAG5CtE,EAAOA,EACHA,EAAKgI,MAAM,KAAK0B,KAAKqP,GAAMA,IAAM9f,KACjCgM,GAAYsD,EAAKhQ,KAErB0H,EAASA,EAASA,IAAWhH,GAAOsP,EAAK9P,IACzCsH,EAASA,EAASA,IAAW9G,GAAOsP,EAAK/P,IAEzCsV,KAAKzN,SAAWA,EACdA,IAAanH,KAAgBqP,EAAKlI,UAAYqY,GAEhD5K,KAAKpV,IAAagH,EAChByK,EAAKY,aAAarW,EAAiBgE,KACnCgH,GACA6I,EAAK7P,IAEPoV,KAAK3X,GACHgU,EAAKY,aAAarW,EAAiB2D,GAAW,IAAMlC,IACpDoS,EAAK9H,cAEP,MAAM4J,EAAQyD,KAAKhZ,GACjBqV,EAAKY,aAAarW,EAAiBI,IAASyT,EAAKzT,GAE7CkkB,EACJ3Y,GAAYgK,IAAS5S,IAAS8Q,EAAKhI,YAAce,GAE7C2X,EACH5Y,KAAckI,EAAKhI,YAAce,KAClC+I,IAAS5S,GAELyhB,EAAa7Y,GAAYkI,EAAKjI,cAE9B6Y,EACH5Q,EAAKnI,WAAaiK,IAAS5S,IAAWuhB,GAAiBE,EAEpDE,EAAUtL,KAAKuL,cACnB3Z,EACA2K,EACA6O,EACAF,GAeF,GAZIE,GAAc7O,IAAS5S,KAAU8Q,EAAKnI,WACxCrB,EAAGyZ,EAAQ/b,IAAgBiS,IACzB,G1EkDe,I0ElDXA,EAAEmI,UAAwBnI,EAAE4K,SAAU,CACxC,MAAMrC,EAAYvP,EAAOyK,cAAczQ,IACnCuV,IACFvI,EAAE8H,iBACFjK,GAAM0K,GAET,KAIDvX,IAAcpH,GAAQ,OAAOwV,KAEjC,MAAMyL,EAAeH,EAAQ1U,OAEvB9E,QACJA,EAAOD,OACPA,EAAS4I,EAAK5I,OAAMG,eACpBA,EAAiByI,EAAKzI,eAAc0Z,aACpCA,EAAYC,YACZA,EAAWC,qBACXA,GC7KS,EAACb,EAAcC,EAAcM,EAAS/B,KACnD,MAOM9R,EAPc,CAClB5M,GACAC,GACAC,GACAE,GACAC,IAGC0Q,KAAKpF,IACJ,IAAIvC,EACF6L,GAAiBiL,EAAcxB,EAAS/S,IACxCsJ,GAAiBkL,EAAczB,EAAS/S,GAC1C,GAAKvC,EAOL,OANAA,EAAQA,EAAMiG,MAAM,KAChB1D,IAASzL,GACXkJ,EAAQgD,GAAYhD,GAAO,GAE3BA,EAAM,KAAOA,EAAM,GAEd,CAAEuC,OAAMvC,QAAO,IAEvBgE,OAAOC,SAEJ2T,EAAgBpU,EACnBmE,KAAI,EAAGpF,OAAMvC,YACZ,GAAIuC,IAASzL,GAAiB,CAC5B,MAAM+gB,EAAW7X,EAAM8X,OAAO,GAAGrU,KAAK,KAEtC,MAAO,CADPzD,EAAQA,EAAMyD,KAAK,KACJoU,GAAUpU,KAAK,IAC/B,CACD,OAAOzD,EAAMyD,KAAK,IAAI,IAEvBA,KAAK,KAER4T,EAAQ1U,MAAMyG,YAAYhK,GAAoB,WAAWwY,MAEzD,MAAMD,EAAuB/S,iBAAiByS,GAExCU,EAAiBJ,EAAqBvY,IAAoB/M,MAAM,GAAI,GACvE4T,MAAM,KACNzC,SAEG0B,EAAS,CAAEyS,wBAkBjB,OAhBInU,EAAOlC,QACTkC,EAAOlB,SAAQ,EAAGC,WAChB,IAAIvC,EAAQyH,GAAcsQ,EAAeC,QACrCzV,IAASzL,GACXkJ,EAAQ,IAAIA,KAAUyH,GAAcsQ,EAAeC,SAC1CzV,IAAS1L,IAAU0L,IAASvL,KACrCgJ,EAAQA,EAAM,IAEhBkF,EAAOnT,EAAawQ,IAASvC,CAAK,IAIlCwD,EAAOlC,QACT+V,EAAQ1U,MAAM4P,eAAenT,IAGxB8F,CAAM,EDiHP+S,CAAoBnB,EAAcC,EAAcM,EAAS/B,GAE7D,IAAI4C,EAAavM,GAAsB8K,GAEvC,MAAM0B,EAAa,CAAA,EAUnB,IAAIC,EATJ,CAACjlB,EAAOC,GAAQkP,SAAS+V,IACvBF,EAAWE,GAAQzQ,WAAW+P,EAAqBU,IACnDb,EAAapO,YAAYkM,EAAS+C,EAAMF,EAAWE,GAAQrlB,GAC3DwkB,EAAapO,YACXkM,EAAS7f,GAAS,IAAM4iB,EACxBH,EAAWG,GAAQrlB,EACpB,IAIC2L,IACFyZ,EAAY,CAAEjlB,CAACA,GAAQwL,EAAMwT,YAAa/e,CAACA,GAASuL,EAAMyT,cAC1DgG,EAAUxhB,IAAW6gB,GAAgBjR,EAAKrQ,KAAQ0H,SAAW,EAC7Dua,EAAUvhB,IAAU6gB,GAAelR,EAAKrQ,KAAQyH,QAAU,GAG5D,MAAMmG,EAAS,CACbmU,aACAC,aACAxZ,MAAOyZ,EACPza,YACAuZ,aACAjZ,OACAC,SACAF,SACAJ,SACAG,iBACAF,UACAya,UAAW1Q,WAAWmP,EAAauB,YAAc,EACjDC,SAAU3Q,WAAWmP,EAAawB,WAAa,GAGjD,IAAIC,EAAU,EACVC,GAAgB,EACpB,MAAMC,EAAiB,KACrB,GAAID,EAAe,OACnBA,GAAgB,EAEhBP,EAAavM,GAAsB8K,GAE9BS,IACHgB,EAAW5U,KAAO4U,EAAWhZ,EAAIuX,EAAOkC,WACxCT,EAAW/U,IAAM+U,EAAW/Y,EAAIsX,EAAOmC,UACvCV,EAAW9U,MAAQqT,EAAOkC,WAAaT,EAAWrZ,MAClDqZ,EAAW7U,OAASoT,EAAOmC,UAAYV,EAAWtZ,QAGpD,MAAMqV,EpD1NG,UAAUiE,WACvBA,EAAUC,WACVA,EAAUxZ,MACVA,EAAKhB,UACLA,EAASuZ,WACTA,EAAUnZ,eACVA,EAAiB,EAACH,OAClBA,EAAS,EAACC,QACVA,EAAU,EAACG,OACXA,GAAS,EAAKC,KACdA,GAAO,EAAKC,OACZA,GAAS,EAAKqa,SACdA,EAAW,EAACD,UACZA,EAAY,IAEZva,EAAiBiF,GAAYjF,GAE7B,MAAM8a,EAAWC,eAEjB7a,EAAO4B,GAAQ5B,GAAQA,EAAO,CAACA,GAC/BA,EAAK,KAAOA,EAAK,GAEjBJ,EAAUgC,GAAQhC,GAAWA,EAAU,CAACA,GACxCA,EAAQ,KAAOA,EAAQ,GAElBqZ,IACHlZ,GAAS,EACTC,GAAO,EACPC,GAAS,GAGX,MAAO6a,EAAOC,EAAQvlB,GAAUkK,EAAUsI,MAAM,KAC1CgT,EAAMF,IAAUzlB,GAAQylB,IAAUxlB,EAElC8kB,EAAOY,EAAM9lB,EAAQC,EACrBsW,EAAMuP,EAAM3lB,EAAOD,EACnB6lB,EAAOD,EAAM5lB,EAAMC,EAEnB6lB,EAAU,CAAEhmB,CAACA,GAAQolB,EAAUnlB,CAACA,GAASklB,GAE/C,IAAIc,EAAW,KACXC,EAAW,KA6Kf,OA3KA,SAASC,IACP,MAAMC,EAAKH,GAAYna,GAAO8Z,IAAWA,EACnC5Q,EAAKkR,GAAYpa,GAAO+Z,IAAWA,EAEnCQ,EAAUrR,IAAMzU,EAChB+lB,EAAQtR,IAAMxU,EACd+lB,EAAWvR,IAAM1U,EACjBkmB,EAAYJ,IAAM7P,EAClBkQ,EAAa/b,EAAQ,GAAKA,EAAQ,GAClCgc,EAAa5a,GAAOoZ,GACpByB,EAAa7a,GAAOia,GAEpBa,EAAc,CAClB1mB,CAACA,GAAM6kB,EAAW7kB,GAClBC,CAACA,GAAO4kB,EAAW5kB,GACnBC,CAACA,GAAQslB,EAAS1lB,GAAS+kB,EAAW5kB,GAAQ4kB,EAAW/kB,GACzDK,CAACA,GAASqlB,EAASzlB,GAAU8kB,EAAW7kB,GAAO6kB,EAAW9kB,IAM5D,IAAI4mB,EAHJD,EAAYR,IAAM3b,EAASG,EAAewb,GAC1CQ,EAAY9a,GAAOsa,KAAOxb,EAAemb,GAAQnb,EAAe+b,GAG5D5b,EACF8b,EAAuBnB,EAASgB,GAAcD,GAE9CI,EAAuBnB,EAASgB,GAAc3B,EAAW2B,GAAc,EACnEL,EACFQ,EACED,EAAYD,GAAc5B,EAAW2B,GAAcD,EAC5CH,IACTO,EACED,EAAYb,GAAQhB,EAAW2B,GAAcD,IAInD,MAAMK,EAAiB,CACrB5B,CAACA,GAAOhU,GAAI8U,EAAQd,GAAO0B,EAAYR,IACvCM,CAACA,GAAaxV,GAAI8U,EAAQU,GAAaG,IAGnCE,EAAc,CAClB7B,CAACA,GAAOra,EACJoG,GAAI+T,EAAWE,GAAO4B,EAAe5B,IACrCF,EAAWE,GACfwB,CAACA,GAAa7b,EACVoG,GAAI+T,EAAW0B,GAAaI,EAAeJ,IAC3C1B,EAAW0B,IAGjB,IAAK5b,EAAK,IAAMA,EAAK,KAAoB,OAAbmb,GAAkC,OAAbC,IAE7Cpb,EAAK,IACLka,EAAWE,GAAQ0B,EAAYR,IAC/BQ,EAAYR,GAAKQ,EAAY9a,GAAOsa,MAEpCH,GAAW,GAGXnb,EAAK,IACL8b,EAAYD,GACV3B,EAAW0B,GACT3B,EAAW2B,GACXhc,EAAQ,GACRE,EAAe+b,KAEnBT,GAAW,GAETD,GAAYC,GACd,OAAOC,IAIX,IAAIa,EAOAC,EALFD,EADER,EACGzB,EAAWxO,GAAOwQ,EAAY7B,GAAQza,EAEtCsa,EAAWjZ,GAAOyK,IAAQ9L,EAK/Bwc,EADEZ,EACGtB,EAAWgB,GAAQrb,EAAQ,GACvB6b,EAEPxB,EAAWgB,IACVgB,EAAYL,GAAc3B,EAAW2B,IAAe,EAElD3B,EAAW4B,GAAcI,EAAYL,GAAchc,EAAQ,GAGlE,MAAMwc,EAAWD,EACblc,IACEkc,EAAKrc,EAAemb,GACjBM,IACHY,EAAKrc,EAAemb,GAChBhB,EAAWgB,GAAQnb,EAAemb,GAAQrb,EAAQ,KACpDuc,EAAKlC,EAAWgB,GAAQrb,EAAQ,KAIpCuc,EAAKF,EAAYL,GAAc9b,EAAe+b,GAC9CjB,EAASgB,KAEJJ,IACHW,GACEA,EACAF,EAAYL,GACZhB,EAASgB,GACT9b,EAAe+b,GAEfC,EAAYD,IACXjc,EAAQ,GAAKE,EAAe+b,KAE7BM,GACEL,EAAYD,GAAcjc,EAAQ,GAAKE,EAAe+b,OAMhE,MAAMQ,EAAQD,EAAWD,EAEzB,IAyBIG,EAzBAC,EAAgB,CAAA,EACpB,GAAI7b,EAAO,CAET,IAIIyb,GAJAvc,QAAEA,EAAU,EAACD,OAAEA,EAAS,GAAMe,EAClCd,EAAUgC,GAAQhC,GAAWA,EAAU,CAACA,GACxCA,EAAQ,KAAOA,EAAQ,GAIrBuc,EADEZ,EACG3b,EAAQ,GACJ6b,EACJQ,EAAYL,GAAc,EAAIlb,EAAMkb,GAAc,EAElDK,EAAYL,GAAchc,EAAQ,GAAKc,EAAMkb,GAGpDO,GAAME,EAAQjW,GAAI,GAAI6V,EAAYL,GAAc,GAEhD,IAAIM,GAAMxb,EAAMkb,GAAc,GAAKF,GAAa/b,EAASA,GACrD+b,IACFQ,GAAMD,EAAY7B,IAEpBmC,EAAgBvB,EAAM,CAACkB,EAAIC,GAAM,CAACA,EAAID,EACvC,CAGD,GAAIxb,EACF4b,EAAkBC,MACb,CACL,MAAML,EAAKX,EACP3b,EAAQ,GACR4b,EACAS,EAAYL,GAAchc,EAAQ,GAClCqc,EAAYjb,GAAOoZ,IAAS,EAC1B+B,EAAKT,EAAYO,EAAY7B,GAAQ,EAC3CkC,EAAkBtB,EAAM,CAACmB,EAAID,GAAM,CAACA,EAAIC,EACzC,CAED,MAAO,CACL1Q,CAACA,GAAMyQ,EACPjB,CAACA,GAAOkB,EACR7kB,CAACA,IAAkB0kB,EAAe9mB,GAClCqC,CAACA,IAAmBykB,EAAe7mB,GACnCuL,MAAO6b,EACP7c,UAAWyb,EAAWna,GAAOtB,GAAaA,EAC1C4c,kBAEH,CACMjB,EACT,CoDGuBmB,CAAY,IAAK1W,EAAQmU,eAO1C,GALIhB,IACFjD,EAAS9Q,KAAOiI,OAAOsP,QACvBzG,EAAS3Q,MAAQ8H,OAAOuP,SAGtBnC,GAAWlU,KAAKsW,IAAIpC,EAAUvE,EAAS9Q,KAAO,GAKhD,OAJAqV,EAAUvE,EAAS9Q,IACnB4S,uBAAsB,KACpB0C,GAAgB,CAAK,IAEhBC,IAETF,EAAUvE,EAAS9Q,IAEnBN,GACEwU,EACA1kB,EAAiB,WAAagE,GAC9Bsd,EAAStd,KAGPqH,GACF,CAACzI,GAAiBC,IAAkB8M,SAASC,GAC3CiV,EAAapO,YAAYkM,EAAS/S,EAAM0R,EAAS1R,GAAQvP,KAIzD2L,GACF,CAACrL,EAAMD,GAAKiP,SAAQ,CAACoH,EAAKY,IACxBkN,EAAapO,YACXkM,EAASnf,GAAQ,IAAMuT,EACvBuK,EAAStV,MAAM2L,GAAKtX,KAI1BwkB,EAAapO,YACXkM,EAAS,mBACT,GAAGrB,EAASsG,gBAAgB,QAAQtG,EAASsG,gBAAgB,QAG/D/C,EAAaqD,UAAY,GAAG5G,EAAS3Q,UAAU2Q,EAAS9Q,UAExD4S,uBAAsB,KACpB0C,GAAgB,CAAK,GACrB,EAuBJ,O/C3SJ,SAAuB9S,EAAQyE,GAC7BzE,EAAOG,mBAAqBsE,EAC5B5E,GAAesV,QAAQnV,EAAQ,CAAEoV,IAAK,cACxC,C+CoRIC,CAAcrV,GAAQ,CAAC9G,EAAOD,KAC5BuZ,EAAWhlB,GAAS0L,EACpBsZ,EAAW/kB,GAAUwL,EACrB8Z,GAAgB,IAGlBA,IAEA3M,KAAKkP,WAAW7D,GAEhBpa,EAAG6Z,EAAqB9b,GAAc2d,EAAgB,CACpDwC,SAAS,IAEXle,EAAG8b,eAAgB,CAAC/d,G1E1GI,U0E0GyB2d,EAAgB,CAC/DwC,SAAS,IAEXle,EAAGoO,OAAQrQ,GAAc2d,EAAgB,CACvCwC,SAAS,IAEXnP,KAAK2M,eAAiBA,EAAepY,KAAKyL,MACnCA,IACR,CAEDkP,WAAW7D,GACT,MAAMC,QAAEA,EAAO7Q,KAAEA,EAAI8B,KAAEA,EAAIhK,SAAEA,EAAQmY,OAAEA,EAAM9Q,OAAEA,EAAM+Q,WAAEA,GAAe3K,KAChEoP,EAAkBpa,GAASsW,GAC3B+D,EACJ9S,IAAS5S,MAAW8Q,EAAK/H,WAAac,IAClC8b,EAAY/c,GAAYiB,IAAyB8X,EAAQiE,QAE3DH,GACEC,GACE/D,EAAQkE,MAAMlE,EAAQmE,QAC1BnE,EAAQoE,YACR/E,IAAahhB,KAET2lB,GACFhE,EAAQqE,cACRrE,EAAQkE,MAAO,EACf7E,IAAa5gB,KAEbuhB,EAAQzF,OAGZ7F,KAAK/O,GAAGqa,EAAS5iB,EAASjC,GAAkBma,GAAMA,EAAE8H,oBAC3C4G,IACThE,EAAQqE,cACRhF,IAAa5gB,KAGXshB,IACFrL,KAAK4P,YAAc,IAAIC,GAAYjW,EAAQ,CACzCkW,kBAAmBrV,EAAKnI,UACxBoY,SACAnY,WACAwd,SAAU/nB,EACVgoB,WAAY,KACNZ,GACFpP,KAAK4F,QACN,IAIR,CAED2F,cAAc3Z,EAAW2K,EAAM6O,EAAYF,GACzC,MAAMtR,OAAEA,EAAMpD,KAAEA,EAAIkU,OAAEA,EAAMjQ,KAAEA,GAASuF,KAEjCpJ,EAAQ,CACZqZ,OAAQ,OAAOvpB,0BACfwpB,OAAQ,EACRpe,QAAS,EACTqe,WAAYjpB,EACZkpB,SAAUlpB,EACVmpB,UAAWnpB,EACXuR,SAAU,QACV6X,cAAeppB,EACf0R,QAAS,OACT2X,eAAgB7oB,EAChB8oB,WAAY9oB,GAGVkK,IAAcpH,IAChBoM,EAAMsR,SAAWjgB,EACjB2O,EAAM6Z,MAAQ,EACd7Z,EAAM/D,OAASxF,GACfuJ,EAAM9D,MAAQzF,KAEduJ,EAAMsR,SAAWlgB,EACjB4O,EAAM6Z,MAAQpjB,GACduJ,EAAMW,KAAO,EACbX,EAAMQ,IAAM,EACZR,EAAM/D,OAAS+D,EAAM9D,MAAQ,OAASlJ,GACtCgN,EAAM8Z,WAAa,YACnB9Z,EAAM4V,SAAW,OAAS5iB,IAG5B,MAAM+mB,EAAa,CACjB/Z,QACAP,MAAO2J,KAAK3J,MACZ/I,CAACA,IAA0BkJ,EAC3B,CAAC5P,EAAiB2D,GAAW,IAAMvD,GAAOuV,GAGxC2O,IACFyF,EAAW5mB,IAAWwD,SAGC+L,IAArBmB,EAAKmW,aAA8BnW,EAAKmW,YAI1ChX,EAAOhD,MAAM0Z,cAAgBjjB,IAH7BsjB,EAAW1jB,IAAS,GACpB0jB,EAAW/Z,MAAM0Z,cAAgBppB,GAKnC,MAAMokB,EAAWtL,KAAKsL,QAAUrV,GAC9BsG,IAAS5S,IAAS4S,IAAS/R,GAASA,G1ErWvB,M0EsWbmmB,GAcF,OAXI3Q,KAAK0F,WACP1F,KAAK0F,SAASjL,KAAKwN,GAAKqD,EACxBtL,KAAK0F,SAAS0C,QAGZgD,EACF5f,GAAKwL,OAAOsU,GAEZZ,EAAOmG,MAAMvF,GAGRA,CACR,CACDva,UACEiP,KAAK+B,MACLtI,GAAeqX,UAAU9Q,KAAKpG,QAC9BoG,KAAKsL,QAAQmE,UACTzP,KAAKsL,QAAQiE,SAAW/b,IAC1BwM,KAAKsL,QAAQyF,cAEf/Q,KAAK4P,aAAa7e,UAClBiP,KAAKsL,QAAQzO,SACbmD,KAAK0F,SAAS8C,OACf,EE1ZH,IAAAwI,GAAe,CAACnZ,GAAYuE,IAAG5C,WAAUyX,SAAQrI,kBAC/C,MAAMnX,WAAEA,EAAU4K,KAAEA,EAAI5B,KAAEA,EAAIgP,QAAEA,EAAOzH,KAAEA,EAAIlN,YAAEA,EAAW4Q,SAAEA,GAC1D7N,EACIrB,EAAO1B,EAAY/N,KACnB6S,EAAS/B,EAASrB,GAClBkU,EAASjB,GAAWpN,EAE1BD,GAAKD,IAAoB,EAAMtE,EAAU+B,GAErCwC,IACFvE,EAAStN,IAAY,IAAIkgB,GAAS,CAChC/E,WACArJ,OACAqO,SACA9Q,SACAhH,MAAOgH,EAAOyK,cAAc7M,GAAgBhB,EAAMpM,KAClDqQ,OACAmL,KAAM/N,EAAS+N,KACfgF,oBAAqB/S,EAAS/C,YAAYoc,gBAC1C1a,OACAmU,WAAWzU,GACTpB,EAAYqc,iBAAiBjb,EAC9B,IACApF,SAGJmgB,GAAUjP,EAAK5F,EAAItO,GAAaG,GAAY2a,GAE7C,MAAM0C,EAAUzT,EAAStN,KAAW+gB,SAE/BlP,GAAKkP,GAAStS,QAAQ,IAAMrP,MAC/B2hB,EAAQmE,QACJhV,EAAKhI,YAAce,KACrB8X,EAAQiE,QAAUhiB,GAClB+d,EAAQqE,gBAIZ,MAAMyB,EAAU3f,GAAY4f,IAAIjV,EAAG5C,GAoCnC,OAlCI4C,GAAK3B,EAAKpI,YACZwF,EAAS5G,GACP3F,GACAyD,IACCsR,IACE/C,GAAQ+C,EAAMzG,OAAQ,CAAC6P,GAAWpN,EAAMzC,KACzC/B,EAAS+N,KAAK,CAAEvF,YAGpBxI,EAASkK,IAAIzW,GAAKyD,IAGhBqN,GACF3B,EAAKrI,YAAc0W,GAAcjR,EAAUuE,EAAG9Q,IAC9CmP,EAAKyO,WAAaD,GAAcpR,KAE/BuE,GAAKxC,EAAOqC,SAAS3Q,GAAI8d,gBAAkB3K,GAAMgL,GAGpD,WACOrN,IACC5C,SACI4X,EAEJvZ,EAAS8N,aACX2F,EAAQ9O,YAAY3E,EAAS8N,aAE/B9N,EAAStN,KAAWwG,UACpB8G,EAAStN,IAAY,KACrB4R,IAAoB,EAAOtE,EAAU+B,IAEvCoI,EAAK5F,EAAIrO,GAAcG,GAAc0a,EACtC,EAbD,GAeOwI,CAAO,ECpFhBE,GAAe,CAACzZ,EAAU+B,EAAS/B,EAASwE,KAAMkV,EAAY3X,KAC5D,MAAMa,KAAEA,EAAIoL,KAAEA,EAAIhQ,GAAEA,GAAOgC,EAE3BA,EAASkL,UAAUnB,IAAI/L,EAAIgC,GAC3BA,EAAS8M,QAAS,EAClB9M,EAASmK,KAAKvU,IAoBd,OAjBEgI,GACGgF,EAAK+W,gBAAkB5b,GAAUC,IAAQ4E,EAAKpJ,MAC/CwG,IACGiE,GAAQyV,EAAW9W,EAAKlJ,YAG7BsU,EAAK,CACHrM,YACEwD,GAAwBpD,EAAQvQ,IAChCoR,EAAKvJ,QACL2G,EAASuM,WAEXnB,kBAAkB,EAClBwO,iBAAkB5Z,EAASuM,UAC3BsN,WAAW,IAGR7Z,CAAQ,ECjCjB8Z,GAAe5J,MAAOqJ,EAASQ,WACvBR,EACNQ,GAAU,ECYZ,MAAMC,GAAc7oB,EAAQ,SAEb,MAAM6mB,GACnB/a,YAAY8E,EAAQa,EAAO,IACzBuF,KAAKpG,OAASA,EACdoG,KAAKvF,KAAOA,EACZuF,KAAKlP,MACN,CACDA,OACE,MAAM8I,OAAEA,EAAMa,KAAEA,GAASuF,KAEzBA,KAAK8R,QAAWlR,IACd,IAAImR,EAAatX,EAAKiQ,OAClBsH,GAAa,EACjB,MAAMC,EACJrR,EAAEhH,OAAOqD,aAAarW,EAAiBirB,MAAiBlpB,EAE1D,GAAI8R,EAAKqV,kBAAoBiC,EAAY,CACvC,IAAKE,EAAe,CAClB,MAAMC,EAAoB,IACrB5mB,GAAI2T,iBAAiBrL,KAE1Bme,EACEG,EACEA,EAAkBC,WAAWpU,GAAOA,IAAOgU,IAAc,EAE9D,CAED,OADAtX,EAAKuV,eACEvR,GAAMsT,EACd,CAEGnR,EAAEwR,gBAAkBL,IACtBC,GAAa,GAEf,MAAMK,EAAczY,EAAOqF,iBAAiBrL,IAE1Cme,GADGC,GAAcC,EACJI,EAAYA,EAAY9c,OAAS,GAEjC8c,EAAY,GAE3B5T,GAAMsT,EAAW,EAGnB/R,KAAK4P,YAAc,CAACjnB,EAAQC,GAAOgT,KAAK0W,IACtC,MAAMC,EAAatc,GAAc,OAAQ,CACvC9I,CAACA,IAAW,EACZ,CAACvG,EAAiBirB,IAAcS,EAChC1b,MAAO,mCACL6D,EAAKsV,UAAY9nB,2BAKrB,OAFA2R,EAAO0Y,GAAYC,GACnBA,EAAWpR,iBAAiBnY,EAAOgX,KAAK8R,SACjCS,CAAU,GAEpB,CACDxhB,UACEiP,KAAK4P,YAAYrZ,SAASgc,IACxBA,EAAW1V,SACX0V,EAAW1Q,oBAAoB7Y,EAAOgX,KAAK8R,QAAQ,GAEtD,ECxEH,IAAAU,GAAe,CAACpW,EAAGvE,KACbuE,EACFvE,EAAS5G,GAAG4G,EAASwE,KAAM3N,GAAcjI,GAAkB4Z,IACzD,GAAIxI,EAAS4C,KAAKhS,GAAU,CAC1B,MAAMogB,EAAUvL,GAAQ+C,EAAMzG,OAAQ/B,EAAS4C,KAAKhS,IACpDogB,GAAWhR,EAASmK,KAAKvZ,EAAS,CAAE4X,QAAOwI,WAC5C,KAGHhR,EAASkK,IAAIlK,EAASwE,KAAM3N,GAAcjI,EAC3C,ECNH,MAAMgsB,GAAmB,aAAehsB,EACzB,IAAAisB,GAAC7a,IACVA,EAAS4C,KAAKpK,KAChBwH,EAASlR,EAAiB0J,KAA0B,EACpDwH,EAAS5G,GAAGoO,OAAQoT,IAAmBpS,IACjCzK,GAAUiC,EAAShC,KACrBgC,EAASgO,KAAK,CAAExF,SACjB,KAEMxI,EAASlR,EAAiB0J,MACnCwH,EAASkK,IAAI1C,OAAQoT,IACrB5a,EAASlR,EAAiB0J,KAA0B,EACrD,EC+BH,MAAMsiB,GAAW,WAEjB,MAAMC,WAAiBrN,GAAY7B,GAAMiP,KACvCvQ,eAAiB,IACZvR,GACHiU,YAAa7J,GAAgB0X,IAC7BtiB,CAACA,KAAyB,EAC1BwiB,SAAS,EACTpiB,CAACA,KAAqB,EACtBxG,CAACA,IAAU,EAAG4L,QAASsF,GAAyBtF,GAAI,GACpD,CAAC5L,GAAUyG,IAAsB5J,EACjC,CAAC6rB,GAAWjiB,IAAsB5J,GAGpCgO,YAAYG,EAAMwF,GAChBqY,MAAM7d,EAAMwF,EACb,CACD3J,OACE,IAAIkP,KAAK2E,OAMT,OAJA3E,KAAKgC,KAAKtU,IAEVsS,KAAK4E,UAEE0M,GAAatR,KACrB,CACD4E,UACE,MAAMvI,KAAEA,EAAI5B,KAAEA,GAASuF,KACvBxF,GAAiBC,EAAM4B,EAAM,CAC3BpQ,GACAoE,GACAI,KAGFuP,KAAK7X,GAAY6f,GAAS+K,eACxB/S,KAAK7X,GACLkU,EACA5B,EAAKtS,KACJigB,KAAKpI,MAEJvF,EAAKxO,MAAeO,IAAiB6P,EAAKlT,IAC5CgT,IAAoB,EAAO6D,MAG7BA,KAAK9X,GAAc4d,GAAWiN,eAC5B/S,KAAK9X,GACLmU,EACA5B,EAAKvS,GACL,CAAE8d,cAAc,IAGlBhG,KAAKgT,iBAELvK,GAAWzI,MACX0S,GAAkB1S,KACnB,CACDjP,QAAQkiB,GAEN,IAAIxY,KAAEA,EAAIyY,SAAEA,GAAalT,KAEzB,GAAKA,KAAK2E,OAAV,CAIA,GAFA3E,KAAKgC,KAAKpU,IAEN6M,EAAKnJ,KAAM,CACb,MAAM6hB,EAAgBhe,GAAU6K,KAAK+C,UAAUtL,UAC5CQ,QAAQlB,GAASA,IAASiJ,OAC1BoT,SAASrc,GAASA,EAAKmc,SAASjb,QAAQyF,GAAMwV,EAASpY,SAAS4C,OAC/DyV,EAAc5d,SAChB2d,EAAWA,EAASjb,QAAQwR,IAC1B,IAAK0J,EAAcrY,SAAS2O,GAC1B,OAAO,EAEP3S,GAAa2S,EAASva,IAAgB+b,IACpCoI,OtD5HEptB,EsD4HUglB,EtD5HLqI,EsD4HQtT,KAAKnK,GtD3HhC5P,EACGiU,MAAM,KACNjC,QAAQsb,GAAMA,IAAMD,IACpB5b,KAAK,KAJK,IAACzR,EAAKqtB,CsD4HgB,GAE1B,IAGN,CAMD,OAJA7Y,EAAKnJ,MAAQmO,GAAgByT,EAAUhkB,GAAeC,GAAe5G,GAErE8gB,GAAYrJ,KAAMiT,GAEXjT,IAzBkB,CA0B1B,CAEDgT,iBACE,MAAMvY,KAAEA,EAAI5E,GAAEA,GAAOmK,KAErB,OAAQA,KAAKkT,SAAW9a,GAAe4H,KAAMvF,EAAKxQ,KAAU2R,KACzD6N,IACMzJ,KAAKkT,UAAUpY,SAAS2O,KACvBhP,EAAKnJ,OACPwF,GAAa2S,EAASva,IAAgB+b,GACpCA,EAAI5V,GAAY4V,EAAE/Q,MAAM,KAAKsZ,OAAO3d,IAAK6B,KAAK,KAAO7B,IAEnD4T,EAAQvU,UAAY9M,EAAOuN,eAC7BmB,GAAa2S,EAASlhB,EAAMH,IAGhCsO,GACE+S,EACAhP,EAAKxQ,GAAUyG,MACbsP,KAAKyT,QAETzT,KAAK/O,GAAGwY,EAAS/a,IAAc2R,IAC7BA,EAAMqI,iBACN1I,KAAKjD,OAAO,KAAM,CAAE8L,QAASY,EAASpJ,SAAQ,KAG3CoJ,IAGZ,CACD1B,aAAa3L,EAAGpE,GACd,MAAMqE,KAAEA,EAAI6W,SAAEA,EAAQzY,KAAEA,EAAIuH,KAAEA,EAAIyR,OAAEA,EAAMjO,YAAEA,GAAgBxF,MACtDtO,eAAEA,EAAcJ,KAAEA,GAASmJ,GAC3BjB,SAAEA,EAAQyX,OAAEA,EAAMpI,QAAEA,EAAOxI,MAAEA,EAAK4C,iBAAEA,GACxC1J,GAA0BvB,GAI5B,GAFAoE,KAAOqX,GAEFxQ,IAAsBvR,GAAkB8T,GAAgBpJ,IAAMqX,GACjE,OAEFzT,KAAKyT,OAASrX,EAEVoJ,IAAgB9T,SACZsO,KAAK9X,GAAY0f,SAGzB,MAAMgB,EAAc,CAAEC,UAASxI,UAE9B4Q,GAAUjP,EAAK5F,EAAIvO,GAAoBG,GAAmB4a,GAE3DxM,GAAKD,IAAoB,EAAM6D,OAE9BiR,GAAUjP,EAAK5F,EAAItO,GAAaG,GAAY2a,GAE7C,MAAMwI,EAAUpR,KAAK9X,IAAampB,IAAIjV,EAAG5C,GAgBzC,OAdAlI,GAAQwF,GAAaoc,EAAU/jB,KAAiBiN,GAChD1F,GAAYwc,EAAUzY,EAAKxQ,GAAUyG,IAAsB0L,GAC3D1F,GAAY2F,EAAM5B,EAAKkY,GAAWjiB,IAAsB0L,GAExDuV,GAAaP,GAAS,MACnBhV,GAAKD,IAAoB,EAAO6D,OAChCiR,GAAUjP,EAAK5F,EAAIrO,GAAcG,GAAc0a,IAC3CxM,GAAK3B,EAAKhK,KACbgK,EAAKhK,KAAuBuP,KAAKjP,QAAQ,CAAE8L,QAAQ,GACpD,IAGHrD,GAAY9H,SAAyB0f,EAE9BpR,IACR,EClJH,MAAM0T,WAAiBnO,GAAY7B,GAAMvZ,KACvCiY,eAAiB,IACZvR,MACAc,GACH4K,MAAM,EACNuI,YAAa7J,GAAgB9Q,IAC7BwpB,eAAe,EACfzK,WAAW,EACX0K,MAAOpc,GAAgBrN,GAAW,IAAMN,IACxCgf,QAAS/f,EACTmB,CAACA,IAAU,KACX,CAACA,GAAUyG,IAAsB5J,EACjC,CAACqD,GAAWuG,IAAsB5J,GAGpCgO,YAAYG,EAAMwF,GAChBqY,MAAM7d,EAAMwF,EACb,CACD3J,OACE,GAAIkP,KAAK2E,OAAQ,OACjB3E,KAAK4E,UAEL,MAAM6E,QAAEA,EAAOpN,KAAEA,EAAIwJ,KAAEA,EAAI5U,GAAEA,GAAO+O,KAwBpC,OAtBA/O,EAAGoL,EAAM1N,GAAeqR,KAAK6T,WAAWtf,KAAKyL,OAC7C/O,EAAGwY,EAAS9a,IAAeoZ,MAAO1H,IAChC,MAAM0I,QAAEA,GAAY1I,EAEdyT,EACJ9jB,KAAiB+Y,GAAW7Y,KAAmB6Y,EASjD,GARI+K,GACFzT,EAAMqI,iBAEJoL,IACG9T,KAAKyT,cACF5N,EAAK,CAAExF,QAAOwI,QAASY,KAG7BqK,EAAgB,CAClB,GAAI9T,KAAKwF,cAAgBxF,KAAKyT,OAAQ,OACtCzT,KAAK+T,eAAe,IAAItV,OACzB,KAGHuB,KAAK7X,GAAY,IAAI6f,GAAS3L,EAAM,CAAE8L,mBAAmB,IAElDmJ,GAAatR,KACrB,CACD4E,UACE,MAAMvI,KAAEA,EAAI5B,KAAEA,EAAIxJ,GAAEA,EAAE8Q,IAAEA,EAAG6D,KAAEA,GAAS5F,KACtCxF,GAAiBC,EAAM4B,EAAM,CAACnS,GAASsG,GAAkBvE,KAEzD+T,KAAK9X,GAAc4d,GAAWiN,eAC5B/S,KAAK9X,GACLmU,EACA5B,EAAKvS,IAGP8X,KAAKgU,gBAEDvZ,EAAKkZ,cACP1iB,EAAGoL,EAAM3N,IAAc2R,IACrB,MAAMwI,EAAUvL,GAAQ+C,EAAMzG,OAAQoG,KAAK+T,gBAC3ClL,GAAWjD,EAAK,CAAEvF,QAAOwI,WAAU,IAGrC9G,EAAI1F,EAAM3N,IAGZ8a,GAAoBxJ,MAEpByI,GAAWzI,KAAM3D,EAClB,CACD2X,gBACE,MAAMvZ,KAAEA,EAAI5E,GAAEA,GAAOmK,KACfyJ,EAAWzJ,KAAKyJ,QAAUtR,GAC9B6H,KACAvF,EAAKgP,SAAWtO,GAAyBtF,IAG3C,GAAK4T,EAEL,OADAhP,EAAKnJ,MAAQwF,GAAa2S,EAASva,GAAe2G,GAC3CmK,IACR,CACG+T,qBACF,OAAO3b,GAAe4H,KAAMA,KAAKvF,KAAKmZ,MAAO5T,KAAKiU,UAAUhc,QACzDhD,IAAU8D,GAAc9D,IAE5B,CACD4e,WAAWxT,GACT,MAAM0I,QAAEA,GAAY1I,EACd6T,EAAY,CAChBvkB,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,IACA4K,SAASiO,IACLgL,eAAEA,EAAcnO,KAAEA,EAAInL,KAAEA,GAASuF,KAEvC,IAAKkU,GnFiDc,ImFjDDnL,EAIhB,YAHAgL,EACGtW,MAAMxI,GAASA,EAAKkf,YAAYxe,cAAcye,WAAW/T,EAAMhH,QAC9DoF,QAKN,MACM4V,EAAYN,EAAexe,OAAS,EACpC+e,EAAeP,EAAe5B,WACjCld,GAASA,IAAS3J,GAAI8d,gBAGnBmL,EAAYD,EAAe,EAAID,EAAY,EAAIC,EAAe,EAC9DE,EAAYF,EAAeA,EAAe,EAAID,EAE9CI,EAAWha,EAAKia,WAAa3kB,GAAiBC,GAC9C2kB,EAAWla,EAAKia,WAAazkB,GAAkBC,GAOrD,OALIgkB,IACF7T,EAAMqI,iBACNrI,EAAMsI,mBAGAtI,EAAM0I,SACZ,KAAKpZ,GACL,KAAKC,GACHmkB,EAAeO,GAAcM,QAC7BhP,EAAK,CAAEvF,QAAOwI,QAASxI,EAAMzG,SAC7B,MACF,KAAK/J,GACHkkB,EAAkCM,GAAW5V,QAC7C,MACF,KAAK3O,GACHikB,EA3Be,GA2B8BtV,QAC7C,MACF,KAAKgW,EACHV,EAAiCS,GAAW/V,QAC5C,MACF,KAAKkW,EACHZ,EAAiCQ,GAAW9V,QAGjD,CACD1N,QAAQkiB,GACN,IAAKjT,KAAK2E,OAAQ,OAClB,MAAMlK,KAAEA,EAAIgP,QAAEA,GAAYzJ,KAI1B,OAHAA,KAAKgC,KAAKpU,IACV6M,EAAKnJ,MAAQmO,GAAgBgK,EAASva,GAAeC,IACrDuQ,GAAY+J,EAAShP,EAAKxQ,GAAUyG,KAC7B2Y,GAAYrJ,KAAMiT,EAC1B,CAEDlL,aAAa3L,EAAGpE,GACd,MAAMyR,QAAEA,EAAOhP,KAAEA,EAAIuH,KAAEA,EAAIvQ,WAAEA,EAAUgiB,OAAEA,EAAMjO,YAAEA,GAAgBxF,MAC3DtO,eAAEA,EAAcJ,KAAEA,GAASmJ,GAC3BjB,SAAEA,EAAQyX,OAAEA,EAAMpI,QAAEA,EAAOxI,MAAEA,EAAK4C,iBAAEA,GACxC1J,GAA0BvB,GAI5B,GAFAoE,KAAOqX,GAEFxQ,IAAsBvR,GAAkB8T,GAAgBpJ,IAAMqX,GACjE,OAEFzT,KAAKyT,OAASrX,EAEVoJ,IAAgB9T,SACZD,EAAWmW,SAGnB,MAAMgB,EAAc,CAAEvI,QAAOwI,YAE5BoI,GAAUjP,EAAK5F,EAAIvO,GAAoBG,GAAmB4a,GAE3D,MAAMwI,EAAUJ,GAAmBhR,KAAM,CACvC5D,IACA5C,WACAyX,SACArI,gBAUF,OAPAtX,GAAQmY,EAAQ3S,aAAa3H,KAAiBiN,GAE9C1F,GAAY+S,EAAShP,EAAKxQ,GAAUyG,IAAsB0L,GAC1D1F,GAAY+S,EAAShP,EAAKtQ,GAAWuG,IAAsB0L,GAE3D5C,GAAY9H,SAAyB0f,EAE9BpR,IACR,EChKH,MAAM6U,GACJruB,EAAYgE,GAAZhE,YAAkDyC,EAE9C6rB,GACJpuB,EAAgB8B,EAAO,cAAgBpB,EACnC2tB,GAAc,CAClBzlB,CAACA,IAAkBxH,EACnByH,CAACA,IAAmB,eAYtB,MAAMylB,WAAezP,GAAY7B,GAAMlZ,KACrC4X,OAAQvO,KAAiC,EACzCuO,oBAAsB,CACpB5L,KAAM,GACNye,eAAe,EACfC,cAAc,GAEhB9S,eAAiB,IACZvR,GACHiU,YAAa7J,GAAgBzQ,IAC7B4H,YAAY,EACZ+iB,cAAc,EACd9kB,CAACA,KAAyB,EAC1B+kB,aAAa,EACbC,aAAa,EACbxC,SAAS,EACTnU,eAAe,EACf4W,QAAS,IAAI1uB,EAAiB6B,OAC5B7B,EAAiB6B,MACd+B,OACL+qB,MAAO/d,GAAgBhN,GAAQuqB,GAAYzlB,KAC3CkmB,YAAahe,GAAgBhN,GAAQuqB,GAAYxlB,KACjDkmB,MAAO,GACP/jB,gBAAgB,EAChB9H,CAACA,IAAU4N,GAAgBhN,GAAQZ,IACnCE,CAACA,IAAW0N,GAAgBhN,GAAQV,IACpCG,CAACA,KAAU,EACX,CAACA,GAAUyG,IAAsB5J,EACjC,CAAC0D,GAASkG,IAAsB5J,EAChC,CAACgD,GAAW4G,IAAsB5J,EAElC2J,CAACA,KAAqB,EAEtByY,WAAW,EACX5W,WAAW,EAEXojB,OAAO,EACPnjB,UAAU,EACVC,eAAe,EAEfC,YAAY,EACZC,WAAW,GAGboC,YAAYG,EAAMwF,GAChBqY,MAAM7d,EAAMwF,EACb,CAEDmK,UACE,MAAMvI,KAAEA,EAAI+H,UAAEA,EAAS3J,KAAEA,EAAI5E,GAAEA,EAAE5E,GAAEA,GAAO+O,KAa1C,IAAI2V,EAZJnb,GAAiBC,EAAM4B,EAAM,CAC3B1S,GACAG,GACA0G,GACAJ,GACAC,GACApE,GACAkE,GACAM,KAEF4K,GAAa2E,KAAM7P,GAAcpJ,GAG7B4N,GAAS8F,EAAK3Q,OAChB6rB,GAAkC,MAAtBlb,EAAK3Q,IAAU,GAAawB,GAAM+Q,GAAMgI,cAClD5J,EAAK3Q,MAITkW,KAAKlW,IAAY6rB,EAEjB3V,KAAKpW,IAAWuO,GAAc6H,KAAMvF,EAAK7Q,IAAUyS,GAEnD,MAAMuZ,EAAe5gB,GAASqH,GAExBwZ,EAAcpb,EAAKlI,UAAYkI,EAAKjI,eAAkB4R,EAE5DpE,KAAK7X,GAAY6f,GAAS+K,eACxB/S,KAAK7X,GACLkU,IACAwZ,GAAarqB,GACb,CACE2c,mBAAmB,KAEpBC,KAAKpI,MAEJvF,EAAKxO,MAAeO,IAAiB6P,EAAKlT,IAC5CgT,IAAoB,EAAO6D,MAG7BA,KAAK9X,GAAc4d,GAAWiN,eAC5B/S,KAAK9X,GACL8X,KAAKpW,IACL6Q,EAAKvS,IAGP8X,KAAK8V,WACc,IAAjBrb,EAAKgP,QAAmBtO,GAAyBtF,GAAM4E,EAAKgP,QAE1DmM,EACF3kB,EAAGoL,EAAM3T,EAASjC,GAAkBma,GAAMA,EAAE8H,mBACnCjO,EAAKnJ,OACdwF,GAAauF,EAAMlP,IAAW,GAC9B2J,GAAauF,EAAM9T,EAAMiC,KAG3B6R,EAAKkT,SACH9U,EAAKlI,UACHqjB,GAAiBnb,EAAKib,QACxBliB,KACAiH,EAAKhI,WAED,KADAlF,GAGNmlB,GAAkB1S,MAClByI,GAAWzI,KACZ,CACDlP,OACE,MAAM2J,KAAEA,EAAIkK,OAAEA,EAAMtI,KAAEA,EAAIpL,GAAEA,EAAE+Q,KAAEA,EAAI4D,KAAEA,EAAI7I,OAAEA,GAAWiD,KAEvD,IAAI2E,EAuCJ,OArCA3C,EAAKtU,IAELsS,KAAK4E,UACL5E,KAAK+V,oBAEL9kB,EACEoL,EACA,CACE3N,GACA+L,EAAK0a,eACF1a,EAAK0a,cAAca,aAAc,IpF3DX,gBoF8D1B3V,KAEGL,KAAKvF,KAAK0a,cACTnV,KAAKpW,IAASqS,SAASoE,EAAMzG,SAC7BoG,KAAKiW,mBAENrQ,EAAK,CAAEvF,UACP2B,EAAKtZ,EAAQ,CAAE2X,WAEjBL,KAAKiW,iBAAmB,IAAI,IAIhChlB,EAAGzF,GAAMkD,GAAcjI,GAAkB4Z,IACvC,MAAM6S,EAAWlT,KAAK8V,UAChBjN,EAAUlU,GAASue,GACrB7S,EAAMzG,OAAO0D,QAAQ4V,GACrB5V,GAAQ+C,EAAMzG,OAAQsZ,GACtBrK,IACFxI,EAAMqI,iBACN3L,EAAO,KAAM,CAAE8L,UAASxI,UACzB,IAGIiR,GAAatR,KACrB,CACDjP,QAAQkiB,GACN,GAAKjT,KAAK2E,OAeV,OAbAjF,GAAYM,KAAK8V,UAAW9V,KAAKvF,KAAKxQ,GAAUnD,IAChDkZ,KAAKvF,KAAKnJ,MACRmO,GACEO,KAAK3D,KACLlP,GACA5E,EACA+G,GACAC,IAEJyQ,KAAK4P,aAAa7e,UAClBiP,KAAK4P,YAAc,KACnB5P,KAAK2F,aAAanJ,YAAYwD,KAAK3D,MACnCgN,GAAYrJ,KAAMiT,GACXjT,IACR,CAED+V,oBACE,MAAM1Z,KAAEA,EAAI5B,KAAEA,GAASuF,KACvB,IAAK,MAAMxJ,IAAQ,CAAClH,GAAiBC,IAAmB,CACtD,MAAM2mB,EAASnB,GAAYve,GAC3B,IAAIvB,EAAOwF,EAAKyb,GAQhB,GAPIvhB,GAASM,KACXA,EAAOkD,GAAc6H,KAAM/K,EAAMoH,IAE9BrI,GAAUiB,KACbA,EAAO,MAET+K,KAAKkW,GAAUjhB,GACVA,EAAM,OAIX6B,GAAauF,EAAM7F,EAHRvB,EACNA,EAAKY,KAAOsE,GAAc3P,GAAS,IAAM0rB,EAAS,KACnDjhB,EAEL,CACD,OAAO+K,IACR,CACDtB,cAActC,GACZ,MAAM+Z,EAA0BnB,GAAOoB,aAAane,QAClD,EAAGwC,UAAWA,EAAKrK,MACnBmF,QAEG6G,GAAK+Z,IAA8B/Z,IAAM+Z,IAC5Czf,GACElL,GACAmJ,GAASqL,KAAKvF,KAAKrK,KACf4P,KAAKvF,KAAKrK,IACVykB,GACJzY,EAGL,CACD2L,aAAa3L,EAAGpE,GACd,MAAMyC,KACJA,EAAIgZ,OACJA,EAAMzR,KACNA,EAAI/Q,GACJA,EAAE8Q,IACFA,EAAGyD,YACHA,EAAWnJ,KACXA,EAAIjG,QACJA,EAAOuf,SACPA,GACE3V,KAEJ,IAAIqW,EACF5b,EAAK2a,cAAgB3a,EAAK2a,aAAakB,OAAS7b,EAAKgb,MAAMR,eAE7D,MAAMzb,SACJA,EAAQyX,OACRA,EAAMpI,QACNA,EAAOxI,MACPA,EAAK4C,iBACLA,EAAgBwO,gBAChBA,EAAeC,UACfA,GACEnY,GAA0BvB,GAI9B,GAFAoE,KAAOA,IAAMqX,IAGVxQ,IACCxI,EAAK/I,gBAAkB8T,GAAgBpJ,IAAMqX,GAE/C,OAEF,IAAI8C,GACCna,GAAK3B,EAAKgb,QACbzV,KAAKwW,aAAe,IAAIpP,SAASC,IAC/BkP,EAAqBlP,CAAO,KAI5B7B,IAAgB/K,EAAK/I,sBACjBsO,KAAK9X,IAAa0f,UAG1B,MAAMgB,EAAc,CAAEC,UAASxI,SAI/B,IAFC4Q,GAAUjP,EAAK5F,EAAIvO,GAAoBG,GAAmB4a,IAGxDxM,GACD3B,EAAK4a,cACJlhB,GAAWsG,EAAK4a,oBACL5a,EAAK4a,YAAYrV,KAAM4I,GAC/BnO,EAAK4a,aAGT,OADArV,KAAKwW,cAAe,EACbxU,EpFrMuB,iBoFwMhChC,KAAKyT,OAASrX,EAEdoW,GAAcpW,EAAG4D,MAEjB,MAAMyW,EAAiBzB,GAAOoB,aAAa3Y,MACxC5F,GAAaA,IAAamI,MAAQnI,EAAS/N,MAAc6rB,IAGtDe,EAAoB1W,KAAK0W,kBAC/B,GAAIta,GACF,GAAIsa,EAAkBnhB,OAAS,EAAG,CAChC,MAAM2Q,EAAWkB,QAAQG,WACvBmP,EACGze,QAAQuV,GAAMA,IAAMxN,OACpBpE,KAAK/D,KACHA,EAAS2e,cAAgB3e,EAAS+N,OAC5B/N,EAAS2e,iBAGlB/b,EAAKgb,MAAMR,qBACP/O,CAET,OACS9J,GAAMsa,EAAkBnhB,SAClC8gB,GAAsB,GAGxBja,GAAKD,IAAoB,EAAM6D,OAE9BiR,GAAUjP,EAAK5F,EAAItO,GAAaG,GAAY2a,GAE7C,MAAMwI,EAAUpR,KAAK9X,IAAampB,IAAIjV,EAAG5C,GAiEzC,OA/DI4C,IACE3B,EAAK2a,cACPpV,KAAK2W,kBAAoBrrB,GAAI8d,eAE/BpJ,KAAKkP,YAAW,IAGlBxY,GACE8G,GAAYwC,KAAK8V,WACjBrb,EAAKxQ,GAAUyG,IACf0L,GAEF1F,GAAY2F,EAAM5B,EAAKjQ,GAASkG,IAAsB0L,GACjDqa,GACH/f,GAAYif,EAAUlb,EAAK3Q,GAAW4G,IAAsB0L,GAG1DsV,IAAclY,IAChBmc,EAAS/e,MAAMnF,WAAavK,EAC5ByuB,EAASvP,YACTuP,EAAS/e,MAAMnF,WAAa,IAG9BuO,KAAKtB,cAActC,GAEdA,GAAMia,IACTrW,KAAKkP,YAAW,GAChBlP,KAAKoV,eAGP3a,EAAKrI,YAAc0W,GAAc9I,KAAM5D,GAEnCA,IACDqV,GAAmBhX,EAAKyO,WAAaD,GAAcjJ,MACpD/O,EAAGmF,EAAS5H,GAAkB/H,GAAkBma,IAC9CZ,KAAKiW,iBAAmBrV,EAAEhH,MAAM,MAGlCoG,KAAKiW,iBAAmB,KACxBlU,EAAI3L,EAAS5H,GAAkB/H,GAC/BuZ,KAAK2W,gBAAkB,MAGzBhF,GAAaP,GAAS,KACfhV,IACCia,IACFrW,KAAKkP,YAAW,GAChBlP,KAAKoV,eAEPjZ,IAAoB,EAAO6D,QAG5BiR,GAAUjP,EAAK5F,EAAIrO,GAAcG,GAAc0a,GAE3CxM,IACH3B,EAAKhK,KAAuBuP,KAAKjP,QAAQ,CAAE8L,QAAQ,IACnDmD,KAAKwW,cAAe,EACpBD,MACD,IAGH/c,GAAYiB,EAAK/I,sBAAyB0f,EAEnCpR,IACR,CACDkP,WAAW9S,GACT,MAAMC,KAAEA,EAAI5B,KAAEA,GAASuF,KACjB4W,EAAe5hB,GAASqH,GAC9B,GAAID,EAAG,CACL,MAAMiT,EACJuH,KACEnc,EAAK/H,WAAac,KACpBiH,EAAKib,MACDpG,EACJ7U,EAAKlI,UAAYiB,IAAyBiH,EAAKhI,WAE7CmkB,EACEvH,GACEhT,EAAKmT,MAAMnT,EAAKoT,QACpBpT,EAAKqT,YACLsF,GAAO7D,iBAAiBxnB,KAEpB2lB,GACFjT,EAAKsT,cACLtT,EAAKmT,MAAO,EACZwF,GAAO7D,iBAAiBpnB,KAExBsS,EAAKwJ,OAGAyJ,IACTjT,EAAKsT,cACLqF,GAAO7D,iBAAiBpnB,KAEtB0Q,EAAKnI,YAAc+c,IACrBrP,KAAK4P,YAAc,IAAIC,GAAYxT,GAE3C,MACMA,EAAKoT,UACLpT,EAAKkT,SAAWlT,EAAK0U,cACjB/Q,KAAK4P,cACP5P,KAAK4P,aAAa7e,UAClBiP,KAAK4P,YAAc,KAGxB,CACDwF,cACMpV,KAAKvF,KAAK2a,aACZ3W,GAAMuB,KAAK2W,gBAEd,CAEGE,mBACF,OAAO1hB,GAAU6K,KAAK+C,UAAUtL,UAAUQ,QACxC,EAAGwC,UAAWA,EAAKgb,OAAOjf,OAASwJ,KAAKvF,KAAKgb,OAAOjf,MAEvD,CACU4f,0BACT,OAAOjhB,GAAU6K,KAAK+C,UAAUtL,UAAUQ,QAAO,EAAGwb,YAAaA,GAClE,CACGiD,wBACF,OAAO1W,KAAK6W,aAAa5e,QAAO,EAAGwb,SAAQhZ,UAAWA,EAAKgb,OAAShC,GACrE,CACDrR,kCAvbO9W,GACJ+Y,cAAcpR,IACd2D,MAAMyG,YACLyX,GACAzV,OAAOyX,WAAaxrB,GAAImY,gBAAgBsT,YAAc9vB,EAqbzD,ECncH,MAAM+vB,GAAU,UACVC,GAAM,MACNC,GAAO,OACPC,GAAW,WACXC,GAAY,YAEZC,GAAQ,CAACxtB,GAAMotB,GAAKE,IACpBG,GAAkBL,GAAMtmB,GACxB4mB,GAAuBJ,GAAWxmB,GAClC6mB,GAA2BL,GAAW9wB,EAAW8G,IACjDsqB,GAA2BzxB,EAAawJ,IACxCkoB,GAAyB,iBAEzBC,GAA4B,CAAC,SAAU,QAAS,UAAW,YAE3DC,GAAgB,CACpBR,CAACA,IAAY,CACX7uB,CAACA,GAAO,KACR+uB,CAACA,IAAkBlvB,EACnBmvB,CAACA,IAAuB,SACxBE,CAACA,KAA2B,EAC5BC,CAACA,IAAyBvoB,GAC1BhC,CAACA,KAAW,EACZqqB,CAACA,KAA2B,GAE9BN,CAACA,IAAO,CACN3uB,CAACA,GAAOyuB,GACRM,CAACA,IAAkBL,GACnBM,CAACA,IAAuBJ,GACxBM,CAACA,KAA2B,EAC5BC,CAACA,IAAyBtoB,GAC1BjC,CAACA,KAAW,EACZqqB,CAACA,KAA2B,IAIhC,MAAMK,WAAgBnU,GACpBtB,mBAAqB,IAAKwV,GAAcR,KACxChV,eAAiB,IACZvR,GACHiU,YAAa7J,GAAgB+b,IAC7Bc,UAAU,EACVC,gBAAgB,EAChBC,aAAa,EACbtmB,gBAAgB,EAChBujB,eAAe,EACfgD,UAAU,EACVC,iBAAiB,EACjB7nB,CAACA,KAAyB,EAC1B8nB,KAAK,EACLC,YAAa,KACb1D,YAAY,EACZ7B,SAAS,EACToE,CAACA,IAAMzf,GAAgBwf,GAASC,IAChCE,CAACA,IAAW3f,GAAgBwf,GAASG,IACrCttB,CAACA,IAAO2N,GAAgBwf,GAASntB,IACjC,CAACotB,GAAMvmB,IAAsB5J,EAC7B,CAAC+C,GAAO6G,IAAsB5J,EAC9B,CAACqwB,GAAWzmB,IAAsB5J,GAEpCsb,aAAe,CAAA,EACfA,iBAAmB,IAAIuB,IACZ5c,kBACT,OAAOiwB,EACR,CACDliB,YAAYG,EAAMwF,GAChBqY,MAAM7d,EAAMwF,EACb,CACDmK,UACE,MAAMvI,KAAEA,EAAIgc,KAAEA,EAAIC,aAAEA,EAAY7d,KAAEA,GAASuF,MACrC1O,KAAEA,GAAS+J,GAAa2E,KrFsDd,QqFtD0B,EAAO4X,IAEjDpd,GAAiBC,EAAM4B,EAAM,CAACpQ,GAAWoE,KAErCiB,IACFwF,GAAauF,EAAM9T,EAAM+I,EAAK/I,IAC9B+I,EAAKmmB,KACH3gB,GACEuF,EACA7M,GACAiL,EAAK1S,GAAcA,ErF1IL,aqF8IpB,MAAMsJ,EAAQinB,GAAcC,OAAS9d,EAAKpJ,MAEpCmnB,EAAeH,EAAKzc,KAAI,CAAC6c,EAAQla,KACrC,MAAMma,IAAEA,EAAGC,SAAEA,EAAQjT,SAAEA,GAAa+S,EAgBpC,IAAIG,EAWJ,OAzBItnB,IACFmO,GAAgBiZ,EAAKtpB,GAAeD,IACpC2H,GAAa4hB,EAAKxpB,GAAeypB,EAAS9iB,IAC1CiB,GAAa4hB,EAAKnwB,EAAM+I,EAAKgmB,KAC7BxgB,GAAa6hB,EAAUpwB,EAAM+I,EAAKimB,KAClCzgB,GAAa6hB,EAAUrpB,GAAiBopB,EAAI7iB,KAG9C4iB,EAAO/S,SAAWsC,GAAS+K,eACzBrN,EACAiT,EACAle,EAAKiL,WACJ0C,KAAKpI,KAAMyY,GAIZG,EADEzkB,GAAW9C,GACIA,EAAMonB,GACd3kB,GAAQzC,GACAA,EAAMwnB,MAAMC,GAAQA,IAAQva,GAAKua,IAAQH,EAAS9iB,KAChD,OAAVxE,EACQsnB,EAAS9iB,KAAOxE,GAASkN,IAAMlN,EAE/ByK,GAAQ6c,EAAUle,EAAKlJ,UAGnC,CAACqnB,EAAgBH,EAAO,IAE3BM,EAAcP,EAAa/a,MAAK,EAAEgW,KAAYA,IAChDhZ,EAAKsd,iBAAmBgB,IAC1BP,EAAa,GAAG,IAAK,GAEvBA,EAAajiB,SAAQ,EAAEkd,EAAQuF,MAC7BA,EAAY9wB,GAAc4d,GAAWiN,eACnCiG,EAAY9wB,GACZ8wB,EAAY7B,IACZ1c,EAAKvS,GACL,CAAE8d,cAAc,IAElBgT,EAAYjc,OAAO0W,EAAQ,CACzBja,SACEwD,GAAwBgc,EAAY7B,IAAW9tB,IAAWoR,EAAKvJ,OACjE+f,QAASwC,GACT,GAEL,CACD3iB,OACE,MAAM+E,GAAEA,EAAEkN,UAAEA,EAAS4B,OAAEA,EAAM3C,KAAEA,GAAShC,KACxC,IAAI2E,EAmBJ,OAjBAgT,GAA0BphB,SACvBC,GAAUwJ,KAAKxJ,GAAQwJ,KAAKxJ,GAAMjC,KAAKyL,QAG1CgC,EAAKtU,IAELsS,KAAKqY,KAAO,GACZrY,KAAKiZ,WAELlW,EAAUnB,IAAI/L,EAAImK,MAElBA,KAAKkZ,kBAELlZ,KAAK4E,UAEL5E,KAAK2E,QAAS,EAEP3C,EAAKvU,GACb,CAEDsD,QAAQooB,GAAiB,EAAOC,GAAc,GAC5C,MAAMC,QACJA,EAAOhB,KACPA,EAAI9T,KACJA,EACA9J,MAAMnJ,KAAEA,GAAMqT,OACdA,EAAM5C,IACNA,EAAGgB,UACHA,EAASlN,GACTA,EAAEmM,KACFA,GACEhC,KAEJ,GAAK2E,EAyBL,OAvBA3C,EAAKpU,IAELmU,EAAIsW,GAEA/mB,GACFmO,GACE4Z,EACA/nB,EAAK/I,IAASA,EACd+I,EAAKmmB,KAA6BjoB,IAGtC6pB,EAAQxjB,GAAGiF,SAASyJ,IAAS8U,EAAQ5Z,gBAAgBtY,GAErDkxB,EAAK9hB,SAASmiB,GAAQA,EAAI3nB,QAAQqoB,KAElCpZ,KAAK2E,QAAS,EAEVwU,GACFpW,EAAUjB,OAAOjM,GAGnBmM,EAAKrU,IAEEqS,IACR,CAEDiZ,WACE,OAAO7gB,GAAe4H,KAAMA,KAAKvF,KAAKwc,IAAMjX,KAAKqZ,SAC9Czd,KAAK8c,IACJ,IAAK,MAAM/b,KAAU6C,GAAQkZ,EAAK,KAAM1Y,KAAKqZ,SAC3C,GAAIrZ,KAAKsZ,OAAO3c,GAAS,OAE3B,OAAOqD,KAAKuZ,QAAQb,EAAI,IAEzBzgB,OAAOC,QACX,CACDqhB,QAAQb,GACN,GAAI1Y,KAAKsZ,OAAOZ,GAAM,OAEtB,MAAML,KAAEA,EAAIgB,QAAEA,EAAO5e,KAAEA,EAAI+e,UAAEA,EAASvoB,GAAEA,EAAE8Q,IAAEA,GAAQ/B,KAC9CuY,EAAQF,EAAK9iB,OAEbwB,EAAOpC,GAAS8F,EAAK5Q,KACvB6uB,EAAIpb,QAAQ7C,EAAK5Q,KACjB4L,GAAagF,EAAK5Q,IAAO,CAAEwvB,UAASX,MAAKH,UAEvCkB,EAAaf,EAAIzb,aAAarW,EAAiBowB,GAAU,IAAMC,IACrE,IAAI0B,EAAWc,GAAcnuB,GAAIouB,eAAeD,GC3TrC,IAACxkB,EAAM2I,EDoUlB,IAPK+a,GAAYxkB,GAAWsG,EAAK0c,OAC/BwB,EAAWle,EAAK0c,IAAU,CAAEkC,UAASX,MAAKH,YAEvCI,GAAYle,EAAKqd,WChUV7iB,EDiUMyjB,ECjUA9a,EDiUKnD,EAAK0c,IAA1BwB,ECjU6BpZ,GAAQtK,EAAM2I,GAAU,KDoUlD+a,EAAU,OAEf,MAAMpU,EAAOpK,KACPtE,EAAM8iB,EAAS9iB,KAAOshB,GAAW,IAAM5S,EAG7C,IAAIkP,EAFJiF,EAAI7iB,KAAOohB,GAAM,IAAM1S,EAGnBiV,EAAUjkB,SAAWkF,EAAKud,cAC5BvE,GAAS,GAEPhZ,EAAK+W,gBAAkB5b,GAAUC,KACnC4d,GAAS,GAGXxiB,EAAGynB,EAAK9pB,IAAcgS,GAAMZ,KAAK2Z,YAAY/Y,KAC7C3P,EAAGynB,EAAK/pB,IAAgBiS,GAAMZ,KAAK4Z,cAAchZ,KACjD3P,EAAGynB,EAAKhqB,IAAc2R,IACpBA,EAAMqI,iBACN1I,KAAKjD,OAAOsD,EAAMwZ,cAAe,KAAM,CAAExZ,QAAOwI,QAAS6P,GAAM,IAGjE,MAyDM1a,EAAQ,CAAC0a,EAAK3hB,EAAM4hB,GACpBK,EAAc,CAClBnjB,KACA0O,OACAmU,MACA3hB,OACA4hB,WACA3a,QACAua,QACA9mB,WAAYgJ,EAAKvS,GACb,IAAI4d,GAAW6S,EAAUle,EAAKvS,SAC9BoR,EACJvI,SArEc,EAAG+oB,SAAQ,EAAMjd,UAAS,MACxC,MAAMpC,EAAOuF,KAAKvF,KACZnJ,EAAOmJ,EAAKnJ,KACdA,IACFmO,GACEiZ,EACAnwB,EACA+I,EAAKnE,KAAaA,GAClB+B,GACAoC,EAAKomB,KAEPjY,GACEkZ,EACApwB,EACA+I,EAAKkmB,KAA6BrqB,GAClCmC,GACAgC,EAAKf,KAAuBlB,GAC5BlG,EACA8D,KAIJ8U,EAAI/D,GACJgC,KAAKqY,KEhXI,EAAC0B,KAAWtiB,IACzBN,GAAY4iB,GAAQ9hB,QAAQhD,IAAUwC,EAAOqD,SAAS7F,KF+WtC+kB,CAAQha,KAAKqY,KAAMW,GAC3Bc,IACFzC,GAAM9gB,SAASC,GACbkJ,GAAYsZ,EAAYxiB,GAAOiE,EAAKjE,EAAO9F,OAE7CsoB,EAAY9wB,IAAa6I,UACzBioB,EAAY7wB,IAAW4I,WAEzB4nB,EAAS9iB,GAAGiF,SAASyJ,IAASoU,EAASlZ,gBAAgBtY,GACvDuxB,EAAI7iB,GAAGiF,SAASyJ,IAASmU,EAAIjZ,gBAAgBtY,GAEzC0V,GACFmB,EAAMzH,SAAStB,GAASA,GAAQA,EAAK4H,UACtC,GAiCgBtI,KAAKyL,MACtBia,gBA/BqB,CAAC7d,EAAI,QAC1B,MAAM8d,EAAWxB,EAAI5b,gBAAgB1P,GAAUgP,GAI/C,GAFA8d,GAAYlB,EAAYpT,MAAK,GAEzB5F,KAAKvF,KAAKsd,eAAgB,CAC5B,MAAMyB,EAAYxZ,KAAKwZ,YAEpBA,EAAUjkB,QACW,IAArBikB,EAAUjkB,QAAgBikB,EAAU,GAAGW,aAExCna,KAAK6F,KAAK7F,KAAKoa,qBAAqB,EAEvC,CAED,OAAQF,CAAQ,GAgBe3lB,KAAKyL,MACpCyT,SACI0G,iBACF,OAAOzB,EAAIxc,aAAa9O,GACzB,EACGqY,uBACF,OACEuT,EAAY7wB,IAAWwd,aACvBqT,EAAYrT,aACZgT,CAEH,GAeH,MAZA,CAACpsB,GAAaD,GAAaD,IAAekK,SACvCkO,GAAYuU,EAAYvU,GAAUzE,KAAKyE,GAAQlQ,KAAKyL,KAAMgZ,KAE7DA,EAAY/a,GAAK+B,KAAKqa,MAAM9lB,KAAKyL,KAAMgZ,GAEvCvQ,GAAWzI,KAAM2Y,EAAUK,EAAYpT,MAEnCnL,EAAKxO,MAAeO,IAAiBmsB,EAASxvB,IAChDgT,IAAoB,EAAO6D,KAAM2Y,EAAUK,GAG7CX,EAAKna,KAAK8a,GACHA,CACR,CACDqB,MAAM3B,EAAKzkB,GACT,IAAIkF,GAAS,EAUb,OATIuf,IAAQzkB,EACVkF,GAAS,EACAnF,GAAUC,GACnBkF,EAASuf,EAAI1a,MAAMlD,SAAS7G,GACnBU,GAASV,GAClBkF,EAASuf,EAAI1a,MAAM6a,MAAM5jB,GAASA,EAAK+D,QAAQ/E,KACtCW,GAASX,KAClBkF,EAASuf,EAAIH,QAAUtkB,GAElBkF,CACR,CACDmgB,OAAOrlB,GACL,OAAO+L,KAAKqY,KAAK5a,MAAMib,GAAQA,EAAIza,GAAGhK,IACvC,CACD0lB,aAAYE,cAAEA,IACZ,MAAMb,EAAchZ,KAAKsZ,OAAOO,GAC3Bb,GAAgBhZ,KAAKoY,YAAYY,KAEtChZ,KAAKvF,KAAKyd,kBAAoBc,EAAYvF,QAAUuF,EAAYnT,OAEhE7F,KAAKsa,gBAAkBtB,EAAYT,MACpC,CACDqB,cAAcvZ,GACZ,MAAM2Y,EAAchZ,KAAKsZ,OAAOjZ,EAAMwZ,eAChCvF,EAAetU,KAAKqY,KAAKkC,QAAQvB,IACjCf,SAAEA,EAAQE,IAAEA,EAAGzD,WAAEA,GAAe1U,KAAKvF,MACrCsO,QAAEA,GAAY1I,EAEpB,GACE,CAAC1Q,GAAWC,IAAWkL,SAASiO,KAC/B,WAAWzU,KAAK0kB,EAAYN,IAAI8B,UAEjC,OAAOxB,EAAYjc,OAAO,KAAM,CAAEsD,QAAOwI,QAASxI,EAAMzG,SAC1D,GAAI/J,GAAUkZ,GAAW7Y,GAAiB6Y,IAAYkP,EAAU,OAEhE5X,EAAMqI,iBAEN,MAAM+R,EAAaza,KAAKoa,oBAClB/F,EAAYrU,KAAK0a,mBACjBnG,EAAYD,EAAe,EAC3BE,EAAYF,EAAeA,EAAe,EAAID,EAKpD,IAAIkE,EACAxP,IAAYlZ,GACd0oB,EAAQJ,EAAMsC,EAAapG,EAClBtL,IAAYjZ,GACrByoB,EAAQJ,EAAM9D,EAAYoG,EACjB1R,KARM2L,EAAa3kB,GAAiBC,IAS7CuoB,EAAQJ,EAAM5D,EAAYC,EACjBzL,KATM2L,EAAazkB,GAAkBC,MAU9CqoB,EAAQJ,EAAM3D,EAAYD,GAEnB,MAATgE,GAAiBvY,KAAK2a,WAAWpC,EAClC,CACDoC,WAAWpC,GACT,MAAMF,EAAOrY,KAAKqY,MACdA,EAAKE,IAAWvY,KAAKoY,YAAYC,EAAKE,KAI1CvY,KAAKsa,gBACH/B,EAAQvY,KAAKoa,oBACTpa,KAAK0a,mBACLnC,GAASF,EAAK9iB,OACdyK,KAAKoa,oBACL7B,EAEN9Z,GAAM4Z,EAAKrY,KAAKsa,iBAAiB5B,MAV/B1Y,KAAK2a,WAAWpC,EAAQvY,KAAKsa,gBAAkB/B,EAAQ,EAAIA,EAAQ,EAWtE,CACDW,gBAAgB0B,GACd,MAAM3C,SAAEA,EAAQ3mB,KAAEA,GAAS0O,KAAKvF,KAC3Bwd,GAAa3mB,IAClBspB,IAAgB5a,KAAKwZ,UAAU,IAAIjB,OAASvY,KAAKoa,oBACjD9oB,GACE0O,KAAKqY,KAAK9hB,SAAQ,EAAGmiB,MAAKC,YAAYpa,IACpCzH,GACE,CAACxF,EAAKnE,KAAaurB,EAAKpnB,EAAKkmB,KAA6BmB,GAC1DxrB,GACAoR,IAAMqc,EAAc,GAAK,KAGhC,CACDxC,YAAYM,GACV,OACG3f,GAAc2f,EAAIA,QAClBvkB,GAAW6L,KAAKvF,KAAK2d,cAAepY,KAAKvF,KAAK2d,YAAYM,GAE9D,CACGc,gBACF,OAAOxZ,KAAKqY,KAAKpgB,QAAO,EAAGwb,YAAaA,GACzC,CACG2G,0BACF,OAAOpa,KAAKqY,KAAK5a,MAAMib,GAAQ1Y,KAAKoY,YAAYM,MAAOH,KACxD,CACGmC,yBACF,OAAO1a,KAAKqY,KAAKwC,UAAUnC,GAAQ1Y,KAAKoY,YAAYM,MAAOH,KAC5D,CAEDxQ,aAAa9S,EAAMmH,EAAGpE,GACpB,MAAMwB,SAAEA,EAAQyX,OAAEA,EAAM5Q,MAAEA,EAAKwI,QAAEA,GAC/BtP,GAA0BvB,GACtBghB,EAAchZ,KAAKsZ,OAAOrkB,GAEhC,IAAK+jB,EAAa,OAElB,MAAMve,KAAEA,EAAI+e,UAAEA,EAASxX,KAAEA,GAAShC,MAC5B1O,KAAEA,EAAI0mB,YAAEA,EAAWtmB,eAAEA,GAAmB+I,GACxCie,IAAEA,EAAGjF,OAAEA,EAAMhiB,WAAEA,EAAU8mB,MAAEA,EAAKI,SAAEA,GAAaK,EAMrD,IAJA5c,KAAOA,IAAMqX,KAERzT,KAAKkZ,gBAAgBX,GAGxBnc,IAAMqX,GACL/hB,GACCD,GAAY+T,cACVgU,EAAUjkB,QAAU,IAAMyiB,GAAgBA,IAC7CvE,GAAUhZ,EAAKsd,iBAAmB3b,GAAKod,EAAUjkB,OAAS,GAC1D6G,IAAM4D,KAAKoY,YAAYY,GAExB,OAEEvnB,GAAY+T,cAAgB9T,SACxBD,EAAWmW,SAGnB,MAAMgB,EAAc,CAAEvI,QAAOwI,WAO7B,IALCoI,GACCjP,EAAK5F,EAAIvO,GAAoBG,GAAmBgrB,EAAapQ,GAE/DoQ,EAAYvF,OAASrX,GAEhB4b,GAAe5b,EAClB,IAAK,MAAM0e,KAAYtB,EACjBR,IAAgB8B,GAAYA,EAASrH,SACvCqH,EAASlV,KAAKpM,GACViB,EAAKwa,qBAAqB6F,EAASrpB,YAAYqW,oBAKzD,GAAI1L,IAAM4c,EAAYvF,OAAQ,OAE9BrX,GAAKD,IAAoB,EAAM6D,KAAM2Y,EAAUK,IAE9C/H,GAAUjP,EAAK5F,EAAItO,GAAaG,GAAY+qB,EAAapQ,GAE1D,MAAMwI,EAAU3f,GAAY4f,IAAIjV,EAAG5C,GA2BnC,OAzBA6d,GAAM9gB,SAASwkB,GACbrkB,GACEsiB,EAAY+B,GACZtgB,EAAKsgB,EAAWrqB,IAChB0L,KAIA9K,GACFA,EAAKomB,KACH5gB,GAAa4hB,EAAKpnB,EAAKomB,IAAyBtb,GAGhDA,IACF4D,KAAKsY,aAAeU,EACpBhZ,KAAKsa,kBAAoB/B,GAG3B5G,GAAaP,GAAS,MACnBhV,GAAKD,IAAoB,EAAO6D,KAAM2Y,EAAUK,IAChD/H,GAAUjP,EAAK5F,EAAIrO,GAAcG,GAAc8qB,EAAapQ,EAAY,IAG3EpP,GAAYiB,EAAK/I,sBAAyB0f,EAEnC4H,CACR,CACDnT,KAAK5Q,EAAMwF,GACT,OAAOuF,KAAKjD,OAAO9H,GAAM,EAAMwF,EAChC,CACDmL,KAAK3Q,EAAMwF,GACT,OAAOuF,KAAKjD,OAAO9H,GAAM,EAAOwF,EACjC,CACD2H,YAAYnN,EAAMwF,GAChB,OAAOuF,KAAKjD,OAAO9H,GAAM,EAAMwF,EAChC,CACD2H,YAAYnN,EAAMwF,GAChB,OAAOuF,KAAKjD,OAAO9H,GAAM,EAAOwF,EACjC,CACD2H,cAAcnN,EAAMmH,EAAGpE,GACrB,IAAK,MAAMqhB,KAAWrZ,KAAK+C,UAAUtL,SACnC,GAAI4hB,EAAQC,OAAOrkB,GAAO,CACxBokB,EAAQtc,OAAO9H,EAAMmH,EAAGpE,GACxB,KACD,CAEJ,EAGH6f,GAAQ7mB,KAAKxK,EAAY0wB,GAAM,CAC7Ba,gBAAgB,EAChBrD,YAAY,EACZwD,iBAAiB,EACjBjD,eAAe,EACf3jB,KAAM4lB,KGznBR,MAAM8D,GACJ5Y,eAAiB,CACf6Y,aAAczjB,GAAgBnN,IAC9B4c,SAAU,IACViU,QAAS,EACTC,eAAgB,KAChBC,cAAc,EACdC,cAAc,EACdC,cAAc,EACdC,cAAc,EACdC,mBAAmB,EACnBC,YAAaj1B,EAAY6D,IAE3ByK,YAAYG,EAAMwP,EAAQhK,GACxB,MAAMoJ,EAAU7D,KAAKlL,YAAY+O,QACjCpJ,EAAO7F,GAAS6F,GACZ,IAAKoJ,EAASoD,SAAUxM,GACxBxB,GAAU4K,EAASpJ,GACvB,MAAMxJ,GAAEA,EAAE8Q,IAAEA,EAAGC,KAAEA,GAAS,IAAIjC,GAC9BhL,OAAO8V,OAAO7K,KAAM,CAAE/K,OAAMwP,SAAQxT,KAAI8Q,MAAKC,OAAMvH,SACnD,CACE,YACA/N,GACAC,GACAC,GACAP,IACAkK,SAASkO,GAAYzE,KAAKyE,GAAUzE,KAAKyE,GAAQlQ,KAAKyL,QAExDA,KAAKib,aAAetjB,IAAU,EAAO8C,EAAKwgB,aAAchmB,GAEpDwF,EAAK+gB,mBACPvqB,EAAG3F,GxFwI8B,oBwFxIA,IAAM0U,KAAKjD,QAAQzR,GAAIowB,SAE3D,CACDC,mBAAmBvf,GACjB,MAAM3B,KAAEA,EAAIxF,KAAEA,EAAIhE,GAAEA,EAAE8Q,IAAEA,EAAG6Z,OAAEA,EAAMC,MAAEA,EAAKrT,MAAEA,GAAUxI,MAChDob,aAAEA,EAAYC,aAAEA,EAAYC,aAAEA,EAAYC,aAAEA,GAAiB9gB,EAEnE,GAAK2gB,GAAiBC,GAAiBC,GAAiBC,EAAxD,CAGA,GAAInf,EAAG,CAEL,IAAI0f,EAAiBC,EADrBvT,KAEI8S,GAAgBC,IAClBtqB,EAAGgE,EAAM,CAACpG,GAAeC,KAAiB,EAAGoH,WAC3C6lB,EAAkB7lB,IAASrH,GACvBktB,GACFR,GAAgB/S,IAChB8S,GAAgBO,KACNC,GACVR,GAAgBM,GACjB,KAGDR,GAAgBC,IAClBpqB,EAAGgE,EAAM,CAAC3G,GAAkBC,KAAmB,EAAG2H,WAChD4lB,EAAkB5lB,IAAS5H,GACvBwtB,GACFT,GAAgB7S,IAChB4S,GAAgBS,KACNE,GACVX,GAAgBQ,GACjB,GAGX,MACM7Z,IAEF,OAAO/B,IA9BE,CA+BV,CACDgc,YACE,MAAMvhB,KAAEA,EAAIxF,KAAEA,EAAIgmB,aAAEA,EAAYgB,OAAEA,EAAMC,cAAEA,GAAkBlc,KAC5D,GAAIic,EAAQ,OACZ,MAAME,EAAUC,YAAYC,MAC5Brc,KAAKsc,YAAc/jB,KAAKgkB,MAAMJ,EAAUnc,KAAKwc,WAC7C,MAAMC,EAAOhiB,EAAKwM,SAAWjH,KAAKsc,YAC5BI,GAAYnkB,KAAKD,IAAImkB,EAAOhiB,EAAKwM,SAAU,GAAG0V,QAAQliB,EAAKygB,SAEjE,GADAlb,KAAKkc,cAAgBQ,EACjBA,GAAYA,IAAaR,EAC3B,OAAOlS,sBAAsBhK,KAAKgc,WAGhCvhB,EAAKghB,aACPR,GAAcrkB,MAAMyG,YAAY,KAAO5C,EAAKghB,YAAaiB,GAG3DjnB,GAAagF,EAAK0gB,eAAgB,CAAElmB,OAAMwnB,OAAMC,aAE5CA,GAAY,EACd1c,KAAKyE,SAELuF,sBAAsBhK,KAAKgc,UAE9B,CACDjf,OAAOX,EAAI4D,KAAKic,QACd,OAAO7f,EAAI4D,KAAK4b,SAAW5b,KAAK6b,OACjC,CACDA,QAGE,OAFA7b,KAAKic,QAAS,EACdjc,KAAKgC,KAAK7T,IACH6R,IACR,CACD4b,SAKE,OAJA5b,KAAKic,QAAS,EACdjc,KAAKwc,UAAYJ,YAAYC,MAAQrc,KAAKsc,YAC1Ctc,KAAKgc,YACLhc,KAAKgC,KAAK5T,IACH4R,IACR,CACDwI,QAKE,OAJAxI,KAAKic,QAAS,EACdjc,KAAKwc,UAAYJ,YAAYC,MAC7Brc,KAAKgc,YACLhc,KAAKgC,KAAK3T,IACH2R,IACR,CACDjP,UACEiP,KAAKic,QAAS,EACdjc,KAAK+B,KACN,CACDK,sBAAsBwa,EAAY3nB,EAAMwP,EAAQhK,GAC9C,OAAImiB,EACKA,EAAW7rB,WACA,IAAT0J,EACF,IAAIugB,GAAW/lB,EAAMwP,EAAQhK,QAD/B,CAGR,EC7GH,MAAMoiB,GAAQ,QAERC,GAAY,CAAA,EACZC,GAAW,IAAIpZ,IACfqZ,GAAc,CAAA,EACpB,MAAM5X,WAAcG,GAAY7B,GAAMmZ,KACpCza,kBAAoB,CAAA,EAEpBA,eAAiB,IACZvR,GACHiU,YAAa7J,GAAgB4hB,IAC7B9kB,KAAM,KACNklB,UAAW,GACX/Y,SAAU,GACVhT,QAAQ,EACR2hB,SAAS,EACTqK,OAAO,EACPC,mBAAmB,EACnBC,mBAAmB,EACnBC,aAAa,EACbC,UAAU,EACV/qB,UAAU,EACVgrB,cAAc,EACd9qB,YAAY,EACZpB,OAAO,GAETyD,YAAYG,EAAMwF,GACZ5F,GAASI,KACXwF,EAAOxF,EACPA,EAAO,MAET6d,MAAM7d,EAAMwF,EACb,CACDmK,UACE,MAAMnK,KAAEA,EAAI4B,KAAEA,EAAIihB,SAAEA,EAAQ1X,KAAEA,GAAS5F,MAClCvF,EAAK1C,MAAQgE,GAAMM,GACtB2D,KAAKjI,KAAOsE,EAAKO,cAEjBoD,KAAKjI,KAAO0C,EAAK1C,KAAOI,GAAc6H,KAAMvF,EAAK1C,MAAQvM,GAEvDiP,EAAKxO,MAAeO,IAAiB6P,EAAKlT,IAC5CgT,IAAoB,EAAO6D,MAG7BA,KAAK9X,GAAc4d,GAAWiN,eAC5B/S,KAAK9X,GACLmU,EACA5B,EAAKvS,IAEP8X,KAAKsd,SAAWtC,GAAWjI,eACzBuK,EACAjhB,EACAuJ,EACAnL,EAAK6iB,UAGP7U,GAAWzI,KACZ,CACDjP,QAAQkiB,GACN,GAAKjT,KAAK2E,OAEV,OADA0E,GAAYrJ,KAAM,CAAEnD,QAAQ,KAASoW,IAC9BjT,IACR,CACDlP,OACE,IAAIkP,KAAK2E,OAIT,OAFA3E,KAAK4E,UAEE0M,GAAatR,KACrB,CACD+H,aAAa3L,EAAGpE,GACd,MAAMvG,WACJA,EACAgJ,MAAMyiB,MACJA,EAAKE,kBACLA,EAAiBD,kBACjBA,EAAiBjV,SACjBA,EAAQ+U,UACRA,EAASxqB,WACTA,EAAUF,SACVA,EAAQgrB,aACRA,EAAYhsB,SACZA,EAAQ8rB,YACRA,GACDC,SACDA,EAAQjhB,KACRA,EAAItE,KACJA,EAAIgL,UACJA,EAASjO,YACTA,EAAWkN,KACXA,GACEhC,MACExG,SAAEA,EAAQyX,OAAEA,EAAM5Q,MAAEA,EAAKwI,QAAEA,GAC/BtP,GAA0BvB,GAE5B,GAAIwB,GAAY/H,GAAY+T,YAAa,OAIzC,IAAIgY,EAEJ,GAJAphB,KAAON,GAAQO,EAAM9K,GAIjB6K,EAAG,CACL,GAAI8gB,EAAO,CACT,MAAMO,EAAOtoB,GAAU4N,EAAUtL,UAAUQ,QACxCJ,GACCA,IAAamI,MACbnI,EAAS4C,KAAKyN,WAAaA,GAC3BrQ,EAASE,OAASA,IAEtB,IAAK,IAAIwG,EAAI,EAAGA,EAAIkf,EAAKloB,OAAQgJ,IAC3BA,GAAK2e,EAAQ,IACfO,EAAKlf,GAAK2e,EAAQ,KAAKtX,KAAKwX,GACvBD,IACHK,GAAmB,GAI1B,CACD,GAAIzlB,EAAM,CACR,IAAIkQ,EAAKlQ,EACT,GAAImQ,EAAU,CACZ,MAAMoD,EAAWrD,EAAKnT,EAAY4oB,WAAW,CAC3CxV,WACAnQ,OACAklB,YACAM,iBAIAjS,EAAQvhB,IADNyJ,IAAyBf,GAAcF,EACtBhF,GAEA,KAGjB+d,GAAWA,EAAQ1O,gBAAkB7E,GACvCA,EAAKf,OAAOsU,GAEV9X,IAAyBf,GAAcF,IACzC+Y,EAAQyF,cACRzF,EAAQqE,cAEX,CACD1H,EAAGjR,OAAOqF,EACX,CACF,CAED,MAAMuM,EAAc,CAAEvI,QAAOwI,YAE5BoI,GAAUjP,EAAK5F,EAAIvO,GAAoBG,GAAmB4a,GAE3D0U,GAAYA,EAAS3B,mBAAmBvf,GAExCA,GAAKD,IAAoB,EAAM6D,OAE9BiR,GAAUjP,EAAK5F,EAAItO,GAAaG,GAAY2a,GAE7C,MAAMwI,EAAU3f,GAAY4f,IAAIjV,EAAG5C,IAAagkB,GAEhD7L,GAAaP,GAAS,MACnBhV,GAAKD,IAAoB,EAAO6D,OAChCiR,GAAUjP,EAAK5F,EAAIrO,GAAcG,GAAc0a,IAC/CxM,GAAKihB,GAAerd,KAAKjP,QAAQ,CAAE8L,QAAQ,GAAO,IAGrDrD,SAAmB4X,EAEnB,MAAMuM,EAAeZ,GAAS7X,IAAInN,GAC5BuT,EACJqS,GACA,IAAIA,GAAclgB,MACf8V,GAAMA,EAAErL,WAAaA,GAAYqL,EAAE0J,YAAcA,KACjD3R,QAEL,IAAKlP,GAAKkP,IAAYA,EAAQxM,SAASvJ,OAAQ,CAC7C,GAAIooB,EAAc,CAChB,MAAMpK,EAAI,IAAIoK,GAAclgB,MAAM8V,GAAMA,EAAEjI,UAAYA,IACtDiI,GAAKoK,EAAa7b,OAAOyR,EAC1B,CACDjI,EAAQzO,QACT,CAED,OAAOmD,IACR,CAEDoC,mBAAkB8F,SAAEA,EAAQnQ,KAAEA,EAAOvM,GAAIyxB,UAAEA,EAAY,GAAEM,aAAEA,IACzD,IAAII,EAAeZ,GAAS7X,IAAInN,GAChC,GAAK4lB,EAGE,CACL,MAAMrS,EAAU,IAAIqS,GAAclgB,MAC/B8V,GAAMA,EAAErL,WAAaA,GAAYqL,EAAE0J,YAAcA,IAEpD,GAAI3R,EAAS,OAAOA,EAAQA,OAC7B,MAPCqS,EAAe,IAAInoB,IACnBunB,GAASnb,IAAI7J,EAAM4lB,GAQrB,MAAMC,EAAkB,CAAEpnB,KAAMymB,EAAW/U,YACrCoD,EAAU3M,GACdhK,GAASsoB,GACLxnB,GACEunB,GAAYC,IAAcD,GAAY,IACtCY,GAEFX,EAAUW,IAIhB,OADAD,EAAavc,IAAI,CAAEkK,UAAS2R,YAAW/U,WAAUnQ,OAAMwlB,iBAChDjS,CACR,CACDlJ,mBAAmB8F,EAAU+U,EAAY,IACvCH,GAAUG,KAAe,GACrBnpB,GAAQoU,GACVA,EAAS3R,SAASsnB,GAAM7d,KAAK8d,YAAYD,EAAGZ,KACnCpoB,GAASqT,KAClB4U,GAAUG,GAAW/U,EAAS1R,MAAQ0R,EAEzC,CACD9F,gBAAgB5L,EAAMiE,GAKpB,OAJKA,IACHA,EAAOjE,EACPA,EAAO,IAEJiE,GACLuF,KAAK8D,WAAWtN,GAAQiE,EACjBuF,MAFWA,KAAK8D,WAAWtN,EAGnC,CACD4L,iBAAiB5L,EAAMiE,GAKrB,OAJKA,IACHA,EAAOjE,EACPA,EAAO,IAEJiE,GACLuiB,GAAYxmB,GAAQiE,EACbuF,MAFWgd,GAAYxmB,EAG/B,CACD4L,uBACE,IAAI2a,GAAStlB,UAAUlB,SAASqL,IAC9BA,EAAIrL,SAAQ,EAAG+U,UAASvT,OAAMwlB,mBAE1BA,GACA/pB,IACA8X,EAAQiE,SACRxX,EAAKkE,SAASqP,KAEdA,EAAQyF,cACRzF,EAAQqE,cACT,GACD,GAEL,EC9OH,MAAMoO,GAAav3B,EAAYwD,GAE/B,MAAMg0B,WAAgBzY,GAAY7B,GAAM1Z,KACtCoY,eAAiB,IACZvR,MACAc,GACHI,MAAO,CAAC,IAAK,GACb+S,YAAa7J,GAAgBjR,IAC7B4H,UAAWtK,EACX4c,SAAW9N,GACT,eAAe2nB,mBAA2BA,kBAA0BA,8BAAsCA,eAAuB3nB,gBACnIwa,aAAa,EACbqN,aAAa,EACbC,aAAc,GACd,CAACx0B,GAASgH,IAAsBwK,GAAelR,IAC/C6e,QAAS9f,EAAQ,IAAMC,EACvBoN,QAAS,MAGAwN,4BACT,OAAOla,EACR,CACDoL,YAAYG,EAAMwF,GAChBqY,MAAM7d,EAAMwF,EACb,CACDmK,UACE,MAAMuZ,QAAEA,EAAO9hB,KAAEA,EAAI5B,KAAEA,GAASuF,KAEhCA,KAAKvO,WAAaqU,GAAWiN,eAC3B/S,KAAK9X,GACLi2B,EACA1jB,EAAKvS,IAGPugB,GAAWzI,KAAMme,GAEjB3U,GAAoBxJ,KAAM3D,EAAM8hB,GAEhC1jB,EAAKnJ,MAAQwF,GAAaqnB,EAASn0B,GACpC,CACD+G,QAAQkiB,GACN,MAAMtO,OAAEA,EAAM+F,OAAEA,EAAMyT,QAAEA,EAAOtoB,GAAEA,EAAEuoB,OAAEA,EAAMpc,KAAEA,EAAIvH,KAAEA,GAASuF,KAC5D,GAAK2E,EAYL,OAXA3C,EAAKpU,IACD6M,EAAKnJ,OACPmO,GAAgB0e,EAASn0B,IACzB8M,GAAa4T,EAAQnb,IAAmBupB,GACtCA,IAAQjjB,EAAK,IAAMvM,EAAS80B,EAAO9tB,IAA2BwoB,KAI9DsF,EAAOt2B,KACT4iB,EAAO5iB,GAASs2B,EAAOt2B,IAElBuhB,GAAYrJ,KAAMiT,EAC1B,CACDniB,OACE,MAAM2J,KAAEA,EAAIiQ,OAAEA,EAAM7U,GAAEA,EAAE8O,OAAEA,EAAM3C,KAAEA,GAAShC,KAE3C,GAAI2E,EAAQ,OAEZ3C,EAAKtU,IAELsS,KAAKoe,OAAS,CAAEt2B,CAACA,GAAQ4iB,EAAO5iB,IAEhC,MAAM8R,EAAUoG,KAAKme,QAAUjf,GAC7BzE,EAAKyJ,SACHzJ,EAAK7Q,KACH8gB,EAAOzN,aAAarW,EAAiBoD,GAAU,IAAMJ,KACrD8gB,EAAO5iB,GACTkY,OAiBJ,OAdApG,EAAO/D,KAAOA,EAAK,IAAMvM,EAEzBohB,EAAOjL,gBAAgB3X,GACvB4O,GACEkD,EACA8Q,EAAOzN,aAAarW,EAAiBoD,GAAU,IAAM3B,IACnDoS,EAAKyjB,cACP,GAGFle,KAAK4E,UAEL5E,KAAK0F,SAAW,IAAIsC,GAASpO,EAAQ,CAAEuO,mBAAmB,IAEnDmJ,GAAatR,KAAMpG,EAC3B,CAEDmO,aAAa3L,EAAGpE,GACd,MAAM0S,OAAEA,EAAMyT,QAAEA,EAAOtoB,GAAEA,EAAE4E,KAAEA,EAAIuH,KAAEA,EAAIoc,OAAEA,EAAM3K,OAAEA,EAAMjO,YAAEA,GACvDxF,KACItO,EAAiB+I,EAAK/I,gBACtB8H,SAAEA,EAAQqP,QAAEA,EAAOoI,OAAEA,EAAM5Q,MAAEA,EAAK4C,iBAAEA,GACxC1J,GAA0BvB,GAI5B,GAFAoE,KAAOqX,GAGHxQ,IACEvR,GAAkB8T,GAAgBpJ,IAAMqX,KAC1CrX,IAAML,GAAMoiB,GAEd,OAEFne,KAAKyT,OAASrX,EAEVoJ,IAAgB9T,SACZsO,KAAK9X,GAAY0f,SAGzB,MAAMgB,EAAc,CAAEvI,QAAOwI,YAE5BoI,GAAUjP,EAAK5F,EAAIvO,GAAoBG,GAAmB4a,GAE3D,MAAMwI,EAAUJ,GAAmBhR,KAAM,CACvC5D,IACA5C,WACAyX,SACArI,gBAoBF,OAjBInO,EAAKnJ,MACPwF,GACE4T,EACAnb,GACA6M,EACKnI,IACCA,IAAUmqB,EAAO9tB,IAA2B2D,GACrC4B,EAAK,IAAMvM,GAEpB80B,EAAO9tB,KAA4B,MAI3CoG,GAAYgU,EAAQjQ,EAAK/Q,GAASgH,IAAsB0L,GAExD5C,GAAY9H,SAAyB0f,EAE9BpR,IACR,EC/IH,MAAMqe,WAAgB9Y,GAAY7B,GAAM3Z,KACtCqY,OAAQvO,KAAiC,EACzCuO,eAAiB,IACZvR,MACAc,GACH4K,MAAM,EACNuI,YAAa7J,GAAgBlR,IAC7B8oB,SAAS,EACT3J,WAAW,EACXL,QAAS/f,EACTmB,CAACA,IAAU,KACX,CAACA,GAAUyG,IAAsB5J,EACjC,CAACiD,GAAU2G,IAAsB5J,EACjCwuB,QAAS,IAAI1uB,EAAiB6B,OAC5B7B,EAAiB6B,MACdsB,QAGP+K,YAAYG,EAAMwF,GAChBqY,MAAM7d,EAAMwF,EACb,CACD3J,OACE,IAAIkP,KAAK2E,OAKT,OAJA3E,KAAK4E,UAEL5E,KAAK0F,SAAW,IAAIsC,GAAShI,KAAK3D,KAAM,CAAE8L,mBAAmB,IAEtDmJ,GAAatR,KACrB,CACD4E,UACE,MAAMvI,KAAEA,EAAI5B,KAAEA,GAASuF,KACvBxF,GAAiBC,EAAM4B,EAAM,CAACnS,GAASsG,GAAkBvE,KAEzD+T,KAAK9X,GAAc4d,GAAWiN,eAC5B/S,KAAK9X,GACLmU,EACA5B,EAAKvS,IAGP8X,KAAKgU,gBAELvL,GAAWzI,MACXwJ,GAAoBxJ,KACrB,CACDgU,gBACE,MAAMvZ,KAAEA,EAAI5E,GAAEA,GAAOmK,KACfyJ,EAAWzJ,KAAKyJ,QAAUtR,GAC9B6H,KACAvF,EAAKgP,SAAWtO,GAAyBtF,IAE3C,GAAK4T,EAEL,OADAhP,EAAKnJ,MAAQwF,GAAa2S,EAASva,GAAe2G,GAC3CmK,IACR,CACDjP,QAAQkiB,GACN,IAAKjT,KAAK2E,OAAQ,OAClB,MAAMlK,KAAEA,EAAIgP,QAAEA,GAAYzJ,KAI1B,OAHAA,KAAKgC,KAAKpU,IACV6M,EAAKnJ,MAAQmO,GAAgBgK,EAASva,GAAeC,IACrDuQ,GAAY+J,EAAShP,EAAKxQ,GAAUyG,KAC7B2Y,GAAYrJ,KAAMiT,EAC1B,CAEDlL,aAAa3L,EAAGpE,GACd,MAAM8D,QAAEA,EAAO0J,YAAEA,EAAWiE,QAAEA,EAAOpN,KAAEA,EAAI5B,KAAEA,EAAIuH,KAAEA,GAAShC,MACtDtO,eAAEA,EAAcJ,KAAEA,GAASmJ,GAC3BjB,SAAEA,EAAQyX,OAAEA,EAAM5Q,MAAEA,EAAK4C,iBAAEA,GAC/B1J,GAA0BvB,GAI5B,GAFAoE,KAAON,GAEFmH,IAAsBvR,GAAkB8T,GAAgBpJ,IAAMN,GACjE,OAEFkE,KAAKlE,QAAUM,EAEXoJ,IAAgB9T,SACZsO,KAAK9X,GAAY0f,SAGzB,MAAMgB,EAAc,CAAEvI,QAAOwI,QAASY,IAErCwH,GAAUjP,EAAK5F,EAAIvO,GAAoBG,GAAmB4a,GAE3DtX,GAAQmY,EAAQ3S,aAAa3H,KAAiBiN,GAE9CoW,GAAcpW,EAAG4D,MAEjB,MAAMoR,EAAUJ,GAAmBhR,KAAM,CACvC5D,IACA5C,WACAyX,SACArI,gBAQF,OALAlS,GAAY+S,EAAShP,EAAKxQ,GAAUyG,IAAsB0L,GAC1D1F,GAAY2F,EAAM5B,EAAK1Q,GAAU2G,IAAsB0L,GAEvD5C,GAAY9H,SAAyB0f,EAE9BpR,IACR"}