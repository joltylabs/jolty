{"version":3,"file":"jolty.min.js","sources":["../src/helpers/utils/kebabToCamel.js","../src/helpers/utils/upperFirst.js","../src/helpers/constants/index.js","../src/helpers/is/isArray.js","../src/helpers/is/isElement.js","../src/helpers/is/isFunction.js","../src/helpers/is/isHTML.js","../src/helpers/is/isIterable.js","../src/helpers/is/isNumber.js","../src/helpers/is/isObject.js","../src/helpers/is/isString.js","../src/helpers/utils/arrayFrom.js","../src/helpers/utils/arrayUnique.js","../src/helpers/utils/callOrReturn.js","../src/helpers/utils/camelToKebab.js","../src/helpers/utils/checkHash.js","../src/helpers/utils/createElement.js","../src/helpers/dom/addClass.js","../src/helpers/utils/createInset.js","../src/helpers/utils/getDataSelector.js","../src/helpers/utils/getOption.js","../src/helpers/utils/getOptionElem.js","../src/helpers/utils/getOptionElems.js","../src/helpers/utils/getPosition.js","../src/helpers/utils/isOverflowElement.js","../src/helpers/utils/isUnfocusable.js","../src/helpers/utils/mergeDeep.js","../src/helpers/utils/normalizeToggleParameters.js","../src/helpers/utils/observeResize.js","../src/helpers/utils/replaceWord.js","../src/helpers/utils/returnArray.js","../src/helpers/utils/strToArray.js","../src/helpers/utils/toMs.js","../src/helpers/utils/uuidGenerator.js","../src/helpers/utils/updateOptsByData.js","../src/helpers/utils/getEventsPrefix.js","../src/helpers/utils/getClassActive.js","../src/helpers/utils/getDefaultToggleSelector.js","../src/helpers/utils/updateModule.js","../src/helpers/utils/ResetFloatingCssVariables.js","../src/helpers/utils/valuesToArray.js","../src/helpers/dom/addStyle.js","../src/helpers/dom/closest.js","../src/helpers/dom/dir.js","../src/helpers/dom/each.js","../src/helpers/dom/filter.js","../src/helpers/dom/focus.js","../src/helpers/dom/fragment.js","../src/helpers/dom/getElement.js","../src/helpers/dom/getElements.js","../src/helpers/dom/inDOM.js","../src/helpers/dom/is.js","../src/helpers/dom/map.js","../src/helpers/dom/nextAll.js","../src/helpers/dom/parents.js","../src/helpers/dom/removeAttribute.js","../src/helpers/dom/removeClass.js","../src/helpers/dom/setAttribute.js","../src/helpers/dom/toggleClass.js","../src/helpers/dom/getBoundingClientRect.js","../src/helpers/dom/getPropertyValue.js","../src/helpers/EventHandler.js","../src/helpers/Breakpoints.js","../src/helpers/Base.js","../src/helpers/ToggleMixin.js","../src/helpers/Transition.js","../src/helpers/Teleport.js","../src/helpers/modules/addDismiss.js","../src/helpers/modules/addEscapeHide.js","../src/helpers/modules/callAutofocus.js","../src/helpers/modules/baseDestroy.js","../src/helpers/modules/toggleOnInterection.js","../src/helpers/Floating.js","../src/helpers/utils/collectCssVariables.js","../src/helpers/modules/floatingTransition.js","../src/helpers/modules/addOutsideHide.js","../src/helpers/modules/callInitShow.js","../src/helpers/modules/awaitPromise.js","../src/Collapse.js","../src/Dropdown.js","../src/Modal.js","../src/Tablist.js","../src/helpers/dom/next.js","../src/helpers/utils/without.js","../src/helpers/Autoaction.js","../src/Toast.js","../src/Tooltip.js","../src/Popover.js"],"sourcesContent":["const cache = {};\nexport default (str = \"\") =>\n  cache[str] ||\n  (cache[str] = str.replace(/-./g, (match) => match[1].toUpperCase()));\n","const cache = {};\nexport default (str = \"\") =>\n  cache[str] || (cache[str] = str[0].toUpperCase() + str.slice(1));\n","import kebabToCamel from \"../utils/kebabToCamel\";\nimport upperFirst from \"../utils/upperFirst\";\n\nexport const UI = \"ui\";\nexport const UI_PREFIX = UI + \"-\";\nexport const UI_EVENT_PREFIX = \".\" + UI;\nexport const VAR_UI_PREFIX = \"--\" + UI_PREFIX;\nexport const DATA_PREFIX = \"data-\";\nexport const DATA_UI_PREFIX = DATA_PREFIX + UI_PREFIX;\nexport const ACTIVE = \"active\";\nexport const CLASS_ACTIVE = UI_PREFIX + ACTIVE;\n\nexport const DEFAULT = \"default\";\nexport const NAME = \"name\";\nexport const MODE = \"mode\";\n\nexport const PX = \"px\";\nexport const NONE = \"none\";\nexport const ID = \"id\";\n\nexport const WIDTH = \"width\";\nexport const HEIGHT = \"height\";\nexport const TOP = \"top\";\nexport const LEFT = \"left\";\nexport const RIGHT = \"right\";\nexport const BOTTOM = \"bottom\";\nexport const CENTER = \"center\";\nexport const START = \"start\";\nexport const END = \"end\";\nexport const UP = \"up\";\nexport const DOWN = \"down\";\nexport const IN = \"in\";\nexport const OUT = \"out\";\nexport const MOVE = \"move\";\nexport const TITLE = \"title\";\n\nexport const HORIZONTAL = \"horizontal\";\nexport const VERTICAL = \"vertical\";\nexport const ABSOLUTE = \"absolute\";\nexport const FIXED = \"fixed\";\nexport const TRANSITION = \"transition\";\n\nexport const DIV = \"div\";\nexport const BUTTON = \"button\";\nexport const WINDOW = \"window\";\nexport const DOCUMENT = \"document\";\nexport const CLASS = \"class\";\nexport const STYLE = \"style\";\nexport const KEY = \"key\";\nexport const ROLE = \"role\";\nexport const ROOT = \"root\";\nexport const CONFIRM = \"confirm\";\nexport const CANCEL = \"cancel\";\n\nexport const BEFORE = \"before\";\nexport const AFTER = \"after\";\n\nexport const MOUSE = \"mouse\";\n\nexport const CLICK = \"click\";\nexport const HOVER = \"hover\";\nexport const FOCUS = \"focus\";\nexport const SCROLL = \"scroll\";\n\nexport const HIDE = \"hide\";\nexport const HIDDEN = \"hidden\";\nexport const SHOW = \"show\";\nexport const SHOWN = \"shown\";\nexport const APPEAR = \"appear\";\n\nexport const TARGET = \"target\";\nexport const AVAILABLE = \"awailable\";\nexport const AVAILABLE_WIDTH = AVAILABLE + \"-\" + WIDTH;\nexport const AVAILABLE_HEIGHT = AVAILABLE + \"-\" + HEIGHT;\nexport const ANCHOR = \"anchor\";\nexport const ANCHOR_WIDTH = ANCHOR + \"-\" + WIDTH;\nexport const ANCHOR_HEIGHT = ANCHOR + \"-\" + HEIGHT;\n\nexport const MODAL = \"modal\";\nexport const CONTENT = \"content\";\nexport const BACKDROP = \"backdrop\";\nexport const POPOVER = \"popover\";\nexport const TOOLTIP = \"tooltip\";\nexport const TOGGLER = \"toggler\";\nexport const DROPDOWN = \"dropdown\";\nexport const ARROW = \"arrow\";\nexport const PROGRESS = \"progress\";\nexport const DISMISS = \"dismiss\";\nexport const FLOATING = \"floating\";\nexport const DIALOG = \"dialog\";\n\nexport const FLIP = \"flip\";\nexport const SHRINK = \"shrink\";\nexport const STICKY = \"sticky\";\nexport const PLACEMENT = \"placement\";\nexport const PADDING = \"padding\";\nexport const OFFSET = \"offset\";\nexport const BOUNDARY_OFFSET = \"boundary-\" + OFFSET;\nexport const WEBKIT_PREFIX = \"-webkit-\";\nexport const CLIP_PATH = \"clip-path\";\nexport const ARROW_OFFSET = ARROW + \"-\" + OFFSET;\nexport const ARROW_PADDING = ARROW + \"-\" + PADDING;\nexport const TRUE = \"true\";\n\nexport const doc = document;\nexport const body = doc.body;\n\nexport const ENTER = \"enter\";\nexport const LEAVE = \"leave\";\nexport const BEFORE_ENTER = BEFORE + upperFirst(ENTER);\nexport const ENTER_ACTIVE = ENTER + upperFirst(ACTIVE);\nexport const ENTER_FROM = ENTER + \"From\";\nexport const ENTER_TO = ENTER + \"To\";\nexport const AFTER_ENTER = AFTER + upperFirst(ENTER);\nexport const BEFORE_LEAVE = BEFORE + upperFirst(LEAVE);\nexport const LEAVE_ACTIVE = LEAVE + upperFirst(ACTIVE);\nexport const LEAVE_FROM = LEAVE + \"From\";\nexport const LEAVE_TO = LEAVE + \"To\";\nexport const AFTER_LEAVE = AFTER + upperFirst(LEAVE);\nexport const HIDE_MODE = HIDE + upperFirst(MODE);\nexport const DURATION = \"duration\";\nexport const DURATION_ENTER = DURATION + upperFirst(ENTER);\nexport const DURATION_LEAVE = DURATION + upperFirst(LEAVE);\n\nexport const ACTION_INIT = \"init\";\nexport const ACTION_DESTROY = \"destroy\";\nexport const ACTION_TOGGLE = \"toggle\";\nexport const ACTION_SHOW = SHOW;\nexport const ACTION_HIDE = HIDE;\nexport const ACTION_ADD = \"add\";\nexport const ACTION_REMOVE = \"remove\";\nexport const ACTION_UPDATE = \"update\";\nexport const ACTION_PAUSE = \"pause\";\nexport const ACTION_RESUME = \"resume\";\nexport const ACTION_RESET = \"reset\";\nexport const ACTION_ON = \"on\";\nexport const ACTION_OFF = \"off\";\nexport const ACTION_EMIT = \"emit\";\nexport const ACTION_ONCE = \"once\";\nexport const ACTION_PREVENT = \"prevent\";\n\nexport const INERT = \"inert\";\nexport const AUTOFOCUS = \"autofocus\";\nexport const TABINDEX = \"tabindex\";\nexport const DISABLED = \"disabled\";\nexport const POPOVER_DATA_ATTRIBUTE = DATA_UI_PREFIX + POPOVER + \"-wrapper\";\nexport const FLOATING_DATA_ATTRIBUTE = DATA_UI_PREFIX + FLOATING;\nexport const DATA_PREVENT_INERT = DATA_UI_PREFIX + ACTION_PREVENT + \"-\" + INERT;\nexport const DATA_APPEAR = DATA_UI_PREFIX + APPEAR;\n\nexport const EVENT_INIT = ACTION_INIT;\nexport const EVENT_BEFORE_INIT = BEFORE + upperFirst(EVENT_INIT);\nexport const EVENT_DESTROY = ACTION_DESTROY;\nexport const EVENT_BEFORE_DESTROY = BEFORE + upperFirst(EVENT_DESTROY);\nexport const EVENT_BEFORE_SHOW = BEFORE + upperFirst(SHOW);\nexport const EVENT_SHOW = SHOW;\nexport const EVENT_SHOWN = SHOWN;\nexport const EVENT_BEFORE_HIDE = BEFORE + upperFirst(HIDE);\nexport const EVENT_HIDE = HIDE;\nexport const EVENT_HIDDEN = HIDDEN;\nexport const EVENT_PAUSE = ACTION_PAUSE;\nexport const EVENT_RESUME = ACTION_RESUME;\nexport const EVENT_RESET = ACTION_RESET;\nexport const EVENT_MOUSEENTER = MOUSE + ENTER;\nexport const EVENT_MOUSELEAVE = MOUSE + LEAVE;\nexport const EVENT_MOUSEMOVE = MOUSE + MOVE;\nexport const EVENT_MOUSEDOWN = MOUSE + DOWN;\nexport const EVENT_MOUSEUP = MOUSE + UP;\nexport const EVENT_CHANGE = \"change\";\nexport const EVENT_BREAKPOINT = \"breakpoint\";\nexport const EVENT_CLOSE = \"close\";\nexport const EVENT_CLICK = CLICK;\nexport const EVENT_KEYDOWN = KEY + DOWN;\nexport const EVENT_KEYUP = KEY + UP;\nexport const EVENT_FOCUS = FOCUS;\nexport const EVENT_FOCUSIN = FOCUS + IN;\nexport const EVENT_FOCUSOUT = FOCUS + OUT;\nexport const EVENT_RIGHT_CLICK = \"contextmenu\";\nexport const EVENT_VISIBILITY_CHANGE = \"visibilitychange\";\nexport const EVENT_HIDE_PREVENTED = \"hidePrevented\";\nexport const EVENT_ACTION_OUTSIDE = `${EVENT_CLICK}.outside ${EVENT_KEYUP}.outside`;\nexport const EVENT_SCROLL = SCROLL;\nexport const EVENT_RESIZE = \"resize\";\nexport const EVENT_DISABLED = DISABLED;\nexport const EVENT_ENABLED = \"enabled\";\n\nexport const ARIA = \"aria\";\nexport const ARIA_CONTROLS = ARIA + \"-controls\";\nexport const ARIA_EXPANDED = ARIA + \"-expanded\";\nexport const ARIA_SELECTED = ARIA + \"-selected\";\nexport const ARIA_HIDDEN = ARIA + \"-\" + HIDDEN;\nexport const ARIA_MULTISELECTABLE = ARIA + \"-multiselectable\";\nexport const ARIA_LABELLEDBY = ARIA + \"-labelledby\";\nexport const ARIA_DESCRIBEDBY = ARIA + \"-describedby\";\nexport const ARIA_ORIENTATION = ARIA + \"-orientation\";\nexport const ARIA_MODAL = ARIA + \"-\" + MODAL;\nexport const ARIA_LIVE = ARIA + \"-live\";\nexport const ARIA_ATOMIC = ARIA + \"-atomic\";\n\nexport const KEY_ENTER = 13;\nexport const KEY_ESC = 27;\nexport const KEY_SPACE = 32;\nexport const KEY_END = 35;\nexport const KEY_HOME = 36;\nexport const KEY_TAB = 9;\nexport const KEY_ARROW_LEFT = 37;\nexport const KEY_ARROW_UP = 38;\nexport const KEY_ARROW_RIGHT = 39;\nexport const KEY_ARROW_DOWN = 40;\n\nexport const A11Y = \"a11y\";\nexport const OPTION_GROUP = \"group\";\nexport const OPTION_APPEAR = APPEAR;\nexport const OPTION_KEEP_PLACE = \"keepPlace\";\nexport const OPTION_PREVENT_SCROLL = \"preventScroll\";\nexport const OPTION_POSITION = \"position\";\nexport const OPTION_TO = \"to\";\nexport const OPTION_ARIA_LABELLEDBY = kebabToCamel(ARIA_LABELLEDBY);\nexport const OPTION_ARIA_DESCRIBEDBY = kebabToCamel(ARIA_DESCRIBEDBY);\nexport const OPTION_ARIA_EXPANDED = kebabToCamel(ARIA_EXPANDED);\nexport const OPTION_ARIA_SELECTED = kebabToCamel(ARIA_SELECTED);\nexport const OPTION_ARIA_CONTROLS = kebabToCamel(ARIA_CONTROLS);\nexport const OPTION_ARIA_HIDDEN = kebabToCamel(ARIA_HIDDEN);\nexport const OPTION_ARIA_LIVE = kebabToCamel(ARIA_LIVE);\nexport const OPTION_ARIA_ATOMIC = kebabToCamel(ARIA_ATOMIC);\nexport const CLASS_ACTIVE_SUFFIX = \"ClassActive\";\nexport const ROLE_SUFFIX = upperFirst(ROLE);\n\nexport const OPTIONS_BOOLEAN = [OPTION_APPEAR, OPTION_KEEP_PLACE];\n\nexport const TRANSITION_REMOVE_MODE = { [HIDE_MODE]: ACTION_REMOVE };\nexport const DEFAULT_OPTIONS = {\n  [ACTION_INIT]: true,\n  [ACTION_DESTROY]: false,\n  data: \"\",\n  on: null,\n  [APPEAR]: null,\n  eventDispatch: true,\n  eventBubble: true,\n  shown: null,\n  a11y: true,\n};\nexport const DEFAULT_FLOATING_OPTIONS = {\n  awaitAnimation: false,\n  placement: BOTTOM,\n  offset: 10,\n  padding: 0,\n  delay: [200, 0],\n  boundaryOffset: 0,\n  shrink: false,\n  flip: false,\n  sticky: false,\n  escapeHide: true,\n  outsideHide: true,\n  mode: FIXED,\n  arrow: {\n    height: null,\n    width: null,\n    offset: 0,\n    padding: 0,\n  },\n};\n\nexport const SELECTOR_AUTOFOCUS = `[${AUTOFOCUS}]`;\nexport const SELECTOR_DISABLED = `[${DISABLED}]`;\nexport const SELECTOR_INERT = `[${INERT}]`;\nexport const SELECTOR_DATA_AUTOFOCUS = `[${DATA_UI_PREFIX + AUTOFOCUS}]`;\nexport const SELECTOR_DATA_CONFIRM = `[${DATA_UI_PREFIX + CONFIRM}]`;\nexport const SELECTOR_DATA_CANCEL = `[${DATA_UI_PREFIX + CANCEL}]`;\nexport const DEFAULT_AUTOFOCUS = `${SELECTOR_AUTOFOCUS},${SELECTOR_DATA_AUTOFOCUS}`;\nexport const SELECTOR_ROOT = \":\" + ROOT;\n\nexport const MIRROR = {\n  [TOP]: BOTTOM,\n  [BOTTOM]: TOP,\n  [LEFT]: RIGHT,\n  [RIGHT]: LEFT,\n  [START]: END,\n  [END]: START,\n  [WIDTH]: HEIGHT,\n  [HEIGHT]: WIDTH,\n  x: \"y\",\n  y: \"x\",\n};\n\nexport const CLIP_PATH_PROPERTY = CSS.supports(CLIP_PATH + \":\" + NONE)\n  ? CLIP_PATH\n  : WEBKIT_PREFIX + CLIP_PATH;\n","export default Array.isArray;\n","export default (value) => value && !!value.getElementsByClassName;\n","export default (value) => typeof value === \"function\";\n","export default RegExp.prototype.test.bind(/(<([^>]+)>)/i);\n","import { isString } from \"./index.js\";\nexport default (value) => value && !!value[Symbol.iterator] && !isString(value);\n","export default (value) => typeof value === \"number\";\n","export default (value) => value && value.constructor === Object;\n","export default (value) => typeof value === \"string\";\n","export default Array.from;\n","import arrayFrom from \"./arrayFrom\";\nexport default (array) =>\n  array.length > 1 ? arrayFrom(new Set(array)) : array;\n","import { isFunction } from \"../is\";\nexport default (value, ...data) => (isFunction(value) ? value(...data) : value);\n","const cache = {};\nexport default (str = \"\") =>\n  cache[str] ||\n  (cache[str] = str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase());\n","export default (id) => window.location.hash.substring(1) === id;\n","import { isString } from \"../is\";\nimport { addClass, addStyle, setAttribute } from \"../dom\";\nimport { CLASS, STYLE, DIV, doc } from \"../constants\";\nimport camelToKebab from \"./camelToKebab\";\nexport default (type = DIV, props, ...content) => {\n  const elem = doc.createElement(type);\n  if (props) {\n    if (isString(props)) {\n      props = { class: props };\n    }\n    Object.entries(props).forEach(([name, value]) => {\n      if (name === CLASS) {\n        addClass(elem, value);\n      } else if (name === STYLE) {\n        addStyle(elem, value);\n      } else {\n        setAttribute(elem, camelToKebab(name), value);\n      }\n    });\n  }\n  content.forEach((item) => item && elem.append(item));\n  return elem;\n};\n","import { toggleClass } from \"./index.js\";\nexport default (elem, classes) => toggleClass(elem, classes, true);\n","import { isArray, isObject, isNumber } from \"../is\";\nexport default (input, returnArray) => {\n  let top = 0,\n    right = 0,\n    bottom = 0,\n    left = 0;\n  if (isNumber(input)) {\n    top = right = bottom = left = input;\n  } else if (isArray(input)) {\n    if (input.length === 1) {\n      top = right = bottom = left = input[0];\n    } else if (input.length === 2) {\n      top = bottom = input[0];\n      right = left = input[1];\n    } else if (input.length === 3) {\n      top = input[0];\n      right = left = input[1];\n      bottom = input[2];\n    } else {\n      top = input[0];\n      right = input[1];\n      bottom = input[2];\n      left = input[3];\n    }\n  } else if (isObject(input)) {\n    top = input.top || 0;\n    right = input.right || 0;\n    bottom = input.bottom || 0;\n    left = input.left || 0;\n  }\n  if (returnArray) {\n    return [top, right, bottom, left];\n  } else {\n    return { top, right, bottom, left };\n  }\n};\n","import { DATA_UI_PREFIX } from \"../constants\";\nexport default (...values) => `[${DATA_UI_PREFIX + values.join(\"-\")}]`;\n","import { returnArray, callOrReturn } from \"./index.js\";\nimport { isString } from \"../is\";\nimport { doc } from \"../constants\";\n\nexport default function (multiply, instance, option, root = doc, ...params) {\n  if (!option) return;\n  option = callOrReturn(option, instance, ...params);\n  if (isString(option)) {\n    option = root[multiply ? \"querySelectorAll\" : \"querySelector\"](option);\n  }\n  return multiply ? returnArray(option).filter(Boolean) : option;\n}\n","import getOption from \"./getOption.js\";\nexport default (...params) => getOption(false, ...params);\n","import getOption from \"./getOption.js\";\nexport default (...params) => getOption(true, ...params);\n","import {\n  WIDTH,\n  HEIGHT,\n  TOP,\n  LEFT,\n  RIGHT,\n  BOTTOM,\n  AVAILABLE_WIDTH,\n  AVAILABLE_HEIGHT,\n  START,\n  CENTER,\n  END,\n  MIRROR,\n} from \"../constants\";\nimport { isArray } from \"../is\";\nimport { createInset } from \"./index.js\";\n\nconst { min, max } = Math;\n\nexport default function ({\n  absolute,\n  anchorRect,\n  targetRect,\n  arrow,\n  placement,\n  boundaryOffset = 0,\n  offset = 0,\n  padding = 0,\n  shrink = false,\n  flip = true,\n  sticky = false,\n  minWidth = 0,\n  minHeight = 0,\n}) {\n  boundaryOffset = createInset(boundaryOffset);\n\n  const viewRect = visualViewport;\n\n  if (absolute) {\n    flip = false;\n    shrink = false;\n    sticky = false;\n  }\n\n  flip = isArray(flip) ? flip : [flip];\n  flip[1] ??= flip[0];\n\n  padding = isArray(padding) ? padding : [padding];\n  padding[1] ??= padding[0];\n\n  const [baseM, baseS = CENTER] = placement.split(\"-\");\n  const hor = baseM === LEFT || baseM === RIGHT;\n\n  const size = hor ? WIDTH : HEIGHT;\n  const dir = hor ? LEFT : TOP;\n  const dirS = hor ? TOP : LEFT;\n\n  const minRect = { [WIDTH]: minWidth, [HEIGHT]: minHeight };\n\n  let useFlipM = null;\n  let useFlipS = null;\n\n  function calculate() {\n    const m = (useFlipM && MIRROR[baseM]) || baseM;\n    const s = (useFlipS && MIRROR[baseS]) || baseS;\n\n    const isStart = s === START;\n    const isEnd = s === END;\n    const isCenter = s === CENTER;\n    const isMainDir = m === dir;\n    const sumPadding = padding[0] + padding[1];\n    const mirrorSize = MIRROR[size];\n    const mirrorDirS = MIRROR[dirS];\n\n    const anchorSpace = {\n      [TOP]: anchorRect[TOP],\n      [LEFT]: anchorRect[LEFT],\n      [RIGHT]: viewRect[WIDTH] - anchorRect[RIGHT],\n      [BOTTOM]: viewRect[HEIGHT] - anchorRect[BOTTOM],\n    };\n\n    anchorSpace[m] -= offset + boundaryOffset[m];\n    anchorSpace[MIRROR[m]] -= boundaryOffset[dirS] + boundaryOffset[mirrorDirS];\n\n    let awailableSizesOffset;\n    if (sticky) {\n      awailableSizesOffset = viewRect[mirrorSize] - sumPadding;\n    } else {\n      awailableSizesOffset = viewRect[mirrorSize] - anchorRect[mirrorSize] / 2;\n      if (isStart) {\n        awailableSizesOffset =\n          anchorSpace[mirrorDirS] + anchorRect[mirrorSize] - sumPadding;\n      } else if (isEnd) {\n        awailableSizesOffset =\n          anchorSpace[dirS] + anchorRect[mirrorSize] - sumPadding;\n      }\n    }\n\n    const awailableSizes = {\n      [size]: max(minRect[size], anchorSpace[m]),\n      [mirrorSize]: max(minRect[mirrorSize], awailableSizesOffset),\n    };\n\n    const currentSize = {\n      [size]: shrink\n        ? min(targetRect[size], awailableSizes[size])\n        : targetRect[size],\n      [mirrorSize]: shrink\n        ? min(targetRect[mirrorSize], awailableSizes[mirrorSize])\n        : targetRect[mirrorSize],\n    };\n\n    if ((flip[0] || flip[1]) && useFlipM === null && useFlipS === null) {\n      if (\n        flip[0] &&\n        targetRect[size] > anchorSpace[m] &&\n        anchorSpace[m] < anchorSpace[MIRROR[m]]\n      ) {\n        useFlipM = true;\n      }\n      if (\n        flip[1] &&\n        anchorSpace[mirrorDirS] <\n          targetRect[mirrorSize] -\n            anchorRect[mirrorSize] +\n            padding[0] +\n            boundaryOffset[mirrorDirS]\n      ) {\n        useFlipS = true;\n      }\n      if (useFlipM || useFlipS) {\n        return calculate();\n      }\n    }\n\n    let mo;\n    if (isMainDir) {\n      mo = anchorRect[dir] - currentSize[size] - offset;\n    } else {\n      mo = anchorRect[MIRROR[dir]] + offset;\n    }\n\n    let so;\n    if (isStart) {\n      so = anchorRect[dirS] + padding[0];\n    } else if (isCenter) {\n      so =\n        anchorRect[dirS] -\n        (currentSize[mirrorSize] - anchorRect[mirrorSize]) / 2;\n    } else {\n      so = anchorRect[mirrorDirS] - currentSize[mirrorSize] - padding[1];\n    }\n\n    const staticSo = so;\n    if (sticky) {\n      if (so < boundaryOffset[dirS]) {\n        if (!isStart) {\n          so = boundaryOffset[dirS];\n          if (anchorRect[dirS] < boundaryOffset[dirS] - padding[0]) {\n            so = anchorRect[dirS] + padding[0];\n          }\n        }\n      } else if (\n        so + currentSize[mirrorSize] + boundaryOffset[mirrorDirS] >\n        viewRect[mirrorSize]\n      ) {\n        if (!isEnd) {\n          so -=\n            so +\n            currentSize[mirrorSize] -\n            viewRect[mirrorSize] +\n            boundaryOffset[mirrorDirS];\n          if (\n            anchorSpace[mirrorDirS] <\n            -padding[1] + boundaryOffset[mirrorDirS]\n          ) {\n            so -=\n              anchorSpace[mirrorDirS] + padding[1] - boundaryOffset[mirrorDirS];\n          }\n        }\n      }\n    }\n\n    const shift = staticSo - so;\n\n    let arrowPosition = {};\n    if (arrow) {\n      let { padding = 0, offset = 0 } = arrow;\n      padding = isArray(padding) ? padding : [padding];\n      padding[1] ??= padding[0];\n\n      let so;\n      if (isStart) {\n        so = padding[0];\n      } else if (isCenter) {\n        so = currentSize[mirrorSize] / 2 - arrow[mirrorSize] / 2;\n      } else {\n        so = currentSize[mirrorSize] - padding[1] - arrow[mirrorSize];\n      }\n\n      so += shift + max(0, -currentSize[mirrorSize] / 2);\n      let mo = -arrow[mirrorSize] / 2 + offset;\n      if (isMainDir) {\n        mo += currentSize[size];\n      }\n      arrowPosition = hor ? [mo, so] : [so, mo];\n    }\n\n    let transformOrigin;\n    if (arrow) {\n      transformOrigin = arrowPosition;\n    } else {\n      const mo = isStart\n        ? padding[0]\n        : isEnd\n        ? currentSize[mirrorSize] - padding[1]\n        : currentSize[MIRROR[size]] / 2;\n      const so = isMainDir ? currentSize[size] : 0;\n      transformOrigin = hor ? [so, mo] : [mo, so];\n    }\n\n    return {\n      [dir]: mo,\n      [dirS]: so,\n      [AVAILABLE_WIDTH]: awailableSizes[WIDTH],\n      [AVAILABLE_HEIGHT]: awailableSizes[HEIGHT],\n      arrow: arrowPosition,\n      placement: useFlipM ? MIRROR[placement] : placement,\n      transformOrigin,\n    };\n  }\n  return calculate();\n}\n","export default (elem) => {\n  const { overflow, overflowX, overflowY, display } = getComputedStyle(elem);\n  return (\n    !/inline|contents/.test(display) &&\n    /auto|hidden|scroll|overlay|clip/.test(overflow + overflowY + overflowX)\n  );\n};\n","import { SELECTOR_DISABLED, SELECTOR_INERT } from \"../constants\";\nconst UNFOCUSABLE_SELECTORS = `${SELECTOR_DISABLED},${SELECTOR_INERT}`;\nexport default (elem) => elem.matches(UNFOCUSABLE_SELECTORS);\n","import { isArray, isObject } from \"../is\";\nexport default function mergeDeep(...objects) {\n  const result = {};\n  for (const object of objects.filter(Boolean)) {\n    for (const [key, value] of Object.entries(object)) {\n      if (isObject(result[key])) {\n        result[key] = isObject(value) ? mergeDeep(result[key], value) : value;\n      } else if (isArray(result[key])) {\n        result[key] = isArray(value) ? [...result[key], ...value] : value;\n      } else if (value !== undefined) {\n        result[key] = value;\n      }\n    }\n  }\n  return result;\n}\n","import { isObject } from \"../is\";\nexport default (animated = true) =>\n  isObject(animated) ? { animated: true, ...animated } : { animated };\n","const resizeObserver = new ResizeObserver((entries) => {\n  for (const { borderBoxSize, target } of entries) {\n    const { blockSize, inlineSize } = borderBoxSize[0];\n    target.__resizeCallback__(inlineSize, blockSize);\n  }\n});\nfunction observeResize(target, fn) {\n  target.__resizeCallback__ = fn;\n  resizeObserver.observe(target, { box: \"border-box\" });\n}\nexport { resizeObserver, observeResize };\n","export default (str, word) =>\n  str\n    .split(\" \")\n    .filter((w) => w !== word)\n    .join(\" \");\n","import arrayFrom from \"./arrayFrom\";\nimport { isIterable } from \"../is\";\nexport default (elem) =>\n  elem !== undefined ? (isIterable(elem) ? arrayFrom(elem) : [elem]) : [];\n","import { isArray } from \"../is\";\nexport default (str = \"\", separator = \" \") =>\n  str ? (isArray(str) ? str : str.split(separator)).filter(Boolean) : [];\n","export default (time) => {\n  if (!time) return;\n  let num = parseFloat(time);\n  let unit = time.match(/m?s/);\n  if (unit) {\n    unit = unit[0];\n  }\n  if (unit === \"s\") {\n    num *= 1000;\n  }\n  return num;\n};\n","export default (prefix = \"\") =>\n  prefix + Math.random().toString(36).substring(2, 12);\n","import { UI, OPTIONS_BOOLEAN } from \"../constants\";\nimport { isArray } from \"../is\";\nimport { upperFirst } from \"../utils\";\n\nexport default (opts, dataset, names) => {\n  names.forEach((name) => {\n    let optionName = name;\n    let attributeName = name;\n    if (isArray(name)) {\n      optionName = name[0];\n      attributeName = name[1];\n    }\n    let value = dataset[UI + upperFirst(attributeName)];\n    const hasAttribute = value !== undefined;\n    if (hasAttribute) {\n      if (OPTIONS_BOOLEAN.includes(optionName)) {\n        value = hasAttribute;\n      } else if (value && value[0] === \"{\") {\n        value = JSON.parse(value);\n      }\n      opts[optionName] = value;\n    }\n  });\n  return opts;\n};\n","import { UI_PREFIX } from \"../constants\";\nexport default (name) => UI_PREFIX + name + \":\";\n","import { UI_PREFIX, ACTIVE } from \"../constants\";\nexport default (name) => UI_PREFIX + (name ? name + \"-\" : \"\") + ACTIVE;\n","import { DATA_UI_PREFIX, ACTION_TOGGLE } from \"../constants\";\nexport default (id, multiply) =>\n  `[${DATA_UI_PREFIX + ACTION_TOGGLE}${\n    multiply ? \"~\" : \"\"\n  }=\"${id}\"],[href=\"#${id}\"]`;\n","import { DEFAULT } from \"../constants\";\nimport { isObject, isString } from \"../is\";\nimport { upperFirst } from \"./index\";\nconst DEFAULT_PREFIX = upperFirst(DEFAULT);\nexport default ({ opts, constructor }, name, property = false, defaults) => {\n  const defaultValue = constructor[DEFAULT_PREFIX + upperFirst(name)];\n  let value = opts[name];\n  if (defaults && value && isString(value)) {\n    value = defaults[value];\n  }\n  if (isObject(value)) {\n    opts[name] = { ...defaultValue, ...value };\n  } else if (value) {\n    opts[name] = { ...defaultValue };\n    if (property) {\n      opts[name][property] = value;\n    }\n  }\n  return opts;\n};\n","import {\n  ARROW_OFFSET,\n  ARROW_PADDING,\n  BOUNDARY_OFFSET,\n  doc,\n  DROPDOWN,\n  FLIP,\n  OFFSET,\n  PADDING,\n  PLACEMENT,\n  POPOVER,\n  SHRINK,\n  STICKY,\n  STYLE,\n  TOOLTIP,\n  VAR_UI_PREFIX,\n} from \"../constants/index.js\";\nimport { createElement } from \"./index.js\";\n\nconst registerProperty = CSS.registerProperty;\n\nexport default () => {\n  let css = \"\";\n  [TOOLTIP, DROPDOWN, POPOVER].forEach((name) => {\n    const PREFIX = VAR_UI_PREFIX + name + \"-\";\n    [\n      STICKY,\n      FLIP,\n      SHRINK,\n      PLACEMENT,\n      PADDING,\n      OFFSET,\n      BOUNDARY_OFFSET,\n      ARROW_OFFSET,\n      ARROW_PADDING,\n    ].forEach((prop) => {\n      if (registerProperty) {\n        registerProperty({\n          name: PREFIX + prop,\n          syntax: \"*\",\n          inherits: false,\n        });\n      } else {\n        css += PREFIX + prop + \":;\";\n      }\n    });\n  });\n\n  if (!registerProperty) {\n    doc.head.appendChild(createElement(STYLE, false, `*{${css}}`));\n  }\n};\n","export default ({ value }) => value.trim().split(\" \").map(parseFloat);\n","import { isIterable, isObject } from \"../is\";\nimport { camelToKebab } from \"../utils\";\nexport default function addStyle(elem, name, value) {\n  if (isIterable(elem)) {\n    elem.forEach((elem) => addStyle(elem, name, value));\n  } else {\n    if (isObject(name)) {\n      for (const key in name) addStyle(elem, key, name[key]);\n    } else {\n      elem.style.setProperty(camelToKebab(name), value);\n    }\n  }\n}\n","import { getElements } from \"./index.js\";\nexport default (elem, selectors) =>\n  getElements(selectors).find((t) => t === elem || t.contains(elem));\n","import { isFunction } from \"../is\";\nimport { filter, map, is } from \"./index.js\";\n\nexport default (elem, property, selector, until) => {\n  const utilIsFn = isFunction(until);\n  return map(elem, (el) => {\n    const elems = [];\n    while (el) {\n      el = el[property];\n      if (el) {\n        if (until && (utilIsFn ? until(el) : is(el, until))) break;\n        elems.push(el);\n      }\n    }\n    return filter(elems, selector);\n  }).flat();\n};\n","import { getElements } from \"./index.js\";\nexport default (elems, fn) => {\n  elems = getElements(elems);\n  elems.forEach(fn);\n  return elems;\n};\n","import { isFunction } from \"../is\";\nimport { is } from \"../dom\";\nimport { arrayFrom } from \"../utils\";\n\nexport default (elems, selector) => {\n  const isFn = isFunction(selector);\n  elems = arrayFrom(elems);\n  return selector\n    ? elems.filter((elem, i, list) =>\n        isFn ? selector(elem, i, list) : is(elem, selector),\n      )\n    : elems;\n};\n","export default (elem, opts = { preventScroll: true }) =>\n  elem && elem.focus(opts);\n","import { isString } from \"../is\";\nimport { arrayFrom } from \"../utils\";\nexport default (html, findSelectors) => {\n  let children = html;\n  if (isString(html)) {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, \"text/html\");\n    if (findSelectors) {\n      return arrayFrom(doc.querySelectorAll(findSelectors));\n    }\n    children = doc.body.children;\n  }\n  return children\n    ? children.length > 1\n      ? arrayFrom(children)\n      : children[0]\n    : \"\";\n};\n","import { getElements } from \"./index.js\";\nexport default (selector, context, findSelf) =>\n  getElements(selector, context, findSelf)[0];\n","import { isElement, isString, isIterable, isHTML } from \"../is\";\nimport { arrayUnique, returnArray, arrayFrom } from \"../utils\";\nimport { getElement, is } from \"../dom\";\nimport { WINDOW, DOCUMENT, doc } from \"../constants\";\nimport { fragment } from \"./index.js\";\n\nexport default function getElements(selector, context = doc, findSelf = false) {\n  if (isElement(selector)) {\n    return [selector];\n  }\n  let result = selector;\n  if (isString(context)) {\n    context = getElement(context);\n  }\n  if (!isElement(context) || !selector) return [];\n  if (isString(selector)) {\n    selector = selector.trim();\n    if (selector === DOCUMENT) {\n      result = doc;\n    } else if (selector === WINDOW) {\n      result = window;\n    } else if (isHTML(selector)) {\n      result = fragment(selector);\n    } else {\n      result = context.querySelectorAll(selector);\n    }\n  } else if (isIterable(selector)) {\n    result = arrayFrom(selector, (item) => getElements(item, context)).flat();\n  }\n\n  result = returnArray(result);\n\n  if (findSelf && is(context, selector)) {\n    result.unshift(context);\n  }\n  return arrayUnique(result).filter(Boolean);\n}\n","import { body } from \"../constants\";\nexport default (elem) => elem && body.contains(elem);\n","import { isString, isIterable, isFunction } from \"../is\";\nimport { arrayFrom } from \"../utils\";\nexport default (elem, selector) =>\n  elem === selector\n    ? true\n    : isString(selector)\n    ? elem.matches(selector)\n    : isIterable(selector)\n    ? arrayFrom(selector).includes(elem)\n    : isFunction(selector) && selector(elem);\n","import { getElements } from \"./index.js\";\nexport default (elems, fn) => getElements(elems).map(fn);\n","import { dir } from \"./index.js\";\nexport default (elem, selector, until) =>\n  dir(elem, \"nextElementSibling\", selector, until);\n","import { dir } from \"./index.js\";\nexport default (elem, selector, until) =>\n  dir(elem, \"parentElement\", selector, until);\n","import { isIterable } from \"../is\";\nimport { strToArray } from \"../utils\";\nexport default (elem, names) => {\n  names = strToArray(names);\n  if (isIterable(elem)) {\n    elem.forEach((elem) =>\n      names.forEach((name) => elem && elem.removeAttribute(name)),\n    );\n  } else {\n    names.forEach((name) => elem && elem.removeAttribute(name));\n  }\n};\n","import { toggleClass } from \"./index.js\";\nexport default (elem, classes) => toggleClass(elem, classes, false);\n","import { isFunction, isArray } from \"../is\";\nexport default function setAttribute(elem, name, value) {\n  if (!elem) return;\n  if (isArray(elem)) {\n    return elem.forEach((elem) => setAttribute(elem, name, value));\n  }\n  if (isFunction(value)) {\n    value = value(elem.getAttribute(name));\n  }\n  if (value === null) {\n    elem.removeAttribute(name);\n  } else if (value !== undefined) {\n    elem.setAttribute(name, value);\n  }\n}\n","import { isElement, isIterable, isArray } from \"../is\";\nimport { strToArray } from \"../utils\";\nimport { ACTION_ADD, ACTION_REMOVE } from \"../constants\";\n\nexport default function toggleClass(elem, classes, s) {\n  if (isArray(classes)) {\n    classes = classes.filter(Boolean).join(\" \");\n  }\n  const cls = strToArray(classes);\n  if (isElement(elem)) {\n    s ??= !elem.classList.contains(cls[0]);\n    elem.classList[s ? ACTION_ADD : ACTION_REMOVE](...cls);\n  } else if (isIterable(elem)) {\n    elem.forEach((el) => toggleClass(el, cls, s));\n  }\n}\n","import { BOTTOM, HEIGHT, LEFT, RIGHT, TOP, WIDTH } from \"../constants/index.js\";\nconst isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);\n\nexport default (elem, useScale) => {\n  const rect = elem.getBoundingClientRect().toJSON();\n\n  if (!useScale) return rect;\n\n  const vV = visualViewport;\n  const hasScale = vV.scale > 1.01 || vV.scale < 0.99;\n  const iosScale = window.innerWidth / document.documentElement.clientWidth;\n  const hasIosScale = iosScale > 1.01 || iosScale < 0.99;\n  const keyboardOpen = vV.height !== window.innerHeight;\n\n  if (\n    (!hasScale && hasIosScale) ||\n    (keyboardOpen && hasScale && hasIosScale) ||\n    (!hasScale && keyboardOpen && isIOS)\n  ) {\n    rect[TOP] += vV.offsetTop;\n    rect[LEFT] += vV.offsetLeft;\n    rect[RIGHT] = rect[LEFT] + rect[WIDTH];\n    rect[BOTTOM] = rect[TOP] + rect[HEIGHT];\n  }\n\n  return rect;\n};\n","export default (style, name) => style.getPropertyValue(name).trim();\n","import { ACTION_ON, ACTION_OFF, ACTION_EMIT, ACTION_ONCE } from \"./constants\";\nimport { isString, isObject } from \"./is\";\nimport { closest, each } from \"./dom\";\nimport { strToArray, arrayFrom } from \"./utils\";\n\nconst getOptsObj = (args, newOpts) => {\n  args = arrayFrom(args);\n  const optsPosition = isString(args[2]) ? 4 : 3;\n  let opts = args[optsPosition];\n  opts = isObject(opts) ? opts : { capture: !!opts };\n  args[optsPosition] = { ...opts, ...newOpts };\n  return args;\n};\n\nclass EventHandler {\n  constructor() {\n    this.eventsSet = new Set();\n    for (const name of [ACTION_ON, ACTION_OFF, ACTION_EMIT, ACTION_ONCE]) {\n      this[name] = this[name].bind(this);\n    }\n    this._id = 0;\n  }\n  getNamespaces(eventFullName) {\n    let [event, ...namespace] = eventFullName.split(/\\.(?![^([]*[\\]])/);\n    namespace = namespace?.join(\".\");\n    event = event.replace(/[[\\]']+/g, \"\");\n    return { eventFullName, event, namespace };\n  }\n  on(elems, events, ...params) {\n    let [_handler, _opts] = params;\n    let deligate;\n\n    if (isString(_handler)) {\n      [deligate, _handler, _opts] = params;\n    }\n    if (!isObject(_opts)) {\n      _opts = { capture: !!_opts };\n    }\n\n    _handler = ((fn) => (e) => {\n      fn(e, e.detail);\n    })(_handler);\n\n    elems = each(elems, (elem) => {\n      events = isString(events)\n        ? strToArray(events)\n        : isObject(events)\n        ? [events]\n        : events;\n      events.forEach((eventFullName) => {\n        const id = this._id++;\n        const opts = { ..._opts };\n        let handler = _handler;\n\n        const { event, namespace } = isString(eventFullName)\n          ? this.getNamespaces(eventFullName)\n          : eventFullName;\n\n        if (opts.once) {\n          handler = ((fn) => (e) => {\n            this.offId(id);\n            fn(e);\n          })(handler);\n        }\n        opts.once = false;\n\n        if (deligate) {\n          const isSelector = isString(deligate);\n          handler = ((fn) => (e) => {\n            e.deligateTarget = isSelector\n              ? e.target.closest(deligate)\n              : closest(e.target, deligate);\n            if (e.deligateTarget) {\n              fn(e);\n            }\n          })(handler);\n        }\n\n        elem.addEventListener(event, handler, opts);\n        this.eventsSet.add({\n          id,\n          elem,\n          eventFullName,\n          event,\n          namespace,\n          handler,\n          opts,\n        });\n      });\n    });\n    return elems;\n  }\n  once() {\n    return this.on(...getOptsObj(arguments, { once: true }));\n  }\n  offId(id) {\n    this.removeSets([arrayFrom(this.eventsSet).find((s) => s.id === id)]);\n  }\n  removeSets(sets, opts) {\n    sets.forEach((set) => {\n      if (!set) return;\n      set.elem.removeEventListener(set.event, set.handler, opts);\n      this.eventsSet.delete(set);\n    });\n  }\n  off(elems, events, handler, opts) {\n    const eventsSet = this.eventsSet;\n    if (!arguments.length) {\n      this.removeSets(eventsSet, opts);\n    } else {\n      return each(elems, (elem) => {\n        if (events) {\n          strToArray(events).forEach((eventFullName) => {\n            const { event, namespace } = this.getNamespaces(eventFullName);\n            const sets = arrayFrom(eventsSet).filter(\n              (set) =>\n                set.elem === elem &&\n                (!namespace || set.namespace === namespace) &&\n                (!event || set.event === event) &&\n                (!handler || set.handler === handler),\n            );\n\n            this.removeSets(sets, opts);\n          });\n        } else {\n          this.removeSets(\n            [...eventsSet].filter((e) => e.elem === elem),\n            opts,\n          );\n        }\n      });\n    }\n  }\n  emit(elems, events, opts) {\n    each(elems, (elem) => {\n      strToArray(events).forEach((event) => {\n        elem.dispatchEvent(new CustomEvent(event, opts));\n      });\n    });\n  }\n}\n\nexport { EventHandler };\n","import { PX, EVENT_CHANGE } from \"./constants\";\nimport { mergeDeep } from \"./utils\";\n\nclass Breakpoints {\n  static mql = {};\n  static instances = new Set();\n  constructor(breakpoints, opts) {\n    const unit = opts.unit ?? PX;\n    this._onResize = this._onResize.bind(this);\n    breakpoints = Object.entries(breakpoints).sort((a, b) => a[0] - b[0]);\n    this.mql = breakpoints.map(([width, data], i) => {\n      width = +width;\n      const media = !i\n        ? `not all and (min-width:${breakpoints[i + 1][0]}${unit})`\n        : `(min-width:${width}${unit})`;\n      const mq = (this.constructor.mql[width] ||= window.matchMedia(media));\n      mq.addEventListener(EVENT_CHANGE, this._onResize);\n      return { mq, width, data };\n    });\n    this.breakpoints = breakpoints;\n    this.opts = opts;\n    this._onResize();\n    this.constructor.instances.add(this);\n  }\n  _onResize(e) {\n    if (!e || e.matches) {\n      this.checkBreakpoints();\n    }\n  }\n  checkBreakpoints(ignoreConditions) {\n    const { opts, breakpoint, mql } = this;\n    let currentData, newBreakpoint;\n    for (const { width, data, mq } of mql) {\n      if (width && !mq.matches) break;\n      newBreakpoint = [data, width];\n      currentData = mergeDeep(currentData ?? data, data);\n    }\n    if (ignoreConditions || !breakpoint || breakpoint[1] !== newBreakpoint[1]) {\n      this.breakpoint = newBreakpoint;\n      opts.onUpdate && opts.onUpdate(newBreakpoint, currentData);\n    }\n\n    return this.breakpoint;\n  }\n  destroy() {\n    this.mql.forEach(({ mq }) =>\n      mq.removeEventListener(EVENT_CHANGE, this._onResize),\n    );\n    this.constructor.instances.delete(this);\n  }\n}\n\nexport default Breakpoints;\n","import {\n  DATA_UI_PREFIX,\n  EVENT_BREAKPOINT,\n  ACTION_TOGGLE,\n  ACTION_SHOW,\n  ACTION_HIDE,\n  ACTION_INIT,\n  ACTION_DESTROY,\n  ACTION_UPDATE,\n  ACTION_ON,\n  ACTION_OFF,\n  ACTION_EMIT,\n  ACTION_ONCE,\n  doc,\n} from \"./constants\";\nimport { isArray, isFunction, isHTML, isObject, isString } from \"./is\";\nimport { getElement, fragment } from \"./dom\";\nimport {\n  mergeDeep,\n  uuidGenerator,\n  callOrReturn,\n  getDataSelector,\n  arrayFrom,\n} from \"./utils\";\nimport { EventHandler } from \"./EventHandler\";\nimport Breakpoints from \"./Breakpoints\";\n\nfunction getDataValue(_data, dataName, elem) {\n  const value = callOrReturn(_data[dataName], elem);\n  if (!isObject(value)) return {};\n  return _data[value.data]\n    ? { ...getDataValue(_data, value.data, elem), ...value }\n    : value;\n}\n\nclass Base {\n  static allInstances = new Map();\n  constructor(elem, opts) {\n    if (isFunction(opts)) {\n      opts = opts(elem);\n    }\n    opts ??= {};\n    const { NAME, BASE_NODE_NAME, Default, _data, _templates, allInstances } =\n      this.constructor;\n    const baseElemName = BASE_NODE_NAME ?? NAME;\n\n    let dataName = opts.data;\n    let datasetValue, isDataObject;\n\n    if (elem == null) {\n      opts = mergeDeep(Default, getDataValue(_data, dataName, elem), opts);\n      elem = isString(opts.template)\n        ? callOrReturn(_templates[opts.template], opts)\n        : opts.template(opts);\n      this._fromTemplate = true;\n    } else if (elem) {\n      if (isHTML(elem)) {\n        elem = fragment(elem);\n        this._fromHTML = true;\n      } else if (isString(elem)) {\n        elem = doc.querySelector(elem);\n      }\n      datasetValue = elem.getAttribute(DATA_UI_PREFIX + NAME)?.trim() || \"\";\n      isDataObject = datasetValue[0] === \"{\";\n      dataName ||= !isDataObject && datasetValue;\n\n      datasetValue = isDataObject ? JSON.parse(datasetValue) : {};\n\n      if (dataName && !_data[dataName]) return;\n\n      opts = mergeDeep(\n        Default,\n        getDataValue(_data, dataName, elem),\n        datasetValue,\n        opts,\n      );\n    }\n    elem = getElement(elem);\n\n    if (!elem) return;\n\n    this[baseElemName] = elem;\n\n    this.baseOpts = this.opts = opts;\n\n    this.id = elem.id ||= this.uuid = uuidGenerator(NAME + \"-\");\n    const eventHandler = new EventHandler();\n    [ACTION_ON, ACTION_OFF, ACTION_ONCE].forEach((name) => {\n      this[name] = (...params) => {\n        eventHandler[name](...params);\n        return this;\n      };\n    });\n\n    [\n      ACTION_TOGGLE,\n      ACTION_SHOW,\n      ACTION_HIDE,\n      ACTION_INIT,\n      ACTION_DESTROY,\n      ACTION_UPDATE,\n      ACTION_EMIT,\n    ].forEach((action) => (this[action] = this[action]?.bind(this)));\n\n    if (this.baseOpts.breakpoints) {\n      this._initBreakpoints();\n    } else {\n      this.init();\n    }\n\n    allInstances.set(this.id, this);\n\n    return this;\n  }\n  _initBreakpoints() {\n    this.breakpoints = new Breakpoints(\n      { 0: this.baseOpts, ...this.baseOpts.breakpoints },\n      {\n        onUpdate: (breakpoint, opts) => {\n          this.emit(EVENT_BREAKPOINT, breakpoint, this.breakpoint);\n          this.opts = breakpoint[1]\n            ? mergeDeep(opts, breakpoint[0])\n            : { ...opts };\n          delete this.opts.breakpoints;\n          if (opts.destroy) {\n            this.destroy();\n          } else if (this.isInit) {\n            this._update?.();\n          } else {\n            this.init();\n          }\n          this.breakpoint = breakpoint;\n        },\n      },\n    );\n  }\n  emit(eventName, ...detail) {\n    const { opts, base } = this;\n    const { on, eventDispatch, eventBubble, eventPrefix } = opts;\n    detail = [this, ...detail];\n    if (on) {\n      on[eventName] && on[eventName](...detail);\n      on.any && on.any(eventName, ...detail);\n    }\n\n    if (\n      isArray(eventDispatch) ? eventDispatch.includes(eventName) : eventDispatch\n    ) {\n      const bubbles =\n        (isArray(eventBubble) && eventBubble.includes(eventName)) ||\n        !!eventBubble;\n      base.dispatchEvent(\n        new CustomEvent(eventPrefix + eventName, { detail, bubbles }),\n      );\n    }\n    return this;\n  }\n  update(opts) {\n    if (opts) {\n      this.baseOpts = mergeDeep(this.baseOpts, opts);\n      if (this.breakpoints || this.baseOpts.breakpoints) {\n        this.breakpoints?.destroy();\n        this.breakpoints = false;\n        this._initBreakpoints();\n      } else {\n        this._update?.();\n      }\n    }\n    return this;\n  }\n  get base() {\n    return this[this.constructor.BASE_NODE_NAME ?? this.constructor.NAME];\n  }\n  get instances() {\n    return this.constructor.instances;\n  }\n  get Default() {\n    return this.constructor.Default;\n  }\n  static get(elem) {\n    if (elem === undefined) return [...this.instances.values()];\n    for (const [id, instance] of this.instances) {\n      if ([id, instance.base].includes(elem)) {\n        return instance;\n      }\n    }\n  }\n  static getOrCreate(elem, opts) {\n    return this.get(elem, opts) || new this(elem, opts);\n  }\n  static initAll(root = doc) {\n    return arrayFrom(root.querySelectorAll(getDataSelector(this.NAME))).map(\n      (elem) => this.getOrCreate(elem),\n    );\n  }\n  static updateDefault(opts) {\n    return mergeDeep(this.Default, opts);\n  }\n  static data(name, opts) {\n    if (!opts) {\n      opts = name;\n      name = \"\";\n    }\n    if (!opts) return this._data[name];\n    this._data[name] = opts;\n    return this;\n  }\n}\nexport default Base;\n","export default (Base, NAME) =>\n  class extends Base {\n    static _data = {};\n    static instances = new Map();\n    static get NAME() {\n      return NAME;\n    }\n    get isAnimating() {\n      return this.transition.isAnimating;\n    }\n    get initialPlaceNode() {\n      return (\n        this.teleport?.placeholder ?? this.transition?.placeholder ?? this.base\n      );\n    }\n    hide(opts) {\n      return this.toggle(false, opts);\n    }\n    show(opts) {\n      return this.toggle(true, opts);\n    }\n    static toggle(id, s, opts) {\n      return this.instances.get(id)?.toggle(s, opts);\n    }\n    static show(id, opts) {\n      return this.instances.get(id)?.show(opts);\n    }\n    static hide(id, opts) {\n      return this.instances.get(id)?.hide(opts);\n    }\n  };\n","import {\n  UI,\n  UI_PREFIX,\n  VAR_UI_PREFIX,\n  HIDDEN,\n  SHOWN,\n  WIDTH,\n  HEIGHT,\n  CLASS,\n  PX,\n  ACTION_DESTROY,\n  ACTION_ADD,\n  ACTION_REMOVE,\n  NONE,\n  FLOATING_DATA_ATTRIBUTE,\n  OPTION_KEEP_PLACE,\n  BEFORE_ENTER,\n  ENTER,\n  ENTER_ACTIVE,\n  ENTER_FROM,\n  ENTER_TO,\n  AFTER_ENTER,\n  BEFORE_LEAVE,\n  LEAVE,\n  LEAVE_ACTIVE,\n  LEAVE_FROM,\n  LEAVE_TO,\n  AFTER_LEAVE,\n  HIDE_MODE,\n  DURATION,\n  TRANSITION,\n  NAME,\n  doc,\n} from \"./constants\";\nimport { toggleClass, removeClass, inDOM } from \"./dom\";\nimport { isString, isFunction, isObject } from \"./is\";\nimport { toMs, camelToKebab, updateOptsByData, upperFirst } from \"./utils\";\n\nconst HIDDEN_CLASS = UI_PREFIX + HIDDEN;\n// const SHOWN_CLASS = UI_PREFIX + SHOWN;\nconst DATASET_DURATION = UI + upperFirst(DURATION);\nconst DATASET_DURATION_ENTER = DATASET_DURATION + upperFirst(ENTER);\nconst DATASET_DURATION_LEAVE = DATASET_DURATION + upperFirst(LEAVE);\nconst OPTION_SHOWN_CLASS = SHOWN + upperFirst(CLASS);\nconst OPTION_HIDDEN_CLASS = HIDDEN + upperFirst(CLASS);\n\nexport default class Transition {\n  static Default = {\n    name: UI,\n    css: true,\n    variablePrefix: VAR_UI_PREFIX + TRANSITION + \"-\",\n    [HIDE_MODE]: HIDDEN,\n    [OPTION_HIDDEN_CLASS]: \"\",\n    [OPTION_SHOWN_CLASS]: \"\",\n    [ENTER]: null,\n    [BEFORE_ENTER]: null,\n    [ENTER_ACTIVE]: null,\n    [ENTER_FROM]: null,\n    [ENTER_TO]: null,\n    [AFTER_ENTER]: null,\n    [BEFORE_LEAVE]: null,\n    [LEAVE_ACTIVE]: null,\n    [AFTER_LEAVE]: null,\n    [DURATION]: null,\n    [OPTION_KEEP_PLACE]: true,\n  };\n  constructor(elem, opts = {}, defaultOpts) {\n    this.elem = elem;\n    this.updateConfig(opts, defaultOpts);\n    this.promises = [];\n    if (this.opts[HIDE_MODE] === ACTION_REMOVE && elem[HIDDEN]) {\n      this.toggleRemove(false);\n      elem[HIDDEN] = false;\n    } else {\n      this.setFinishClass();\n    }\n    this.isInit = true;\n  }\n  updateConfig(opts, defaultOpts = {}) {\n    const elem = this.elem;\n    const defaultConfig = Transition.Default;\n    const dataset = elem.dataset;\n\n    const datasetData = {};\n\n    const duration = dataset[DATASET_DURATION];\n    const durationEnter = dataset[DATASET_DURATION_ENTER];\n    const durationLeave = dataset[DATASET_DURATION_LEAVE];\n    if (duration || durationEnter || durationLeave) {\n      datasetData.duration =\n        durationEnter || durationLeave\n          ? {\n              enter: toMs(durationEnter ?? duration),\n              leave: toMs(durationLeave ?? duration),\n            }\n          : toMs(duration);\n    }\n\n    opts = isString(opts) ? { name: opts } : opts;\n    opts = { ...defaultConfig, ...defaultOpts, ...opts, ...datasetData };\n\n    this.opts = updateOptsByData(opts, elem.dataset, [\n      HIDE_MODE,\n      OPTION_HIDDEN_CLASS,\n      OPTION_SHOWN_CLASS,\n      ENTER_ACTIVE,\n      ENTER_FROM,\n      ENTER_TO,\n      LEAVE_ACTIVE,\n      LEAVE_FROM,\n      LEAVE_TO,\n      [NAME, TRANSITION + \"Name\"],\n    ]);\n\n    this.teleport = opts.teleport;\n\n    if (opts[HIDE_MODE] !== CLASS) {\n      removeClass(elem, HIDDEN_CLASS);\n    }\n\n    return this;\n  }\n  toggleVariables(s) {\n    const { offsetWidth, offsetHeight, style } = this.elem;\n    const rect = [offsetWidth, offsetHeight];\n    [WIDTH, HEIGHT].forEach((name, i) => {\n      const prop = this.opts.variablePrefix + name;\n      if (s) {\n        style.setProperty(prop, rect[i] + PX);\n      } else {\n        style.removeProperty(prop);\n      }\n    });\n    return this;\n  }\n\n  toggleAnimationClasses(s) {\n    this.elem.style.transition = NONE;\n    this.setClasses([s ? ENTER_FROM : LEAVE_FROM]);\n    this.elem.offsetWidth;\n    this.elem.style.transition = \"\";\n    this.setClasses([s ? ENTER_ACTIVE : LEAVE_ACTIVE, s ? ENTER_TO : LEAVE_TO]);\n    return this;\n  }\n  setFinishClasses(s) {\n    this.removeClasses(s);\n    this.promises.length = 0;\n  }\n  removeClasses() {\n    this.setClasses(null);\n  }\n\n  get isShown() {\n    const {\n      elem,\n      opts: { hideMode },\n    } = this;\n\n    return hideMode === ACTION_REMOVE\n      ? inDOM(elem)\n      : hideMode === CLASS\n      ? !elem.classList.contains(HIDDEN_CLASS)\n      : !elem.hasAttribute(hideMode);\n  }\n  setClasses(animations) {\n    const { elem, opts } = this;\n    const classes = [\"\", \"\"];\n    const styles = [{}, {}];\n    let hasStyle = false;\n    let hasClass = false;\n    [\n      ENTER_ACTIVE,\n      ENTER_FROM,\n      ENTER_TO,\n      LEAVE_ACTIVE,\n      LEAVE_FROM,\n      LEAVE_TO,\n    ].forEach((state) => {\n      const s = animations?.includes(state) | 0;\n      if (isObject(opts[state])) {\n        hasStyle = true;\n        styles[s] = { ...styles[s], ...opts[state] };\n      } else {\n        hasClass = true;\n        classes[s] +=\n          (opts[state] ??\n            (opts.name ? opts.name + \"-\" + camelToKebab(state) : \"\")) + \" \";\n      }\n    });\n    if (hasClass) {\n      classes.forEach((classes, s) =>\n        elem.classList[s ? ACTION_ADD : ACTION_REMOVE](\n          ...classes.split(\" \").filter(Boolean),\n        ),\n      );\n    }\n    if (hasStyle) {\n      styles.forEach((styles, s) => {\n        Object.entries(styles).forEach(([name, value]) => {\n          if (name[0] !== \"-\") {\n            name = camelToKebab(name);\n          }\n          if (s) {\n            elem.style.setProperty(name, value);\n          } else {\n            elem.style.removeProperty(name);\n          }\n        });\n      });\n    }\n  }\n  collectPromises(s) {\n    const { elem, promises, opts } = this;\n    const state = s ? ENTER : LEAVE;\n    const duration = opts.duration?.[state] ?? opts.duration;\n    promises.length = 0;\n    let promisesEvent, promisesAnimation;\n    if (isFunction(opts[state])) {\n      promisesEvent = new Promise((resolve) => opts[state](elem, resolve));\n    }\n    let animations;\n    if (opts.css) {\n      animations = elem.getAnimations();\n      promisesAnimation =\n        animations.length &&\n        Promise.allSettled(animations.map(({ finished }) => finished));\n    }\n\n    if (!duration && !promisesEvent && !promisesAnimation) return promises;\n\n    const promisesDuration =\n      !isNaN(duration) && duration != null\n        ? new Promise((resolve) => setTimeout(resolve, duration))\n        : null;\n\n    promisesDuration && promises.push(promisesDuration);\n    promisesEvent && promises.push(promisesEvent);\n    promisesAnimation && promises.push(promisesAnimation);\n\n    this.animations = animations;\n\n    return promises;\n  }\n  get isAnimating() {\n    return !!this.promises.length;\n  }\n  cancel() {\n    this.animations?.forEach((animation) => animation.cancel());\n    return Promise.allSettled([this.getAwaitPromise()]);\n  }\n  getAwaitPromise() {\n    return Promise.allSettled(this.promises);\n  }\n  toggleRemove(s) {\n    const { elem, opts } = this;\n    const mode = opts[HIDE_MODE];\n    if (mode === ACTION_REMOVE) {\n      if (s) {\n        if (opts[OPTION_KEEP_PLACE]) {\n          this.placeholder?.replaceWith(elem);\n          this.placeholder = null;\n        } else {\n          this.parent?.append(elem);\n        }\n      } else {\n        if (opts[OPTION_KEEP_PLACE]) {\n          elem.replaceWith(\n            (this.placeholder ||= doc.createComment(\n              UI_PREFIX + TRANSITION + \":\" + elem.id,\n            )),\n          );\n        } else {\n          const parent = elem.parentElement;\n          if (parent) {\n            this.parent = parent.hasAttribute(FLOATING_DATA_ATTRIBUTE)\n              ? parent.parentElement\n              : parent;\n            elem.remove();\n          }\n        }\n      }\n    } else if (mode !== ACTION_DESTROY && mode !== CLASS) {\n      elem.toggleAttribute(mode, !s);\n    }\n  }\n  setFinishClass(s = this.isShown) {\n    const { elem, opts } = this;\n\n    if (opts[HIDE_MODE] === CLASS) {\n      toggleClass(elem, HIDDEN_CLASS, !s);\n    }\n    opts[OPTION_HIDDEN_CLASS] &&\n      toggleClass(elem, opts[OPTION_HIDDEN_CLASS], !s);\n    opts[OPTION_SHOWN_CLASS] && toggleClass(elem, opts[OPTION_SHOWN_CLASS], s);\n  }\n  async run(\n    s,\n    animated = true,\n    { show, hide, shown, hidden, destroy, allowRemove = true } = {},\n  ) {\n    const { elem, opts } = this;\n    if (!elem) return;\n\n    opts[s ? BEFORE_ENTER : BEFORE_LEAVE]?.(elem);\n\n    const toggle = (s) => {\n      allowRemove && this.toggleRemove(s);\n      this.setFinishClass(s);\n      if (!s && opts[HIDE_MODE] === ACTION_DESTROY) {\n        this.destroy();\n        destroy?.(elem);\n      }\n    };\n\n    if (s) {\n      toggle(s);\n      show?.(elem);\n    } else {\n      hide?.(elem);\n    }\n\n    if (animated) {\n      opts.css && this.toggleVariables(true).toggleAnimationClasses(s);\n      this.collectPromises(s);\n      if (this.promises.length) {\n        await this.getAwaitPromise();\n      }\n      opts.css && this.toggleVariables(false).setFinishClasses(s);\n    }\n\n    if (s) {\n      shown?.(elem);\n    } else {\n      hidden?.(elem);\n      toggle(s);\n    }\n\n    opts[s ? AFTER_ENTER : AFTER_LEAVE]?.(elem);\n  }\n  destroy() {\n    this.removeClasses();\n    this.placeholder?.replaceWith(this.elem);\n    this.isInit = false;\n  }\n  static createOrUpdate(transition, elem, opts, defaultOpts) {\n    return transition\n      ? transition.update(opts, defaultOpts)\n      : new Transition(elem, opts, defaultOpts);\n  }\n}\n","import {\n  UI_PREFIX,\n  OPTION_TO,\n  OPTION_POSITION,\n  OPTION_KEEP_PLACE,\n  doc,\n} from \"./constants\";\nimport { isString, isObject } from \"./is\";\nimport {\n  mergeDeep,\n  callOrReturn,\n  updateOptsByData,\n  upperFirst,\n  kebabToCamel,\n} from \"./utils\";\nconst TELEPORT = \"teleport\";\nconst TELEPORT_DATA_ATTRIBUTE = kebabToCamel(UI_PREFIX + TELEPORT);\nconst TELEPORT_DATA_ATTRIBUTES = [\n  [OPTION_TO, TELEPORT],\n  [OPTION_POSITION, TELEPORT + upperFirst(OPTION_POSITION)],\n  [OPTION_KEEP_PLACE, TELEPORT + upperFirst(OPTION_KEEP_PLACE)],\n];\n\nclass Teleport {\n  static Default = {\n    [OPTION_TO]: false,\n    [OPTION_POSITION]: \"beforeend\",\n    [OPTION_KEEP_PLACE]: true,\n  };\n  constructor(elem, opts = {}, defaultOpts) {\n    this.elem = elem;\n    this.update(opts, defaultOpts);\n  }\n  update(opts, defaultOpts = {}) {\n    const dataset = this.elem.dataset;\n    const defaultConfig = this.constructor.Default;\n    if (opts === false && !dataset[TELEPORT_DATA_ATTRIBUTE]) {\n      return this.destroy();\n    }\n    opts = isObject(opts) ? opts : { to: opts };\n    opts = mergeDeep(defaultConfig, defaultOpts, opts);\n    this.opts = updateOptsByData(opts, dataset, TELEPORT_DATA_ATTRIBUTES);\n    return this;\n  }\n  move(...toParameters) {\n    const { opts, elem } = this;\n    const { position, keepPlace } = opts;\n    let to = callOrReturn(opts.to, ...toParameters);\n    to = isString(to) ? doc.querySelector(to) : to;\n    if (!to) return;\n    this.placeholder ||= keepPlace\n      ? doc.createComment(UI_PREFIX + TELEPORT + \":\" + elem.id)\n      : null;\n    if (this.placeholder) {\n      elem.before(this.placeholder);\n    }\n    to.insertAdjacentElement(position, elem);\n    return this;\n  }\n  destroy() {\n    this.reset();\n  }\n  reset() {\n    this.placeholder?.replaceWith(this.elem);\n    this.placeholder = null;\n    return this;\n  }\n  static createOrUpdate(teleport, elem, opts, defaultOpts) {\n    return teleport\n      ? teleport.update(opts, defaultOpts)\n      : opts !== false || elem.dataset[TELEPORT_DATA_ATTRIBUTE]\n      ? new Teleport(elem, opts, defaultOpts)\n      : null;\n  }\n}\nexport default Teleport;\n","import { DATA_UI_PREFIX, DISMISS, EVENT_CLICK } from \"../constants\";\nimport { isString } from \"../is\";\nconst eventName = EVENT_CLICK + \".\" + DISMISS;\nexport default function (\n  instance,\n  elem = instance.base,\n  action = instance.hide,\n) {\n  if (instance._dismiss) {\n    instance.off(elem, eventName);\n  }\n  if (instance.opts[DISMISS]) {\n    instance.on(\n      elem,\n      eventName,\n      isString(instance.opts[DISMISS])\n        ? instance.opts[DISMISS]\n        : `[${DATA_UI_PREFIX + DISMISS}=\"\"],[${DATA_UI_PREFIX + DISMISS}=\"${\n            instance.constructor.NAME\n          }\"]`,\n      (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        action({ event, trigger: event.deligateTarget });\n      },\n    );\n    instance._dismiss = true;\n  }\n}\n","import { EVENT_KEYDOWN, KEY_ESC, CANCEL } from \"../constants\";\nconst eventName = EVENT_KEYDOWN + \".escapeHide\";\n\nexport default function (instance, s, elem = instance.base) {\n  if (s) {\n    instance.on(elem, eventName, (event) => {\n      if (event.keyCode === KEY_ESC) {\n        (instance.opts.escapeHide.stop ?? true) && event.stopPropagation();\n        instance.hide({ event });\n        instance.emit(CANCEL, { event });\n      }\n    });\n  } else {\n    instance.off(elem, eventName);\n  }\n}\n","import { doc, OPTION_PREVENT_SCROLL, TABINDEX } from \"../constants\";\nimport { getOptionElem } from \"../utils/index.js\";\nconst FOCUSABLE_ELEMENTS_SELECTOR = `:is(:is(a,area)[href],:is(select,textarea,button,input:not([type=\"hidden\"])):not(disabled),details:not(:has(>summary)),iframe,:is(audio,video)[controls],[contenteditable],[tabindex]):not([inert],[inert] *,[tabindex^=\"-\"])`;\nexport default (instance, elem = instance.base) => {\n  const autofocus = instance.opts.autofocus;\n  if (elem.contains(doc.activeElement)) return;\n  let focusElem = getOptionElem(instance, autofocus.elem, elem);\n  const isDialog = elem.tagName === \"DIALOG\";\n  if ((!focusElem && autofocus.required && !isDialog) || isDialog) {\n    focusElem = elem.querySelector(FOCUSABLE_ELEMENTS_SELECTOR);\n    if (!focusElem && elem.hasAttribute(TABINDEX)) {\n      focusElem = elem;\n    }\n  }\n\n  focusElem?.focus({\n    [OPTION_PREVENT_SCROLL]: autofocus[OPTION_PREVENT_SCROLL] ?? false,\n  });\n};\n","import { EVENT_DESTROY, ID, MODAL } from \"../constants\";\n\nexport default (\n  instance,\n  {\n    remove = false,\n    keepInstance = false,\n    destroyTransition = true,\n    destroyTeleport = true,\n  } = {},\n) => {\n  const {\n    base,\n    off,\n    emit,\n    autohide,\n    transition,\n    floating,\n    teleport,\n    id,\n    uuid,\n    instances,\n    breakpoints,\n  } = instance;\n\n  if (autohide) {\n    autohide.destroy();\n    instance.autohide = null;\n  }\n  if (floating) {\n    floating.destroy();\n    instance.floating = null;\n  }\n  if (destroyTransition && transition) {\n    transition.destroy();\n    if (instance.constructor.NAME === MODAL) {\n      instance.transitions = null;\n    } else {\n      instance.transition = null;\n    }\n  }\n  if (destroyTeleport && teleport) {\n    teleport.destroy();\n    instance.teleport = null;\n  }\n\n  off();\n\n  if (!keepInstance) {\n    base.id.includes(uuid) && base.removeAttribute(ID);\n    breakpoints?.destroy();\n    instances.delete(id);\n  }\n  if (remove) {\n    base.remove();\n  }\n\n  emit(EVENT_DESTROY);\n  instance.isInit = false;\n  return instance;\n};\n","import {\n  HOVER,\n  FOCUS,\n  CLICK,\n  EVENT_CLICK,\n  EVENT_MOUSEENTER,\n  EVENT_MOUSELEAVE,\n  EVENT_FOCUSOUT,\n  EVENT_FOCUSIN,\n} from \"../constants\";\nimport { isArray } from \"../is\";\n\nexport default ({\n  anchor,\n  target,\n  instance,\n  trigger,\n  action = instance.toggle,\n  delay,\n}) => {\n  const { opts, on } = instance;\n  trigger ??= opts.trigger;\n  delay ??= opts.delay;\n\n  if (!trigger) return;\n\n  const triggerClick = trigger.includes(CLICK);\n  const triggerHover = trigger.includes(HOVER);\n  const triggerFocus = trigger.includes(FOCUS);\n  const events = [];\n  if (triggerHover || triggerFocus) {\n    delay = isArray(delay) ? delay : [delay, delay];\n  }\n  if (triggerClick) {\n    on(anchor, EVENT_CLICK, (event) =>\n      action(null, { event, trigger: anchor }),\n    );\n  }\n  if (triggerHover) {\n    events.push(EVENT_MOUSEENTER, EVENT_MOUSELEAVE);\n  }\n  if (triggerFocus) {\n    events.push(EVENT_FOCUSIN, EVENT_FOCUSOUT);\n  }\n  if (triggerHover || triggerFocus) {\n    on([anchor, target], events, (event) => {\n      const { type, target } = event;\n      const isFocus = type === EVENT_FOCUSIN || type === EVENT_FOCUSOUT;\n      const entered =\n        (triggerHover && type === EVENT_MOUSEENTER) ||\n        (triggerFocus && type === EVENT_FOCUSIN);\n      const d = isFocus ? 0 : delay[entered ? 0 : 1];\n      clearTimeout(instance._hoverTimer);\n      if (d) {\n        instance._hoverTimer = setTimeout(\n          () => action(entered, { trigger: anchor, event }),\n          d,\n        );\n      } else {\n        action(entered, { event, trigger: target });\n      }\n    });\n  }\n};\n","import {\n  VAR_UI_PREFIX,\n  NONE,\n  WIDTH,\n  HEIGHT,\n  ANCHOR,\n  TOP,\n  LEFT,\n  PX,\n  DIV,\n  AVAILABLE_WIDTH,\n  AVAILABLE_HEIGHT,\n  body,\n  DATA_PREFIX,\n  UI_PREFIX,\n  EVENT_SCROLL,\n  EVENT_RESIZE,\n  FLOATING_DATA_ATTRIBUTE,\n  DATA_UI_PREFIX,\n  INERT,\n  DIALOG,\n  ABSOLUTE,\n  FIXED,\n  CANCEL,\n  FLIP,\n  SHRINK,\n  STICKY,\n  PLACEMENT,\n  PADDING,\n  OFFSET,\n  BOUNDARY_OFFSET,\n  ARROW,\n  ARROW_OFFSET,\n  ARROW_PADDING,\n  TRUE,\n  POPOVER,\n  MODAL,\n  CLIP_PATH_PROPERTY,\n} from \"./constants\";\nimport {\n  createElement,\n  kebabToCamel,\n  createInset,\n  getPosition,\n  returnArray,\n  isOverflowElement,\n  observeResize,\n  resizeObserver,\n  ResetFloatingCssVariables,\n  valuesToArray,\n  collectCssVariables,\n} from \"./utils\";\nimport { EventHandler } from \"./EventHandler\";\nimport {\n  getBoundingClientRect,\n  getPropertyValue,\n  parents,\n  setAttribute,\n} from \"./dom\";\n\nResetFloatingCssVariables();\n\nconst DIALOG_MODE = MODAL + \"-\" + POPOVER;\n\nexport default class Floating {\n  constructor({ target, anchor, arrow, opts, root = body, name = \"\" }) {\n    const { on, off } = new EventHandler();\n    Object.assign(this, { target, anchor, arrow, opts, root, name, on, off });\n  }\n  recalculate() {\n    const { target, anchor, arrow, opts, name } = this;\n\n    const anchorScrollParents = parents(anchor, isOverflowElement);\n    const targetStyles = getComputedStyle(target);\n    const anchorStyles = getComputedStyle(anchor);\n\n    const PREFIX = VAR_UI_PREFIX + name + \"-\";\n\n    let pendingUpdate = false;\n\n    const minHeight = parseFloat(targetStyles.minHeight);\n    const minWidth = parseFloat(targetStyles.minWidth);\n\n    const wrapper = this.createWrapper();\n    const wrapperStyle = wrapper.style;\n\n    const absolute = opts.mode === ABSOLUTE;\n\n    const targetRect = {};\n\n    let {\n      padding,\n      offset = opts.offset,\n      boundaryOffset = opts.boundaryOffset,\n      arrowPadding = opts[ARROW]?.padding ?? 0,\n      arrowOffset = opts[ARROW]?.offset ?? 0,\n      wrapperComputedStyle,\n      flip,\n      sticky,\n      shrink,\n      placement,\n    } = collectCssVariables(\n      anchorStyles,\n      targetStyles,\n      wrapper,\n      PREFIX,\n      absolute,\n    );\n\n    flip = flip\n      ? flip.split(\" \").map((v) => v === TRUE)\n      : returnArray(opts[FLIP]);\n\n    sticky = sticky ? sticky === TRUE : opts[STICKY];\n    shrink = shrink ? shrink === TRUE : opts[SHRINK];\n\n    placement ||= opts[PLACEMENT];\n\n    const arrowRect = arrow && getBoundingClientRect(arrow);\n    let anchorRect = getBoundingClientRect(arrow, !absolute);\n\n    [WIDTH, HEIGHT].forEach((size) => {\n      targetRect[size] = parseFloat(wrapperComputedStyle[size]);\n      wrapperStyle.setProperty(PREFIX + size, targetRect[size] + PX);\n      wrapperStyle.setProperty(\n        PREFIX + ANCHOR + \"-\" + size,\n        anchorRect[size] + PX,\n      );\n    });\n\n    const arrowData = arrow && {\n      [WIDTH]: arrowRect[WIDTH],\n      [HEIGHT]: arrowRect[HEIGHT],\n      [PADDING]: arrowPadding,\n      [OFFSET]: arrowOffset,\n    };\n\n    const params = {\n      anchorRect,\n      targetRect,\n      arrow: arrowData,\n      placement,\n      absolute,\n      flip,\n      sticky,\n      shrink,\n      offset,\n      boundaryOffset,\n      padding,\n      minHeight,\n      minWidth,\n    };\n\n    const updatePosition = () => {\n      if (pendingUpdate) return;\n      pendingUpdate = true;\n\n      anchorRect = getBoundingClientRect(anchor, !absolute);\n\n      if (absolute) {\n        anchorRect.left = anchor.offsetLeft;\n        anchorRect.top = anchor.offsetTop;\n        anchorRect.right = anchor.offsetLeft + anchorRect.width;\n        anchorRect.bottom = anchor.offsetTop + anchorRect.height;\n      }\n\n      const position = getPosition({ ...params, anchorRect });\n\n      setAttribute(\n        wrapper,\n        DATA_UI_PREFIX + \"current-\" + PLACEMENT,\n        position.placement,\n      );\n\n      if (shrink) {\n        [AVAILABLE_WIDTH, AVAILABLE_HEIGHT].forEach((name) =>\n          wrapperStyle.setProperty(PREFIX + name, position[name] + PX),\n        );\n      }\n      if (arrow) {\n        [LEFT, TOP].forEach((dir, i) =>\n          wrapperStyle.setProperty(\n            PREFIX + ARROW + \"-\" + dir,\n            position.arrow[i] + PX,\n          ),\n        );\n      }\n      wrapperStyle.setProperty(\n        PREFIX + \"transform-origin\",\n        position.transformOrigin[0] +\n          PX +\n          \" \" +\n          position.transformOrigin[1] +\n          PX,\n      );\n\n      wrapperStyle.transform = `translate3d(${position.left}px,${position.top}px,0)`;\n\n      requestAnimationFrame(() => {\n        pendingUpdate = false;\n      });\n    };\n\n    observeResize(target, (width, height) => {\n      targetRect[WIDTH] = width;\n      targetRect[HEIGHT] = height;\n      updatePosition();\n    });\n\n    updatePosition();\n\n    this.on(\n      anchorScrollParents,\n      EVENT_SCROLL,\n      () => {\n        updatePosition();\n      },\n      {\n        passive: true,\n      },\n    );\n    this.on(visualViewport, [EVENT_SCROLL, EVENT_RESIZE], updatePosition, {\n      passive: false,\n    });\n    this.on(window, EVENT_SCROLL, updatePosition, {\n      passive: true,\n    });\n    this.updatePosition = updatePosition.bind(this);\n    return this;\n  }\n\n  createWrapper(style = {}) {\n    const {\n      target,\n      root,\n      name,\n      anchor,\n      on,\n      off,\n\n      opts: { mode, interactive, focusTrap, escapeHide },\n    } = this;\n    const attributes = {\n      style: {\n        position: mode === ABSOLUTE ? ABSOLUTE : FIXED,\n        top: 0,\n        left: 0,\n        zIndex: 999,\n        margin: 0,\n        padding: 0,\n        background: NONE,\n        maxWidth: NONE,\n        maxHeight: NONE,\n        willChange: \"transform\",\n        width: \"fit-content\",\n        height: \"fit-content\",\n        minWidth: \"max-content\",\n        display: \"block\",\n        overflow: \"unset\",\n        ...style,\n      },\n      [FLOATING_DATA_ATTRIBUTE]: \"\",\n      [DATA_PREFIX + UI_PREFIX + name + \"-wrapper\"]: \"\",\n    };\n\n    if (interactive !== undefined && !interactive) {\n      attributes[INERT] = \"\";\n      attributes.style.pointerEvents = NONE;\n    }\n    const wrapper = (this.wrapper = createElement(\n      mode === DIALOG_MODE ? DIALOG : DIV,\n      attributes,\n      target,\n    ));\n    mode === ABSOLUTE ? anchor.after(wrapper) : root.append(wrapper);\n    if (mode === DIALOG_MODE) {\n      if (focusTrap) {\n        wrapper.showModal();\n      } else {\n        wrapper.show();\n      }\n      if (escapeHide) {\n        on(wrapper, CANCEL, (e) => e.preventDefault());\n      } else {\n        off(wrapper, CANCEL);\n      }\n    }\n    return wrapper;\n  }\n  destroy() {\n    this.off();\n    resizeObserver.unobserve(this.target);\n    this.wrapper.close?.();\n    this.wrapper.remove();\n  }\n}\n","import {\n  ARROW_OFFSET,\n  ARROW_PADDING,\n  BOUNDARY_OFFSET,\n  CLIP_PATH_PROPERTY,\n  FLIP,\n  OFFSET,\n  PADDING,\n  PLACEMENT,\n  SHRINK,\n  STICKY,\n} from \"../constants/index.js\";\nimport { createInset, kebabToCamel, valuesToArray } from \"./index.js\";\nimport { getPropertyValue } from \"../dom/index.js\";\n\nexport default (anchorStyles, targetStyles, wrapper, PREFIX) => {\n  const valuesNames = [\n    PADDING,\n    OFFSET,\n    BOUNDARY_OFFSET,\n    ARROW_OFFSET,\n    ARROW_PADDING,\n  ];\n  const values = valuesNames\n    .map((name) => {\n      let value =\n        getPropertyValue(anchorStyles, PREFIX + name) ||\n        getPropertyValue(targetStyles, PREFIX + name);\n      if (!value) return;\n      value = value.split(\" \");\n      if (name === BOUNDARY_OFFSET) {\n        value = createInset(value, true);\n      } else {\n        value[1] ??= value[0];\n      }\n      return { name, value };\n    })\n    .filter(Boolean);\n\n  const polygonValues = values\n    .map(({ name, value }) => {\n      if (name === BOUNDARY_OFFSET) {\n        const valueEnd = value.splice(2).join(\" \");\n        value = value.join(\" \");\n        return [value, valueEnd].join(\",\");\n      }\n      return value.join(\" \");\n    })\n    .join(\",\");\n\n  wrapper.style.setProperty(CLIP_PATH_PROPERTY, `polygon(${polygonValues})`);\n\n  const wrapperComputedStyle = getComputedStyle(wrapper);\n\n  const computedValues = wrapperComputedStyle[CLIP_PATH_PROPERTY].slice(8, -1)\n    .split(\",\")\n    .values();\n\n  const result = { wrapperComputedStyle };\n  [STICKY, FLIP, SHRINK, PLACEMENT].forEach(\n    (name) =>\n      (result[name] =\n        getPropertyValue(anchorStyles, PREFIX + name) ||\n        getPropertyValue(targetStyles, PREFIX + name)),\n  );\n\n  if (values.length) {\n    values.forEach(({ name }) => {\n      let value = valuesToArray(computedValues.next());\n      if (name === BOUNDARY_OFFSET) {\n        value = [...value, ...valuesToArray(computedValues.next())];\n      } else if (name === OFFSET || name === ARROW_OFFSET) {\n        value = value[0];\n      }\n      result[kebabToCamel(name)] = value;\n    });\n  }\n\n  if (values.length) {\n    wrapper.style.removeProperty(CLIP_PATH_PROPERTY);\n  }\n\n  return result;\n};\n","import { EVENT_SHOW, EVENT_HIDE, ARROW, doc } from \"../constants\";\nimport { getDataSelector } from \"../utils\";\nimport { addOutsideHide, addEscapeHide } from \"../modules\";\nimport Floating from \"../Floating.js\";\n\nexport default (instance, { s, animated, silent, eventParams }) => {\n  const { transition, base, opts, toggler, emit, constructor } = instance;\n  const name = constructor.NAME;\n  const target = instance[name];\n  const transitionParams = { allowRemove: false };\n  transition.parent = null;\n\n  if (!silent && !s) {\n    emit(EVENT_HIDE, eventParams);\n  }\n\n  if (s) {\n    transitionParams[EVENT_SHOW] = () => {\n      const root = target.parentNode;\n      const arrow = target.querySelector(getDataSelector(name, ARROW));\n\n      instance.floating = new Floating({\n        anchor: toggler ?? base,\n        target,\n        arrow,\n        opts,\n        root,\n        name,\n      }).recalculate();\n\n      if (!silent) {\n        emit(EVENT_SHOW, eventParams);\n      }\n    };\n  }\n\n  !s && instance?.floating?.wrapper.close?.();\n\n  const promise = transition.run(s, animated, transitionParams);\n\n  if (s) {\n    opts.outsideHide && addOutsideHide(instance, s, [toggler ?? base, target]);\n    opts.escapeHide && addEscapeHide(instance, s, doc);\n  }\n\n  !s &&\n    (async () => {\n      if (animated) {\n        await promise;\n      }\n      if (transition.placeholder) {\n        instance.floating.wrapper.replaceWith(transition.placeholder);\n      }\n      instance.floating?.destroy();\n      instance.floating = null;\n    })();\n\n  return promise;\n};\n","import { doc, EVENT_ACTION_OUTSIDE } from \"../constants\";\nimport { closest } from \"../dom\";\n\nexport default (instance, s, activeElems) => {\n  if (s) {\n    instance.on(doc, EVENT_ACTION_OUTSIDE, (event) => {\n      !closest(event.target, activeElems) && instance.hide({ event });\n    });\n  } else {\n    instance.off(doc, EVENT_ACTION_OUTSIDE);\n  }\n};\n","import { DATA_APPEAR, EVENT_INIT } from \"../constants\";\nimport { callOrReturn, checkHash } from \"../utils\";\n\nexport default (instance, elem = instance.base) => {\n  const { opts, transition, show, id } = instance;\n\n  instance.instances.set(id, instance);\n  instance.isInit = true;\n  instance.emit(EVENT_INIT);\n\n  const shown =\n    callOrReturn(\n      (opts.hashNavigation && checkHash(id)) || opts.shown,\n      instance,\n    ) ?? transition.isShown;\n\n  shown &&\n    show({\n      animated: opts.appear ?? elem.hasAttribute(DATA_APPEAR),\n      ignoreConditions: true,\n    });\n\n  return instance;\n};\n","export default async (promise, callback) => {\n  await promise;\n  callback();\n};\n","import {\n  ROLE,\n  BUTTON,\n  ARIA_CONTROLS,\n  ARIA_EXPANDED,\n  DEFAULT_OPTIONS,\n  EVENT_BEFORE_INIT,\n  EVENT_BEFORE_DESTROY,\n  EVENT_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDE,\n  EVENT_HIDDEN,\n  EVENT_CLICK,\n  CLASS_ACTIVE,\n  CLASS_ACTIVE_SUFFIX,\n  TOGGLER,\n} from \"./helpers/constants\";\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\nimport { removeAttribute, setAttribute, toggleClass } from \"./helpers/dom\";\nimport {\n  normalizeToggleParameters,\n  replaceWord,\n  arrayUnique,\n  arrayFrom,\n  getEventsPrefix,\n  getOptionElems,\n  getDefaultToggleSelector,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  callInitShow,\n  awaitPromise,\n} from \"./helpers/modules\";\n\nconst COLLAPSE = \"collapse\";\n\nclass Collapse extends ToggleMixin(Base, COLLAPSE) {\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    eventPrefix: getEventsPrefix(COLLAPSE),\n    hashNavigation: true,\n    dismiss: true,\n    [TOGGLER]: ({ id }) => getDefaultToggleSelector(id, true),\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [COLLAPSE + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  _update() {\n    const { base, opts, transition, teleport } = this;\n\n    addDismiss(this);\n\n    this.teleport = Teleport.createOrUpdate(\n      teleport,\n      base,\n      opts.teleport,\n    )?.move(this);\n\n    this.transition = Transition.createOrUpdate(\n      transition,\n      base,\n      opts.transition,\n    );\n\n    this.updateTriggers();\n\n    return this;\n  }\n  destroy(destroyOpts) {\n    // eslint-disable-next-line prefer-const\n    let { opts, togglers } = this;\n\n    if (!this.isInit) return;\n\n    this.emit(EVENT_BEFORE_DESTROY);\n\n    if (opts.a11y) {\n      const otherTogglers = arrayFrom(this.instances.values())\n        .filter((item) => item !== this)\n        .flatMap((item) => item.togglers.filter((t) => togglers.includes(t)));\n      if (otherTogglers.length) {\n        togglers = togglers.filter((toggler) => {\n          if (!otherTogglers.includes(toggler)) {\n            return true;\n          } else {\n            setAttribute(toggler, ARIA_CONTROLS, (v) =>\n              replaceWord(v, this.id),\n            );\n          }\n        });\n      }\n    }\n\n    opts.a11y &&\n      removeAttribute(togglers, [ARIA_CONTROLS, ARIA_EXPANDED, ROLE]);\n\n    baseDestroy(this, destroyOpts);\n\n    return this;\n  }\n\n  init() {\n    if (this.isInit) return;\n\n    this.emit(EVENT_BEFORE_INIT);\n\n    this._update();\n\n    return callInitShow(this);\n  }\n  updateTriggers() {\n    const { opts, id } = this;\n\n    return (this.togglers = getOptionElems(this, opts[TOGGLER]).map(\n      (toggler) => {\n        if (!this.togglers?.includes(toggler)) {\n          if (opts.a11y) {\n            setAttribute(toggler, ARIA_CONTROLS, (v) =>\n              v ? arrayUnique(v.split(\" \").concat(id)).join(\" \") : id,\n            );\n            if (toggler.tagName !== BUTTON.toLowerCase()) {\n              setAttribute(toggler, ROLE, BUTTON);\n            }\n          }\n          toggleClass(\n            toggler,\n            opts[TOGGLER + CLASS_ACTIVE_SUFFIX],\n            !!this.isShown,\n          );\n          this.on(toggler, EVENT_CLICK, (event) => {\n            event.preventDefault();\n            this.toggle(null, { trigger: toggler, event });\n          });\n        }\n        return toggler;\n      },\n    ));\n  }\n  async toggle(s, params) {\n    const { base, transition, togglers, opts, emit, isShown, isAnimating } =\n      this;\n    const { awaitAnimation, a11y } = opts;\n    const { animated, silent, trigger, event, ignoreConditions } =\n      normalizeToggleParameters(params);\n\n    s ??= !isShown;\n\n    if (!ignoreConditions && ((awaitAnimation && isAnimating) || s === isShown))\n      return;\n\n    this.isShown = s;\n\n    if (isAnimating && !awaitAnimation) {\n      await transition.cancel();\n    }\n\n    const eventParams = { trigger, event };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    a11y && setAttribute(togglers, ARIA_EXPANDED, !!s);\n    toggleClass(togglers, opts[TOGGLER + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(base, opts[COLLAPSE + CLASS_ACTIVE_SUFFIX], s);\n\n    const promise = transition.run(s, animated, {\n      [s ? EVENT_SHOW : EVENT_HIDE]: () =>\n        !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams),\n      [EVENT_DESTROY]: () =>\n        this.destroy({ remove: true, destroyTransition: false }),\n    });\n\n    awaitPromise(promise, () =>\n      emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams),\n    );\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Collapse;\n","import {\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDDEN,\n  EVENT_CLICK,\n  EVENT_KEYDOWN,\n  CLASS_ACTIVE,\n  ARIA_CONTROLS,\n  ACTION_REMOVE,\n  DROPDOWN,\n  CLICK,\n  DATA_UI_PREFIX,\n  KEY_ENTER,\n  KEY_SPACE,\n  KEY_END,\n  KEY_HOME,\n  KEY_ARROW_LEFT,\n  KEY_ARROW_UP,\n  KEY_ARROW_RIGHT,\n  KEY_ARROW_DOWN,\n  DEFAULT_AUTOFOCUS,\n  DEFAULT_FLOATING_OPTIONS,\n  DEFAULT_OPTIONS,\n  ARIA_EXPANDED,\n  KEY_TAB,\n  MODE,\n  body,\n  TOGGLER,\n  CLASS_ACTIVE_SUFFIX,\n  doc,\n  HIDE_MODE,\n  AUTOFOCUS,\n  ABSOLUTE,\n} from \"./helpers/constants\";\n\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport {\n  toggleClass,\n  removeClass,\n  removeAttribute,\n  setAttribute,\n  closest,\n} from \"./helpers/dom\";\nimport Transition from \"./helpers/Transition.js\";\nimport {\n  normalizeToggleParameters,\n  isUnfocusable,\n  getDataSelector,\n  getDefaultToggleSelector,\n  getOptionElems,\n  getOptionElem,\n  updateModule,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  callAutofocus,\n  toggleOnInterection,\n  floatingTransition,\n  callInitShow,\n  awaitPromise,\n} from \"./helpers/modules\";\n\nclass Dropdown extends ToggleMixin(Base, DROPDOWN) {\n  static DefaultAutofocus = {\n    elem: DEFAULT_AUTOFOCUS,\n    required: false,\n  };\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    ...DEFAULT_FLOATING_OPTIONS,\n    focusTrap: true,\n    itemClickHide: true,\n    mode: false,\n    autofocus: true,\n    items: getDataSelector(DROPDOWN + \"-item\"),\n    trigger: CLICK,\n    [TOGGLER]: null,\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  init() {\n    if (this.isInit) return;\n    this._update();\n\n    const { toggler, dropdown, show, on } = this;\n\n    toggleOnInterection({ anchor: toggler, target: dropdown, instance: this });\n    addDismiss(this, dropdown);\n    updateModule(this, AUTOFOCUS);\n\n    on(dropdown, EVENT_KEYDOWN, this._onKeydown.bind(this));\n    on(toggler, EVENT_KEYDOWN, async (event) => {\n      const { keyCode, shiftKey } = event;\n\n      const arrowActivated =\n        KEY_ARROW_UP === keyCode || KEY_ARROW_DOWN === keyCode;\n      if (\n        arrowActivated ||\n        (keyCode === KEY_TAB && !shiftKey && this.isShown)\n      ) {\n        event.preventDefault();\n      }\n      if (arrowActivated) {\n        if (!this.isShown) {\n          await show({ event, trigger: toggler });\n        }\n      }\n      if (arrowActivated || (keyCode === KEY_TAB && !shiftKey)) {\n        this.focusableElems[0]?.focus();\n      }\n    });\n\n    return callInitShow(this, dropdown);\n  }\n  _update() {\n    const { base, opts, transition, on, off, hide } = this;\n\n    this.transition = Transition.createOrUpdate(\n      transition,\n      base,\n      opts.transition,\n      { [HIDE_MODE]: ACTION_REMOVE, keepPlace: false },\n    );\n\n    opts[MODE] =\n      base.getAttribute(DATA_UI_PREFIX + DROPDOWN + \"-\" + MODE) ?? opts[MODE];\n\n    this.updateToggler();\n\n    if (opts.itemClickHide) {\n      on(base, EVENT_CLICK, (event) => {\n        const trigger = closest(event.target, this.focusableElems);\n        trigger && hide({ event, trigger });\n      });\n    } else {\n      off(base, EVENT_CLICK);\n    }\n  }\n  updateToggler() {\n    const { opts, id } = this;\n    const toggler = (this.toggler = getOptionElem(\n      this,\n      opts.toggler ?? getDefaultToggleSelector(id),\n    ));\n\n    if (!toggler) return;\n    opts.a11y && setAttribute(toggler, ARIA_CONTROLS, id);\n    return this;\n  }\n  get focusableElems() {\n    return getOptionElems(this, this.opts.items, this.dropdown).filter(\n      (elem) => !isUnfocusable(elem),\n    );\n  }\n  _onKeydown(event) {\n    const { keyCode, shiftKey } = event;\n    const isControl = [\n      KEY_ENTER,\n      KEY_SPACE,\n      KEY_END,\n      KEY_HOME,\n      KEY_ARROW_LEFT,\n      KEY_ARROW_UP,\n      KEY_ARROW_RIGHT,\n      KEY_ARROW_DOWN,\n    ].includes(keyCode);\n    const { toggler, focusableElems, hide, opts } = this;\n\n    if (!isControl && keyCode !== KEY_TAB) {\n      focusableElems\n        .find((elem) => elem.textContent.toLowerCase().startsWith(event.key))\n        ?.focus();\n      return;\n    }\n\n    const rtl = false;\n    const firstIndex = 0;\n    const lastIndex = focusableElems.length - 1;\n    const currentIndex = focusableElems.findIndex(\n      (elem) => elem === doc.activeElement,\n    );\n\n    if (currentIndex === 0 && shiftKey && keyCode === KEY_TAB) {\n      event.preventDefault();\n      toggler.focus();\n      return;\n    }\n\n    const nextIndex = currentIndex + 1 > lastIndex ? 0 : currentIndex + 1;\n    const prevIndex = currentIndex ? currentIndex - 1 : lastIndex;\n\n    const prevCode = opts.horizontal ? KEY_ARROW_LEFT : KEY_ARROW_UP;\n    const nextCode = opts.horizontal ? KEY_ARROW_RIGHT : KEY_ARROW_DOWN;\n\n    if (isControl) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    switch (event.keyCode) {\n      case KEY_ENTER:\n      case KEY_SPACE:\n        focusableElems[currentIndex].click();\n        hide({ event, trigger: event.target });\n        break;\n      case KEY_END:\n        focusableElems[rtl ? firstIndex : lastIndex].focus();\n        break;\n      case KEY_HOME:\n        focusableElems[rtl ? lastIndex : firstIndex].focus();\n        break;\n      case prevCode:\n        focusableElems[rtl ? nextIndex : prevIndex].focus();\n        break;\n      case nextCode:\n        focusableElems[rtl ? prevIndex : nextIndex].focus();\n        break;\n    }\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n    const { opts, toggler } = this;\n    this.emit(EVENT_BEFORE_DESTROY);\n    opts.a11y && removeAttribute(toggler, ARIA_CONTROLS, ARIA_EXPANDED);\n    removeClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX]);\n    return baseDestroy(this, destroyOpts);\n  }\n\n  async toggle(s, params) {\n    const { toggler, base, opts, emit, transition, isShown, isAnimating } =\n      this;\n    const { awaitAnimation, autofocus, a11y } = opts;\n    const {\n      animated,\n      silent,\n      trigger,\n      event,\n      ignoreConditions,\n      ignoreAutofocus,\n    } = normalizeToggleParameters(params);\n\n    s ??= !isShown;\n\n    if (!ignoreConditions && ((awaitAnimation && isAnimating) || s === isShown))\n      return;\n\n    this.isShown = s;\n\n    if (isAnimating && !awaitAnimation) {\n      await transition.cancel();\n    }\n\n    if (s) {\n      opts[MODE] === ABSOLUTE ? toggler.after(base) : body.appendChild(base);\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    a11y && toggler.setAttribute(ARIA_EXPANDED, !!s);\n\n    toggleClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX], s);\n\n    const promise = floatingTransition(this, {\n      s,\n      animated,\n      silent,\n      eventParams,\n    });\n\n    !s && base.contains(doc.activeElement) && toggler.focus();\n\n    s && !ignoreAutofocus && autofocus && callAutofocus(this);\n\n    awaitPromise(promise, () =>\n      emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams),\n    );\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Dropdown;\n","import {\n  DEFAULT_OPTIONS,\n  body,\n  ROLE,\n  UI_PREFIX,\n  VAR_UI_PREFIX,\n  PX,\n  MODAL,\n  CONTENT,\n  BACKDROP,\n  SCROLL,\n  WIDTH,\n  ROOT,\n  DEFAULT_AUTOFOCUS,\n  SELECTOR_ROOT,\n  ACTION_PREVENT,\n  ARIA_LABELLEDBY,\n  ARIA_DESCRIBEDBY,\n  TABINDEX,\n  HIDE_MODE,\n  EVENT_SHOW,\n  EVENT_HIDE,\n  EVENT_CLICK,\n  EVENT_MOUSEDOWN,\n  EVENT_RIGHT_CLICK,\n  EVENT_HIDE_PREVENTED,\n  EVENT_BEFORE_INIT,\n  EVENT_HIDDEN,\n  EVENT_SHOWN,\n  OPTION_GROUP,\n  AUTOFOCUS,\n  ACTION_DESTROY,\n  TITLE,\n  OPTION_PREVENT_SCROLL,\n  NAME,\n  EVENT_BEFORE_HIDE,\n  EVENT_BEFORE_SHOW,\n  SELECTOR_DATA_CANCEL,\n  SELECTOR_DATA_CONFIRM,\n  CANCEL,\n  CONFIRM,\n  CLASS_ACTIVE,\n  TOGGLER,\n  CLASS_ACTIVE_SUFFIX,\n  DIALOG,\n  doc,\n  UI_EVENT_PREFIX,\n} from \"./helpers/constants\";\nimport { isString, isElement, isFunction } from \"./helpers/is\";\nimport {\n  getElements,\n  toggleClass,\n  removeClass,\n  focus,\n  closest,\n  setAttribute,\n  removeAttribute,\n} from \"./helpers/dom\";\nimport {\n  arrayFrom,\n  getDataSelector,\n  uuidGenerator,\n  normalizeToggleParameters,\n  getEventsPrefix,\n  getDefaultToggleSelector,\n  updateModule,\n  getOptionElem,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  callAutofocus,\n  addEscapeHide,\n  callInitShow,\n  awaitPromise,\n} from \"./helpers/modules\";\nimport Base from \"./helpers/Base\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\n\nconst DOM_ELEMENTS = [MODAL, BACKDROP, CONTENT];\nconst CLASS_PREVENT_SCROLL =\n  UI_PREFIX + MODAL + \"-\" + ACTION_PREVENT + \"-\" + SCROLL;\n\nconst PROPERTY_ROOT_SCROLLBAR_WIDTH =\n  VAR_UI_PREFIX + ROOT + \"-scrollbar-\" + WIDTH;\nconst ARIA_SUFFIX = {\n  [ARIA_LABELLEDBY]: TITLE,\n  [ARIA_DESCRIBEDBY]: \"description\",\n};\n\nconst updateBodyScrollbarWidth = () => {\n  return doc\n    .querySelector(SELECTOR_ROOT)\n    .style.setProperty(\n      PROPERTY_ROOT_SCROLLBAR_WIDTH,\n      window.innerWidth - doc.documentElement.clientWidth + PX,\n    );\n};\n\nclass Modal extends ToggleMixin(Base, MODAL) {\n  static DefaultGroup = {\n    name: \"\",\n    awaitPrevious: true,\n    hidePrevious: true,\n  };\n  static DefaultPreventScroll = {\n    class: CLASS_PREVENT_SCROLL,\n  };\n  static DefaultAutofocus = {\n    elem: DEFAULT_AUTOFOCUS,\n    required: true,\n  };\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    eventPrefix: getEventsPrefix(MODAL),\n    escapeHide: true,\n    backdropHide: true,\n    hashNavigation: false,\n    returnFocus: true,\n    hideable: true,\n    dismiss: true,\n    preventScroll: true,\n    cancel: SELECTOR_DATA_CANCEL,\n    confirm: SELECTOR_DATA_CONFIRM,\n    title: getDataSelector(MODAL, ARIA_SUFFIX[ARIA_LABELLEDBY]),\n    description: getDataSelector(MODAL, ARIA_SUFFIX[ARIA_DESCRIBEDBY]),\n    group: \"\",\n    autofocus: true,\n    focusTrap: true,\n    awaitAnimation: false,\n    [CONTENT]: getDataSelector(MODAL, CONTENT),\n    [BACKDROP]: getDataSelector(MODAL, BACKDROP),\n    [TOGGLER]: true,\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [MODAL + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  get transition() {\n    return this.transitions[MODAL];\n  }\n  _update() {\n    updateModule(this, OPTION_GROUP, NAME);\n    updateModule(this, OPTION_PREVENT_SCROLL);\n    updateModule(this, AUTOFOCUS);\n\n    this.transitions ||= {};\n\n    const {\n      modal,\n      transitions,\n      opts: {\n        teleport: teleportOpts,\n        transitions: transitionsOpts,\n        toggler,\n        a11y,\n        escapeHide,\n      },\n      isDialog,\n      _fromHTML,\n      teleport,\n      id,\n      on,\n      off,\n    } = this;\n\n    this.teleport = Teleport.createOrUpdate(\n      teleport,\n      modal,\n      teleportOpts == null && (!isDialog || _fromHTML) ? body : teleportOpts,\n      {\n        keepPlace: false,\n      },\n    )?.move(this);\n\n    for (const elemName of DOM_ELEMENTS) {\n      if (this[elemName]) {\n        transitions[elemName] = Transition.createOrUpdate(\n          transitions[elemName],\n          this[elemName],\n          transitionsOpts?.[elemName],\n          { keepPlace: elemName === CONTENT },\n        );\n      }\n    }\n\n    this._togglers = toggler === true ? getDefaultToggleSelector(id) : toggler;\n\n    if (a11y && !isDialog) {\n      setAttribute(modal, TABINDEX, -1);\n      setAttribute(modal, ROLE, DIALOG);\n    }\n\n    if (escapeHide) {\n      on(modal, CANCEL + UI_EVENT_PREFIX, (e) => e.preventDefault());\n    } else {\n      off(modal, CANCEL + UI_EVENT_PREFIX);\n    }\n\n    return this;\n  }\n  init() {\n    const { opts, isInit, modal, on, emit, hide, toggle } = this;\n    const optsBackdrop = opts[BACKDROP];\n\n    if (isInit) return;\n\n    emit(EVENT_BEFORE_INIT);\n\n    let backdrop;\n    if (optsBackdrop) {\n      if (isFunction(optsBackdrop)) {\n        backdrop = optsBackdrop(this);\n      }\n      if (isString(optsBackdrop)) {\n        backdrop = (optsBackdrop[0] === \"#\" ? doc : modal).querySelector(\n          optsBackdrop,\n        );\n      }\n    }\n    this[BACKDROP] = backdrop;\n\n    this[CONTENT] = getOptionElem(this, opts[CONTENT], modal);\n\n    this._update();\n    this.updateAriaTargets();\n    addDismiss(this);\n\n    on(\n      modal,\n      [\n        EVENT_CLICK,\n        opts.backdropHide &&\n          (opts.backdropHide?.rightClick ?? true) &&\n          EVENT_RIGHT_CLICK,\n      ],\n      (event) => {\n        if (event.type === EVENT_CLICK) {\n          [CANCEL, CONFIRM].forEach((name) => {\n            if (opts[name]) {\n              const trigger = closest(event.target, opts[name]);\n              trigger && emit(name, { event, trigger });\n            }\n          });\n        }\n        if (\n          this.opts.backdropHide &&\n          !this[CONTENT].contains(event.target) &&\n          !this._mousedownTarget\n        ) {\n          hide({ event });\n          emit(CANCEL, { event });\n        }\n        this._mousedownTarget = null;\n      },\n    );\n\n    on(body, EVENT_CLICK + UI_EVENT_PREFIX, (event) => {\n      const togglers = this._togglers;\n      const trigger = isString(togglers)\n        ? event.target.closest(togglers)\n        : closest(event.target, togglers);\n      if (trigger) {\n        event.preventDefault();\n        toggle(null, { trigger, event });\n      }\n    });\n\n    return callInitShow(this);\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n\n    removeClass(this._togglers, this.opts[TOGGLER + CLASS_ACTIVE]);\n    this.opts.a11y &&\n      removeAttribute(this.base, [\n        TABINDEX,\n        ROLE,\n        ARIA_LABELLEDBY,\n        ARIA_DESCRIBEDBY,\n      ]);\n    baseDestroy(this, destroyOpts);\n    return this;\n  }\n  cancelAnimations() {\n    return Promise.allSettled(\n      DOM_ELEMENTS.map((elemName) => this.transitions[elemName]?.cancel()),\n    );\n  }\n  updateAriaTargets() {\n    const { base, opts } = this;\n    for (const name of [ARIA_LABELLEDBY, ARIA_DESCRIBEDBY]) {\n      const suffix = ARIA_SUFFIX[name];\n      let elem = opts[suffix];\n      if (isString(elem)) {\n        elem = getOptionElem(this, elem, base);\n      }\n      if (!isElement(elem)) {\n        elem = null;\n      }\n      this[suffix] = elem;\n      if (!elem) return;\n      const id = elem\n        ? (elem.id ||= uuidGenerator(MODAL + \"-\" + suffix + \"-\"))\n        : elem;\n      setAttribute(base, name, id);\n    }\n    return this;\n  }\n  _preventScroll(s) {\n    const hasPreventScrollModals = Modal.shownModals.filter(\n      ({ opts }) => opts.preventScroll,\n    ).length;\n    if ((s && hasPreventScrollModals) || (!s && !hasPreventScrollModals)) {\n      toggleClass(body, this.opts.preventScroll.class, s);\n    }\n  }\n  async toggle(s, params) {\n    const {\n      opts,\n      isOpen,\n      emit,\n      on,\n      off,\n      isAnimating,\n      transitions,\n      isDialog,\n      modal,\n      content,\n      backdrop,\n    } = this;\n\n    let optReturnFocusAwait =\n      opts.returnFocus && (opts.returnFocus?.await ?? opts.group.awaitPrevious);\n\n    const {\n      animated,\n      silent,\n      trigger,\n      event,\n      ignoreAutofocus,\n      ignoreConditions,\n    } = normalizeToggleParameters(params);\n\n    s = !!(s ?? !isOpen);\n\n    if (\n      !ignoreConditions &&\n      ((opts.awaitAnimation && isAnimating) || s === isOpen)\n    )\n      return;\n\n    if (isAnimating && !opts.awaitAnimation) {\n      await this.cancelAnimations();\n    }\n\n    const eventParams = { trigger, event };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    if (\n      !s &&\n      !(isFunction(opts.hideable)\n        ? await opts.hideable(this, eventParams)\n        : opts.hideable)\n    ) {\n      return emit(EVENT_HIDE_PREVENTED);\n    }\n\n    this.isOpen = s;\n\n    const backdropIsOpen = Modal.shownModals.find(\n      (modal) => modal !== this && modal[BACKDROP] === backdrop,\n    );\n\n    const shownGroupModals = this.shownGroupModals;\n    if (s) {\n      if (shownGroupModals.length > 1) {\n        const promises = Promise.allSettled(\n          shownGroupModals\n            .filter((m) => m !== this)\n            .map((modal) => modal.hide() && modal.transitionPromise),\n        );\n        if (opts.group.awaitPrevious) {\n          await promises;\n        }\n      }\n    } else if (!s && !shownGroupModals.length) {\n      optReturnFocusAwait = false;\n    }\n\n    toggleClass(\n      getElements(this._togglers),\n      opts[TOGGLER + CLASS_ACTIVE_SUFFIX],\n      s,\n    );\n\n    toggleClass(modal, opts[MODAL + CLASS_ACTIVE_SUFFIX], s);\n\n    if (s) {\n      transitions[MODAL].toggleRemove(true);\n      transitions[CONTENT].toggleRemove(true);\n      if (isDialog) {\n        if (opts.focusTrap) {\n          modal.showModal();\n        } else {\n          modal.show();\n        }\n      }\n      if (opts.returnFocus) {\n        this.returnFocusElem = doc.activeElement;\n      }\n    }\n\n    !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams);\n\n    for (const elemName of [MODAL, BACKDROP, CONTENT]) {\n      if (elemName === BACKDROP && backdropIsOpen) {\n        continue;\n      }\n      const transitionOpts = { allowRemove: elemName !== MODAL };\n\n      if (elemName !== MODAL) {\n        transitions[elemName]?.run(s, animated, transitionOpts);\n      }\n    }\n\n    this._preventScroll(s);\n\n    if (!s && !optReturnFocusAwait) {\n      this.returnFocus();\n    }\n\n    opts.escapeHide && addEscapeHide(this, s);\n\n    if (s) {\n      !ignoreAutofocus && opts.autofocus && callAutofocus(this);\n\n      on(content, EVENT_MOUSEDOWN + UI_EVENT_PREFIX, (e) => {\n        this._mousedownTarget = e.target;\n      });\n    } else {\n      this._mousedownTarget = null;\n\n      off(content, EVENT_MOUSEDOWN + UI_EVENT_PREFIX);\n\n      if (isDialog && !optReturnFocusAwait) {\n        modal.close();\n      }\n    }\n\n    const promise = this.transitionPromise;\n\n    awaitPromise(promise, () => {\n      emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams);\n\n      if (!s && optReturnFocusAwait) {\n        if (isDialog) {\n          modal.close();\n        }\n        this.returnFocus();\n      }\n      if (!s) {\n        transitions[MODAL].toggleRemove(false);\n        if (transitions[MODAL].opts[HIDE_MODE] === ACTION_DESTROY) {\n          this.destroy({ remove: true });\n        }\n      }\n    });\n\n    animated && opts.awaitAnimation && (await promise);\n\n    return this;\n  }\n\n  returnFocus() {\n    if (\n      !this.isDialog &&\n      this.opts.returnFocus &&\n      this.modal.contains(doc.activeElement)\n    ) {\n      focus(this.returnFocusElem);\n    }\n  }\n\n  get isDialog() {\n    return this[MODAL].tagName === \"DIALOG\";\n  }\n  get isAnimating() {\n    return DOM_ELEMENTS.some(\n      (elemName) => this.transitions[elemName]?.isAnimating,\n    );\n  }\n\n  get transitionPromise() {\n    return Promise.allSettled(\n      Object.values(this.transitions).flatMap(({ promises }) => promises),\n    );\n  }\n\n  get groupModals() {\n    return arrayFrom(this.instances.values()).filter(\n      ({ opts }) => opts.group?.name === this.opts.group?.name,\n    );\n  }\n  static get shownModals() {\n    return arrayFrom(this.instances.values()).filter(({ isOpen }) => isOpen);\n  }\n  get shownGroupModals() {\n    return this.groupModals.filter(({ isOpen, opts }) => opts.group && isOpen);\n  }\n  static updateBodyScrollbarWidth() {\n    updateBodyScrollbarWidth();\n  }\n}\n\nexport default Modal;\n","import {\n  EVENT_INIT,\n  EVENT_BEFORE_INIT,\n  EVENT_DESTROY,\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDE,\n  EVENT_HIDDEN,\n  EVENT_CLICK,\n  EVENT_KEYDOWN,\n  EVENT_FOCUS,\n  KEY_ENTER,\n  KEY_SPACE,\n  KEY_END,\n  KEY_HOME,\n  KEY_ARROW_LEFT,\n  KEY_ARROW_UP,\n  KEY_ARROW_RIGHT,\n  KEY_ARROW_DOWN,\n  ARIA_CONTROLS,\n  ARIA_LABELLEDBY,\n  ARIA_HIDDEN,\n  ARIA_EXPANDED,\n  ARIA_SELECTED,\n  ARIA_ORIENTATION,\n  ROLE,\n  BUTTON,\n  TABINDEX,\n  HIDDEN,\n  INERT,\n  DISABLED,\n  DATA_UI_PREFIX,\n  CLASS_ACTIVE,\n  ACTION_HIDE,\n  ACTION_SHOW,\n  ACTION_TOGGLE,\n  DEFAULT_OPTIONS,\n  DATA_APPEAR,\n  ID,\n  HORIZONTAL,\n  VERTICAL,\n  A11Y,\n  OPTION_ARIA_HIDDEN,\n  CLASS_ACTIVE_SUFFIX,\n  ROLE_SUFFIX,\n  doc,\n  UI_PREFIX,\n} from \"./helpers/constants\";\nimport Base from \"./helpers/Base.js\";\nimport {\n  isString,\n  isElement,\n  isNumber,\n  isFunction,\n  isArray,\n} from \"./helpers/is\";\nimport {\n  isUnfocusable,\n  callOrReturn,\n  getDataSelector,\n  checkHash,\n  without,\n  uuidGenerator,\n  normalizeToggleParameters,\n  getEventsPrefix,\n  kebabToCamel,\n  updateModule,\n  upperFirst,\n  getOptionElems,\n} from \"./helpers/utils\";\nimport {\n  toggleClass,\n  removeClass,\n  removeAttribute,\n  next,\n  focus,\n  parents,\n  setAttribute,\n} from \"./helpers/dom\";\nimport { addDismiss, awaitPromise } from \"./helpers/modules\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\n\nconst TABLIST = \"tablist\";\nconst TAB = \"tab\";\nconst TABS = \"tabs\";\nconst TABPANEL = \"tabpanel\";\nconst ITEM = \"item\";\nconst ACCORDION = \"accordion\";\n\nconst ELEMS = [ITEM, TAB, TABPANEL];\nconst OPTION_TAB_ROLE = TAB + ROLE_SUFFIX;\nconst OPTION_TABPANEL_ROLE = TABPANEL + ROLE_SUFFIX;\nconst OPTION_TABPANEL_TABINDEX = TABPANEL + upperFirst(TABINDEX);\nconst OPTION_ARIA_ORIENTRATION = kebabToCamel(ARIA_ORIENTATION);\nconst OPTION_STATE_ATTRIBUTE = \"stateAttribute\";\n\nconst TABLIST_SECONDARY_METHODS = [\"getTab\", \"isTab\", \"initTab\", \"initTabs\"];\n\nconst A11Y_DEFAULTS = {\n  [ACCORDION]: {\n    [ROLE]: null,\n    [OPTION_TAB_ROLE]: BUTTON,\n    [OPTION_TABPANEL_ROLE]: \"region\",\n    [OPTION_ARIA_ORIENTRATION]: true,\n    [OPTION_STATE_ATTRIBUTE]: ARIA_EXPANDED,\n    [TABINDEX]: false,\n    [OPTION_TABPANEL_TABINDEX]: false,\n  },\n  [TABS]: {\n    [ROLE]: TABLIST,\n    [OPTION_TAB_ROLE]: TAB,\n    [OPTION_TABPANEL_ROLE]: TABPANEL,\n    [OPTION_ARIA_ORIENTRATION]: true,\n    [OPTION_STATE_ATTRIBUTE]: ARIA_SELECTED,\n    [TABINDEX]: true,\n    [OPTION_TABPANEL_TABINDEX]: true,\n  },\n};\n\nclass Tablist extends Base {\n  static DefaultA11y = { ...A11Y_DEFAULTS[ACCORDION] };\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    eventPrefix: getEventsPrefix(TABLIST),\n    siblings: true,\n    alwaysExpanded: false,\n    multiExpand: false,\n    awaitAnimation: false,\n    awaitPrevious: false,\n    keyboard: true,\n    arrowActivation: false,\n    hashNavigation: true,\n    rtl: false,\n    focusFilter: null,\n    horizontal: false,\n    dismiss: false,\n    [TAB]: getDataSelector(TABLIST, TAB),\n    [TABPANEL]: getDataSelector(TABLIST, TABPANEL),\n    [ITEM]: getDataSelector(TABLIST, ITEM),\n    [TAB + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [ITEM + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [TABPANEL + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n  };\n  static _data = {};\n  static instances = new Map();\n  static get NAME() {\n    return TABLIST;\n  }\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  _update() {\n    const { a11y } = updateModule(this, A11Y, false, A11Y_DEFAULTS);\n    const { tablist, tabs, lastShownTab, opts } = this;\n\n    if (a11y) {\n      setAttribute(tablist, ROLE, a11y[ROLE]);\n      a11y[OPTION_ARIA_ORIENTRATION] &&\n        setAttribute(\n          tablist,\n          ARIA_ORIENTATION,\n          opts[HORIZONTAL] ? HORIZONTAL : VERTICAL,\n        );\n    }\n\n    const shown = lastShownTab?.index ?? opts.shown;\n\n    const tabWithState = tabs.map((tabObj, i) => {\n      const { tab, tabpanel, teleport, transition } = tabObj;\n\n      if (a11y) {\n        removeAttribute(tab, [ARIA_SELECTED, ARIA_EXPANDED]);\n        setAttribute(tab, ARIA_CONTROLS, tabpanel.id);\n        setAttribute(tab, ROLE, a11y[OPTION_TAB_ROLE]);\n        setAttribute(tabpanel, ROLE, a11y[OPTION_TABPANEL_ROLE]);\n        setAttribute(tabpanel, ARIA_LABELLEDBY, tab.id);\n      }\n\n      tabObj.teleport = Teleport.createOrUpdate(\n        teleport,\n        tabpanel,\n        opts.teleport,\n      )?.move(this, tabObj);\n\n      let isShown;\n      if (isFunction(shown)) {\n        isShown = shown(tabObj);\n      } else if (isArray(shown)) {\n        isShown = shown.some((val) => val === i || val === tabpanel.id);\n      } else if (shown !== null) {\n        isShown = tabpanel.id === shown || i === shown;\n      } else {\n        isShown = transition.isShown;\n      }\n\n      return [isShown, tabObj];\n    });\n    const hasSelected = tabWithState.find(([isShown]) => isShown);\n    if (opts.alwaysExpanded && !hasSelected) {\n      tabWithState[0][0] = true;\n    }\n    tabWithState.forEach(([isShown, tab]) => {\n      tab.transition.updateConfig(opts.transition);\n      tab.toggle(isShown, {\n        animated: opts.appear ?? tab.tabpanel.hasAttribute(DATA_APPEAR),\n        silent: !isShown,\n      });\n    });\n\n    return this;\n  }\n  init() {\n    const { id, instances, isInit, emit } = this;\n    if (isInit) return;\n\n    TABLIST_SECONDARY_METHODS.forEach(\n      (name) => (this[name] = this[name].bind(this)),\n    );\n\n    emit(EVENT_BEFORE_INIT);\n\n    this.tabs = [];\n    this.initTabs();\n\n    instances.set(id, this);\n\n    this._updateTabIndex();\n\n    this._update();\n\n    this.isInit = true;\n\n    return emit(EVENT_INIT);\n  }\n\n  destroy(deleteInstance = false, cleanStyles = true) {\n    const {\n      tablist,\n      tabs,\n      uuid,\n      opts: { a11y },\n      isInit,\n      off,\n      instances,\n      id,\n      emit,\n    } = this;\n\n    if (!isInit) return;\n\n    emit(EVENT_BEFORE_DESTROY);\n\n    off(tabs);\n\n    if (a11y) {\n      removeAttribute(tablist, [\n        a11y[ROLE] && ROLE,\n        a11y[OPTION_ARIA_ORIENTRATION] && ARIA_ORIENTATION,\n      ]);\n    }\n    tablist.id.includes(uuid) && tablist.removeAttribute(ID);\n\n    tabs.forEach((tab) => tab.destroy(cleanStyles));\n\n    this.isInit = false;\n\n    if (deleteInstance) {\n      instances.delete(id);\n    }\n\n    emit(EVENT_DESTROY);\n\n    return this;\n  }\n\n  initTabs() {\n    return getOptionElems(this, this.opts[TAB], this.tablist)\n      .map((tab) => {\n        for (const parent of parents(tab, null, this.tablist)) {\n          if (this.getTab(parent)) return;\n        }\n        return this.initTab(tab);\n      })\n      .filter(Boolean);\n  }\n  initTab(tab) {\n    if (this.getTab(tab)) return;\n\n    const { tabs, tablist, opts, shownTabs, on, off } = this;\n    const index = tabs.length;\n\n    const item = isString(opts[ITEM])\n      ? tab.closest(opts[ITEM])\n      : callOrReturn(opts[ITEM], { tablist, tab, index });\n\n    const tabpanelId = tab.getAttribute(DATA_UI_PREFIX + TABLIST + \"-\" + TAB);\n    let tabpanel = tabpanelId && doc.getElementById(tabpanelId);\n\n    if (!tabpanel && isFunction(opts[TABPANEL])) {\n      tabpanel = opts[TABPANEL]({ tablist, tab, index });\n    }\n    if (!tabpanel && opts.siblings) {\n      tabpanel = next(tab, opts[TABPANEL]);\n    }\n\n    if (!tabpanel) return;\n\n    const uuid = uuidGenerator();\n    const id = (tabpanel.id ||= TABPANEL + \"-\" + uuid);\n    tab.id ||= TAB + \"-\" + uuid;\n\n    let isShown;\n    if (shownTabs.length && !opts.multiExpand) {\n      isShown = false;\n    }\n    if (opts.hashNavigation && checkHash(id)) {\n      isShown = true;\n    }\n\n    on(tab, EVENT_FOCUS, (e) => this._onTabFocus(e));\n    on(tab, EVENT_KEYDOWN, (e) => this._onTabKeydown(e));\n    on(tab, EVENT_CLICK, (event) => {\n      event.preventDefault();\n      this.toggle(event.currentTarget, null, { event, trigger: tab });\n    });\n\n    const destroy = ({ clean = true, remove = false }) => {\n      const opts = this.opts;\n      const a11y = opts.a11y;\n      if (a11y) {\n        removeAttribute(tab, [\n          ROLE,\n          a11y[TABINDEX] && TABINDEX,\n          ARIA_CONTROLS,\n          a11y[OPTION_STATE_ATTRIBUTE],\n        ]);\n        removeAttribute(tabpanel, [\n          ROLE,\n          a11y[OPTION_TABPANEL_TABINDEX] && TABINDEX,\n          ARIA_LABELLEDBY,\n          a11y[OPTION_ARIA_HIDDEN] && ARIA_HIDDEN,\n          HIDDEN,\n          INERT,\n        ]);\n      }\n\n      off(elems);\n      this.tabs = without(this.tabs, tabInstance);\n      if (clean) {\n        ELEMS.forEach((name) =>\n          removeClass(tabInstance[name], opts[name + CLASS_ACTIVE_SUFFIX]),\n        );\n        tabInstance.transition?.destroy();\n        tabInstance.teleport?.destroy();\n      }\n      tabpanel.id.includes(uuid) && tabpanel.removeAttribute(ID);\n      tab.id.includes(uuid) && tab.removeAttribute(ID);\n\n      if (remove) {\n        elems.forEach((elem) => elem && elem.remove());\n      }\n    };\n\n    const toggleDisabled = (s = null) => {\n      const disabled = tab.toggleAttribute(DISABLED, s);\n\n      disabled && tabInstance.hide(false);\n\n      if (this.opts.alwaysExpanded) {\n        const shownTabs = this.shownTabs;\n        if (\n          !shownTabs.length ||\n          (shownTabs.length === 1 && shownTabs[0].isDisabled)\n        ) {\n          this.show(this.firstActiveTabIndex, false);\n        }\n      }\n\n      return !disabled;\n    };\n\n    const transition = new Transition(tabpanel, opts.transition);\n\n    const elems = [tab, item, tabpanel];\n    const tabInstance = {\n      id,\n      uuid,\n      tab,\n      item,\n      tabpanel,\n      elems,\n      index,\n      transition,\n      destroy: destroy.bind(this),\n      toggleDisabled: toggleDisabled.bind(this),\n      isShown,\n      get isDisabled() {\n        return tab.hasAttribute(DISABLED);\n      },\n      get initialPlaceNode() {\n        return (\n          tabInstance.teleport?.placeholder ??\n          tabInstance.transition?.placeholder ??\n          tabpanel\n        );\n      },\n    };\n\n    [ACTION_HIDE, ACTION_SHOW, ACTION_TOGGLE].forEach(\n      (action) => (tabInstance[action] = this[action].bind(this, tabInstance)),\n    );\n    tabInstance.is = this.isTab.bind(this, tabInstance);\n\n    addDismiss(this, tabpanel, tabInstance.hide);\n\n    tabs.push(tabInstance);\n    return tabInstance;\n  }\n  isTab(tab, value) {\n    let result = false;\n    if (tab === value) {\n      result = true;\n    } else if (isElement(value)) {\n      result = tab.elems.includes(value);\n    } else if (isString(value)) {\n      result = tab.elems.some((elem) => elem.matches(value));\n    } else if (isNumber(value)) {\n      result = tab.index === value;\n    }\n    return result;\n  }\n  getTab(value) {\n    return this.tabs.find((tab) => tab.is(value));\n  }\n  _onTabFocus({ currentTarget }) {\n    const tabInstance = this.getTab(currentTarget);\n    if (!tabInstance || !this.focusFilter(tabInstance)) return;\n\n    this.opts.arrowActivation && !tabInstance.isShown && tabInstance.show();\n\n    this.currentTabIndex = tabInstance.index;\n  }\n  _onTabKeydown(event) {\n    const tabInstance = this.getTab(event.currentTarget);\n    const currentIndex = this.tabs.indexOf(tabInstance);\n    const { keyboard, rtl, horizontal } = this.opts;\n    const { keyCode } = event;\n\n    if (\n      [KEY_ENTER, KEY_SPACE].includes(keyCode) &&\n      !/BUTTON|A/.test(tabInstance.tab.nodeName)\n    )\n      return tabInstance.toggle(null, { event, trigger: event.target });\n    if (KEY_END > keyCode || KEY_ARROW_DOWN < keyCode || !keyboard) return;\n\n    event.preventDefault();\n\n    const firstIndex = this.firstActiveTabIndex;\n    const lastIndex = this.lastActiveTabIndex;\n    const nextIndex = currentIndex + 1;\n    const prevIndex = currentIndex ? currentIndex - 1 : lastIndex;\n\n    const prevCode = horizontal ? KEY_ARROW_LEFT : KEY_ARROW_UP;\n    const nextCode = horizontal ? KEY_ARROW_RIGHT : KEY_ARROW_DOWN;\n\n    let index;\n    if (keyCode === KEY_END) {\n      index = rtl ? firstIndex : lastIndex;\n    } else if (keyCode === KEY_HOME) {\n      index = rtl ? lastIndex : firstIndex;\n    } else if (keyCode === prevCode) {\n      index = rtl ? nextIndex : prevIndex;\n    } else if (keyCode === nextCode) {\n      index = rtl ? prevIndex : nextIndex;\n    }\n    index != null && this._switchTab(index);\n  }\n  _switchTab(index) {\n    const tabs = this.tabs;\n    if (tabs[index] && !this.focusFilter(tabs[index])) {\n      this._switchTab(index > this.currentTabIndex ? index + 1 : index - 1);\n      return;\n    }\n    this.currentTabIndex =\n      index < this.firstActiveTabIndex\n        ? this.lastActiveTabIndex\n        : index >= tabs.length\n        ? this.firstActiveTabIndex\n        : index;\n\n    focus(tabs[this.currentTabIndex].tab);\n  }\n  _updateTabIndex(activeIndex) {\n    const { keyboard, a11y } = this.opts;\n    if (!keyboard || !a11y) return;\n    activeIndex ??= this.shownTabs[0]?.index ?? this.firstActiveTabIndex;\n    a11y &&\n      this.tabs.forEach(({ tab, tabpanel }, i) =>\n        setAttribute(\n          [a11y[TABINDEX] && tab, a11y[OPTION_TABPANEL_TABINDEX] && tabpanel],\n          TABINDEX,\n          i === activeIndex ? 0 : -1,\n        ),\n      );\n  }\n  focusFilter(tab) {\n    return (\n      !isUnfocusable(tab.tab) &&\n      (isFunction(this.opts.focusFilter) ? this.opts.focusFilter(tab) : true)\n    );\n  }\n  get shownTabs() {\n    return this.tabs.filter(({ isShown }) => isShown);\n  }\n  get firstActiveTabIndex() {\n    return this.tabs.find((tab) => this.focusFilter(tab))?.index;\n  }\n  get lastActiveTabIndex() {\n    return this.tabs.findLast((tab) => this.focusFilter(tab))?.index;\n  }\n\n  async toggle(elem, s, params) {\n    const { animated, silent, event, trigger } =\n      normalizeToggleParameters(params);\n    const tabInstance = this.getTab(elem);\n\n    if (!tabInstance) return;\n\n    const { opts, shownTabs, emit } = this;\n    const { a11y, multiExpand, awaitAnimation } = opts;\n    const { tab, isShown, transition, index } = tabInstance;\n\n    s = !!(s ?? !isShown);\n\n    s && this._updateTabIndex(index);\n\n    if (\n      s === isShown ||\n      (awaitAnimation &&\n        transition.isAnimating &&\n        ((shownTabs.length <= 1 && !multiExpand) || multiExpand)) ||\n      (isShown && opts.alwaysExpanded && !s && shownTabs.length < 2) ||\n      (s && !this.focusFilter(tabInstance))\n    )\n      return;\n\n    if (transition.isAnimating && !awaitAnimation) {\n      await transition.cancel();\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent &&\n      emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, tabInstance, eventParams);\n\n    tabInstance.isShown = s;\n\n    if (!multiExpand && s) {\n      for (const shownTab of shownTabs) {\n        if (tabInstance !== shownTab && shownTab.isShown) {\n          shownTab.hide(animated);\n          if (opts.awaitPrevious) await shownTab.transition.getAwaitPromise();\n        }\n      }\n    }\n\n    if (s && !tabInstance.isShown) return;\n\n    ELEMS.forEach((elemName) =>\n      toggleClass(\n        tabInstance[elemName],\n        opts[elemName + CLASS_ACTIVE_SUFFIX],\n        s,\n      ),\n    );\n\n    if (a11y) {\n      a11y[OPTION_STATE_ATTRIBUTE] &&\n        setAttribute(tab, a11y[OPTION_STATE_ATTRIBUTE], s);\n    }\n\n    const promise = transition.run(s, animated, {\n      [s ? EVENT_SHOW : EVENT_HIDE]: () =>\n        !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, tabInstance, eventParams),\n      [EVENT_DESTROY]: () =>\n        tabInstance.destroy({ remove: true, destroyTransition: false }),\n    });\n\n    if (s) {\n      this.lastShownTab = tabInstance;\n      this.currentTabIndex ??= index;\n    }\n\n    awaitPromise(promise, () =>\n      emit(s ? EVENT_SHOWN : EVENT_HIDDEN, tabInstance, eventParams),\n    );\n\n    animated && opts.awaitAnimation && (await promise);\n\n    return tabInstance;\n  }\n  show(elem, opts) {\n    return this.toggle(elem, true, opts);\n  }\n  hide(elem, opts) {\n    return this.toggle(elem, false, opts);\n  }\n  static show(elem, opts) {\n    return this.toggle(elem, true, opts);\n  }\n  static hide(elem, opts) {\n    return this.toggle(elem, false, opts);\n  }\n  static toggle(elem, s, params) {\n    for (const tablist of this.instances.values()) {\n      if (tablist.getTab(elem)) {\n        tablist.toggle(elem, s, params);\n        break;\n      }\n    }\n  }\n}\n\nTablist.data(UI_PREFIX + TABS, {\n  alwaysExpanded: true,\n  horizontal: true,\n  arrowActivation: true,\n  a11y: TABS,\n});\n\nexport default Tablist;\n","import { nextAll } from \"./index.js\";\nexport default (elem, selector) => nextAll(elem, selector)[0];\n","import returnArray from \"./returnArray\";\nexport default (source, ...values) =>\n  returnArray(source).filter((elem) => !values.includes(elem));\n","import {\n  UI_PREFIX,\n  PROGRESS,\n  EVENT_MOUSELEAVE,\n  EVENT_MOUSEENTER,\n  EVENT_FOCUSIN,\n  EVENT_FOCUSOUT,\n  EVENT_PAUSE,\n  EVENT_RESUME,\n  EVENT_RESET,\n  ACTION_PAUSE,\n  ACTION_RESUME,\n  ACTION_RESET,\n  ACTION_TOGGLE,\n  EVENT_VISIBILITY_CHANGE,\n  doc,\n} from \"./constants\";\nimport { callOrReturn, getOption, mergeDeep, getDataSelector } from \"./utils\";\nimport { EventHandler } from \"./EventHandler\";\nimport { isNumber } from \"./is\";\n\nclass Autoaction {\n  static Default = {\n    progressElem: getDataSelector(PROGRESS),\n    duration: 5000,\n    decimal: 4,\n    durationUpdate: null,\n    pauseOnMouse: true,\n    resetOnMouse: true,\n    pauseOnFocus: true,\n    resetOnFocus: true,\n    visibilityControl: false,\n    cssVariable: UI_PREFIX + PROGRESS,\n  };\n  constructor(elem, action, opts) {\n    const Default = this.constructor.Default;\n    opts = isNumber(opts)\n      ? { ...Default, duration: opts }\n      : mergeDeep(Default, opts);\n    const { on, off, emit } = new EventHandler();\n    Object.assign(this, { elem, action, on, off, emit, opts });\n    [\n      \"checkTime\",\n      ACTION_PAUSE,\n      ACTION_RESUME,\n      ACTION_RESET,\n      ACTION_TOGGLE,\n    ].forEach((action) => (this[action] = this[action].bind(this)));\n\n    this.progressElem = getOption(false, opts.progressElem, elem);\n\n    if (opts.visibilityControl) {\n      on(doc, EVENT_VISIBILITY_CHANGE, () => this.toggle(!doc.hidden));\n    }\n  }\n  toggleInterections(s) {\n    const { opts, elem, on, off, resume, pause, reset } = this;\n    const { pauseOnMouse, resetOnMouse, pauseOnFocus, resetOnFocus } = opts;\n\n    if (!pauseOnMouse && !resetOnMouse && !pauseOnFocus && !resetOnFocus)\n      return;\n\n    if (s) {\n      reset();\n      let interactedMouse, interactedFocus;\n      if (pauseOnFocus || resetOnFocus) {\n        on(elem, [EVENT_FOCUSIN, EVENT_FOCUSOUT], ({ type }) => {\n          interactedFocus = type === EVENT_FOCUSIN;\n          if (interactedFocus) {\n            resetOnFocus && reset();\n            pauseOnFocus && pause();\n          } else if (!interactedMouse) {\n            pauseOnFocus && resume();\n          }\n        });\n      }\n      if (pauseOnMouse || resetOnMouse) {\n        on(elem, [EVENT_MOUSEENTER, EVENT_MOUSELEAVE], ({ type }) => {\n          interactedMouse = type === EVENT_MOUSEENTER;\n          if (interactedMouse) {\n            resetOnMouse && reset();\n            pauseOnMouse && pause();\n          } else if (!interactedFocus) {\n            pauseOnMouse && resume();\n          }\n        });\n      }\n    } else {\n      off();\n    }\n    return this;\n  }\n  checkTime() {\n    const { opts, elem, progressElem, paused, _prevProgress } = this;\n    if (paused) return;\n    const current = performance.now();\n    this.timeCurrent = Math.round(current - this.timeBegin);\n    const time = opts.duration - this.timeCurrent;\n    const progress = +Math.max(time / opts.duration, 0).toFixed(opts.decimal);\n    this._prevProgress = progress;\n    if (progress && progress === _prevProgress) {\n      return requestAnimationFrame(this.checkTime);\n    }\n\n    if (opts.cssVariable) {\n      progressElem?.style.setProperty(\"--\" + opts.cssVariable, progress);\n    }\n\n    callOrReturn(opts.durationUpdate, { elem, time, progress });\n\n    if (progress <= 0) {\n      this.action();\n    } else {\n      requestAnimationFrame(this.checkTime);\n    }\n  }\n  toggle(s = this.paused) {\n    return s ? this.resume() : this.pause();\n  }\n  pause() {\n    this.paused = true;\n    this.emit(EVENT_PAUSE);\n    return this;\n  }\n  resume() {\n    this.paused = false;\n    this.timeBegin = performance.now() - this.timeCurrent;\n    this.checkTime();\n    this.emit(EVENT_RESUME);\n    return this;\n  }\n  reset() {\n    this.paused = false;\n    this.timeBegin = performance.now();\n    this.checkTime();\n    this.emit(EVENT_RESET);\n    return this;\n  }\n  destroy() {\n    this.paused = true;\n    this.off();\n  }\n  static createOrUpdate(autoaction, elem, action, opts) {\n    if (autoaction) {\n      return autoaction.destroy();\n    } else if (opts !== false) {\n      return new Autoaction(elem, action, opts);\n    }\n  }\n}\n\nexport default Autoaction;\n","import {\n  EVENT_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDE,\n  EVENT_HIDDEN,\n  body,\n  DEFAULT_OPTIONS,\n  ACTION_DESTROY,\n  HIDE_MODE,\n} from \"./helpers/constants\";\nimport { isArray, isObject, isString } from \"./helpers/is\";\nimport { fragment, inDOM } from \"./helpers/dom\";\nimport {\n  normalizeToggleParameters,\n  arrayFrom,\n  getEventsPrefix,\n  callOrReturn,\n  getOptionElem,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  awaitPromise,\n  baseDestroy,\n  callInitShow,\n} from \"./helpers/modules\";\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Autoaction from \"./helpers/Autoaction.js\";\n\nconst TOAST = \"toast\";\n\nconst positions = {};\nconst wrappers = new Map();\nconst _containers = {};\nclass Toast extends ToggleMixin(Base, TOAST) {\n  static _templates = {};\n\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    eventPrefix: getEventsPrefix(TOAST),\n    root: null,\n    container: \"\",\n    template: \"\",\n    appear: true,\n    dismiss: true,\n    limit: false,\n    limitAnimateEnter: true,\n    limitAnimateLeave: true,\n    autohide: false,\n  };\n  constructor(elem, opts) {\n    if (isObject(elem)) {\n      opts = elem;\n      elem = null;\n    }\n    super(elem, opts);\n  }\n  _update() {\n    const { opts, base, autohide, hide } = this;\n    if (!opts.root && inDOM(base)) {\n      this.root = base.parentElement;\n    } else {\n      this.root = opts.root ? getOptionElem(this, opts.root) : body;\n    }\n    this.transition = new Transition(base, opts.transition, {\n      [HIDE_MODE]: ACTION_DESTROY,\n    });\n    this.autohide = Autoaction.createOrUpdate(\n      autohide,\n      base,\n      hide,\n      opts.autohide,\n    );\n\n    return this;\n  }\n  destroy(opts) {\n    if (!this.isInit) return;\n    baseDestroy(this, { remove: true, ...opts });\n    return this;\n  }\n  init() {\n    if (this.isInit) return;\n\n    this._update();\n\n    addDismiss(this);\n\n    return callInitShow(this);\n  }\n  async toggle(s, params) {\n    const {\n      transition,\n      opts: {\n        limit,\n        limitAnimateLeave,\n        limitAnimateEnter,\n        position,\n        container,\n      },\n      autohide,\n      base,\n      root,\n      instances,\n      constructor,\n      emit,\n      destroy,\n    } = this;\n    const { animated, silent, event, trigger } =\n      normalizeToggleParameters(params);\n\n    if (animated && transition.isAnimating) return;\n\n    s ??= !transition.isShown;\n\n    let preventAnimation;\n\n    if (s) {\n      if (limit) {\n        const nots = arrayFrom(instances.values()).filter(\n          (instance) =>\n            instance !== this &&\n            instance.opts.position === position &&\n            instance.root === root,\n        );\n        for (let i = 0; i < nots.length; i++) {\n          if (i >= limit - 1) {\n            nots[i - (limit - 1)]?.hide(limitAnimateLeave);\n            if (!limitAnimateEnter) {\n              preventAnimation = true;\n            }\n          }\n        }\n      }\n      if (root) {\n        let to = root;\n        if (position) {\n          const wrapper = (to = constructor.getWrapper({\n            position,\n            root,\n            container,\n          }));\n          if (wrapper && wrapper.parentElement !== root) {\n            root.append(wrapper);\n          }\n        }\n        to.append(base);\n      }\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    autohide && autohide.toggleInterections(s);\n\n    const promise = transition.run(s, animated && !preventAnimation, {\n      [s ? EVENT_SHOW : EVENT_HIDE]: () =>\n        !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams),\n      [EVENT_DESTROY]: () =>\n        destroy({ remove: true, destroyTransition: false }),\n    });\n\n    awaitPromise(promise, () =>\n      emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams),\n    );\n\n    animated && (await promise);\n\n    const rootWrappers = wrappers.get(root);\n    const wrapper =\n      rootWrappers &&\n      [...rootWrappers].find(\n        (w) => w.position === position && w.container === container,\n      )?.wrapper;\n\n    if (!s && wrapper && !wrapper.children.length) {\n      if (rootWrappers) {\n        const w = [...rootWrappers].find((w) => w.wrapper === wrapper);\n        w && rootWrappers.delete(w);\n      }\n      wrapper.remove();\n    }\n\n    return this;\n  }\n\n  static getWrapper({ position, root = body, container = \"\" }) {\n    let rootWrappers = wrappers.get(root);\n    if (!rootWrappers) {\n      rootWrappers = new Set();\n      wrappers.set(root, rootWrappers);\n    } else {\n      const wrapper = [...rootWrappers].find(\n        (w) => w.position === position && w.container === container,\n      );\n      if (wrapper) return wrapper.wrapper;\n    }\n\n    const containerParams = { name: container, position };\n    const wrapper = fragment(\n      isString(container)\n        ? callOrReturn(\n            _containers[container] ?? _containers[\"\"],\n            containerParams,\n          )\n        : container(containerParams),\n    );\n\n    rootWrappers.add({ wrapper, container, position, root });\n    return wrapper;\n  }\n  static addPosition(position, container = \"\") {\n    positions[container] ||= {};\n    if (isArray(position)) {\n      position.forEach((p) => this.addPosition(p, container));\n    } else if (isObject(position)) {\n      positions[container][position.name] = position;\n    }\n  }\n  static template(name, opts) {\n    if (!opts) {\n      opts = name;\n      name = \"\";\n    }\n    if (!opts) return this._templates[name];\n    this._templates[name] = opts;\n    return this;\n  }\n  static container(name, opts) {\n    if (!opts) {\n      opts = name;\n      name = \"\";\n    }\n    if (!opts) return _containers[name];\n    _containers[name] = opts;\n    return this;\n  }\n}\n\nexport default Toast;\n","import {\n  EVENT_BEFORE_INIT,\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDDEN,\n  CLASS,\n  HOVER,\n  FOCUS,\n  ACTION_REMOVE,\n  TOP,\n  ANCHOR,\n  TARGET,\n  UI_PREFIX,\n  ARIA_DESCRIBEDBY,\n  DATA_UI_PREFIX,\n  DEFAULT_FLOATING_OPTIONS,\n  DEFAULT_OPTIONS,\n  OPTION_ARIA_DESCRIBEDBY,\n  TITLE,\n  CONTENT,\n  TOOLTIP,\n  body,\n  CLASS_ACTIVE_SUFFIX,\n  HIDE_MODE,\n  MODE,\n  ABSOLUTE,\n} from \"./helpers/constants\";\n\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport {\n  getElement,\n  setAttribute,\n  toggleClass,\n  inDOM,\n  removeAttribute,\n} from \"./helpers/dom\";\nimport Transition from \"./helpers/Transition.js\";\n\nimport {\n  normalizeToggleParameters,\n  getEventsPrefix,\n  getClassActive,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  toggleOnInterection,\n  floatingTransition,\n  callInitShow,\n  awaitPromise,\n} from \"./helpers/modules\";\n\nconst UI_TOOLTIP = UI_PREFIX + TOOLTIP;\n\nclass Tooltip extends ToggleMixin(Base, TOOLTIP) {\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    ...DEFAULT_FLOATING_OPTIONS,\n    eventPrefix: getEventsPrefix(TOOLTIP),\n    placement: TOP,\n    template: (content) =>\n      `<div class=\"${UI_TOOLTIP}\"><div class=\"${UI_TOOLTIP}-arrow\" data-${UI_TOOLTIP}-arrow></div><div class=\"${UI_TOOLTIP}-content\">${content}</div></div>`,\n    interactive: false,\n    removeTitle: true,\n    tooltipClass: \"\",\n    [ANCHOR + CLASS_ACTIVE_SUFFIX]: getClassActive(TOOLTIP),\n    trigger: HOVER + \" \" + FOCUS,\n    content: null,\n  };\n\n  static get BASE_NODE_NAME() {\n    return ANCHOR;\n  }\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  _update() {\n    const { tooltip, opts, transition } = this;\n\n    this.transition = Transition.createOrUpdate(\n      transition,\n      tooltip,\n      opts.transition,\n      { [HIDE_MODE]: ACTION_REMOVE, keepPlace: false },\n    );\n\n    opts[MODE] =\n      this[ANCHOR].getAttribute(DATA_UI_PREFIX + TOOLTIP + \"-\" + MODE) ??\n      opts[MODE];\n\n    opts.a11y && setAttribute(tooltip, TOOLTIP);\n  }\n  destroy(destroyOpts) {\n    const { isInit, anchor, tooltip, id, _cache, emit, opts } = this;\n    if (!isInit) return;\n    emit(EVENT_BEFORE_DESTROY);\n    if (opts.a11y) {\n      removeAttribute(tooltip, TOOLTIP);\n      setAttribute(anchor, ARIA_DESCRIBEDBY, (val) =>\n        val === id + \"-\" + TARGET ? _cache[OPTION_ARIA_DESCRIBEDBY] : val,\n      );\n    }\n\n    if (_cache[TITLE]) {\n      anchor[TITLE] = _cache[TITLE];\n    }\n    return baseDestroy(this, destroyOpts);\n  }\n  init() {\n    const { opts, anchor, id, isInit, emit } = this;\n\n    if (isInit) return;\n\n    emit(EVENT_BEFORE_INIT);\n\n    this._cache = { [TITLE]: anchor[TITLE] };\n\n    const target = (this.tooltip = getElement(\n      opts.template(\n        opts[CONTENT] ??\n          anchor.getAttribute(DATA_UI_PREFIX + TOOLTIP + \"-\" + CONTENT) ??\n          anchor[TITLE],\n        this,\n      ),\n    ));\n    target.id ||= id + \"-\" + TARGET;\n\n    anchor.removeAttribute(TITLE);\n    toggleClass(\n      target,\n      anchor.getAttribute(DATA_UI_PREFIX + TOOLTIP + \"-\" + CLASS) ??\n        opts.tooltipClass,\n      true,\n    );\n\n    this._update();\n\n    toggleOnInterection({ anchor, target, instance: this });\n\n    addDismiss(this, target);\n\n    return callInitShow(this, target);\n  }\n\n  async toggle(s, params) {\n    const {\n      transition,\n      anchor,\n      tooltip,\n      id,\n      opts,\n      emit,\n      _cache,\n      isShown,\n      isAnimating,\n    } = this;\n    const awaitAnimation = opts.awaitAnimation;\n    const { animated, trigger, silent, event, ignoreConditions } =\n      normalizeToggleParameters(params);\n\n    s ??= !isShown;\n\n    if (\n      (!ignoreConditions &&\n        ((awaitAnimation && isAnimating) || s === isShown)) ||\n      (!s && !inDOM(tooltip))\n    )\n      return;\n\n    this.isShown = s;\n\n    if (isAnimating && !awaitAnimation) {\n      await transition.cancel();\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    if (opts.a11y) {\n      setAttribute(\n        anchor,\n        ARIA_DESCRIBEDBY,\n        s\n          ? (value) => {\n              value && (_cache[OPTION_ARIA_DESCRIBEDBY] = value);\n              return id + \"-\" + TARGET;\n            }\n          : _cache[OPTION_ARIA_DESCRIBEDBY] ?? null,\n      );\n    }\n\n    toggleClass(anchor, opts[ANCHOR + CLASS_ACTIVE_SUFFIX], s);\n\n    if (s) {\n      opts.mode === ABSOLUTE\n        ? anchor.after(tooltip)\n        : body.appendChild(tooltip);\n    }\n\n    const promise = floatingTransition(this, {\n      s,\n      animated,\n      silent,\n      eventParams,\n    });\n\n    awaitPromise(promise, () =>\n      emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams),\n    );\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Tooltip;\n","import {\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDDEN,\n  CLASS_ACTIVE,\n  ARIA_CONTROLS,\n  ARIA_EXPANDED,\n  ACTION_REMOVE,\n  POPOVER,\n  CLICK,\n  DEFAULT_AUTOFOCUS,\n  DEFAULT_FLOATING_OPTIONS,\n  DEFAULT_OPTIONS,\n  AUTOFOCUS,\n  DATA_UI_PREFIX,\n  MODE,\n  body,\n  doc,\n  CLASS_ACTIVE_SUFFIX,\n  TOGGLER,\n  HIDE_MODE,\n  ABSOLUTE,\n} from \"./helpers/constants\";\n\nimport {\n  toggleClass,\n  removeClass,\n  setAttribute,\n  focus,\n  removeAttribute,\n} from \"./helpers/dom\";\nimport {\n  normalizeToggleParameters,\n  getDefaultToggleSelector,\n  updateModule,\n  getOptionElem,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  callAutofocus,\n  toggleOnInterection,\n  floatingTransition,\n  callInitShow,\n  awaitPromise,\n} from \"./helpers/modules\";\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\n\n// modes POPOVER, DIALOG, FIXED, ABSOLUTE\n\nclass Popover extends ToggleMixin(Base, POPOVER) {\n  static DefaultAutofocus = {\n    elem: DEFAULT_AUTOFOCUS,\n    required: true,\n  };\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    ...DEFAULT_FLOATING_OPTIONS,\n    focusTrap: true,\n    returnFocus: true,\n    dismiss: true,\n    autofocus: true,\n    trigger: CLICK,\n    [TOGGLER]: null,\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  init() {\n    if (this.isInit) return;\n    this._update();\n\n    const { toggler, popover } = this;\n\n    toggleOnInterection({ anchor: toggler, target: popover, instance: this });\n    addDismiss(this, popover);\n\n    return callInitShow(this);\n  }\n  _update() {\n    const { base, opts, transition } = this;\n\n    updateModule(this, AUTOFOCUS);\n\n    this.transition = Transition.createOrUpdate(\n      transition,\n      base,\n      opts.transition,\n      { [HIDE_MODE]: ACTION_REMOVE, keepPlace: false },\n    );\n\n    this.updateToggler();\n\n    opts[MODE] =\n      base.getAttribute(DATA_UI_PREFIX + POPOVER + \"-\" + MODE) ?? opts[MODE];\n  }\n  updateToggler() {\n    const { opts, id } = this;\n    const toggler = (this.toggler = getOptionElem(\n      this,\n      opts.toggler ?? getDefaultToggleSelector(id),\n    ));\n    if (!toggler) return;\n    opts.a11y && setAttribute(toggler, ARIA_CONTROLS, id);\n    return this;\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n    const { opts, toggler } = this;\n    this.emit(EVENT_BEFORE_DESTROY);\n    opts.a11y && removeAttribute(toggler, ARIA_CONTROLS, ARIA_EXPANDED);\n    removeClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX]);\n    return baseDestroy(this, destroyOpts);\n  }\n\n  async toggle(s, params) {\n    const { transition, isShown, isAnimating, toggler, base, opts, emit } =\n      this;\n    const { awaitAnimation, a11y, returnFocus, autofocus } = opts;\n    const { animated, silent, event, ignoreAutofocus, ignoreConditions } =\n      normalizeToggleParameters(params);\n\n    s ??= !isShown;\n\n    if (!ignoreConditions && ((awaitAnimation && isAnimating) || s === isShown))\n      return;\n\n    this.isShown = s;\n\n    if (isAnimating && !awaitAnimation) {\n      await transition.cancel();\n    }\n\n    if (s) {\n      opts[MODE] === ABSOLUTE ? toggler.after(base) : body.appendChild(base);\n    }\n\n    const eventParams = { event };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    a11y && toggler.setAttribute(ARIA_EXPANDED, !!s);\n\n    toggleClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX], s);\n\n    const promise = floatingTransition(this, {\n      s,\n      animated,\n      silent,\n      eventParams,\n    });\n\n    !s && returnFocus && base.contains(doc.activeElement) && focus(toggler);\n\n    s && !ignoreAutofocus && autofocus && callAutofocus(this);\n\n    awaitPromise(promise, () =>\n      emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams),\n    );\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Popover;\n"],"names":["cache","kebabToCamel","str","replace","match","toUpperCase","upperFirst","slice","UI","UI_PREFIX","UI_EVENT_PREFIX","VAR_UI_PREFIX","DATA_PREFIX","DATA_UI_PREFIX","ACTIVE","CLASS_ACTIVE","NAME","MODE","PX","NONE","ID","WIDTH","HEIGHT","TOP","LEFT","RIGHT","BOTTOM","CENTER","START","END","DOWN","TITLE","HORIZONTAL","ABSOLUTE","FIXED","TRANSITION","BUTTON","CLASS","STYLE","ROLE","ROOT","CONFIRM","CANCEL","BEFORE","AFTER","MOUSE","CLICK","HOVER","FOCUS","SCROLL","HIDE","HIDDEN","SHOW","SHOWN","APPEAR","TARGET","AVAILABLE","AVAILABLE_WIDTH","AVAILABLE_HEIGHT","ANCHOR","MODAL","CONTENT","BACKDROP","POPOVER","TOOLTIP","TOGGLER","DROPDOWN","ARROW","PROGRESS","DISMISS","DIALOG","FLIP","SHRINK","STICKY","PLACEMENT","PADDING","OFFSET","BOUNDARY_OFFSET","CLIP_PATH","ARROW_OFFSET","ARROW_PADDING","TRUE","doc","document","body","ENTER","LEAVE","BEFORE_ENTER","ENTER_ACTIVE","ENTER_FROM","ENTER_TO","AFTER_ENTER","BEFORE_LEAVE","LEAVE_ACTIVE","LEAVE_FROM","LEAVE_TO","AFTER_LEAVE","HIDE_MODE","DURATION","ACTION_INIT","ACTION_DESTROY","ACTION_TOGGLE","ACTION_SHOW","ACTION_HIDE","ACTION_REMOVE","ACTION_UPDATE","ACTION_PAUSE","ACTION_RESUME","ACTION_RESET","ACTION_ON","ACTION_OFF","ACTION_EMIT","ACTION_ONCE","INERT","AUTOFOCUS","TABINDEX","DISABLED","FLOATING_DATA_ATTRIBUTE","DATA_APPEAR","EVENT_INIT","EVENT_BEFORE_INIT","EVENT_DESTROY","EVENT_BEFORE_DESTROY","EVENT_BEFORE_SHOW","EVENT_SHOW","EVENT_SHOWN","EVENT_BEFORE_HIDE","EVENT_HIDE","EVENT_HIDDEN","EVENT_PAUSE","EVENT_RESUME","EVENT_RESET","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","EVENT_MOUSEDOWN","EVENT_CHANGE","EVENT_CLICK","EVENT_KEYDOWN","EVENT_FOCUS","EVENT_FOCUSIN","EVENT_FOCUSOUT","EVENT_ACTION_OUTSIDE","EVENT_SCROLL","ARIA","ARIA_CONTROLS","ARIA_EXPANDED","ARIA_SELECTED","ARIA_HIDDEN","ARIA_LABELLEDBY","ARIA_DESCRIBEDBY","ARIA_ORIENTATION","ARIA_LIVE","ARIA_ATOMIC","KEY_ENTER","KEY_SPACE","KEY_END","KEY_HOME","KEY_ARROW_LEFT","KEY_ARROW_UP","KEY_ARROW_RIGHT","KEY_ARROW_DOWN","OPTION_APPEAR","OPTION_KEEP_PLACE","OPTION_PREVENT_SCROLL","OPTION_POSITION","OPTION_ARIA_DESCRIBEDBY","OPTION_ARIA_HIDDEN","CLASS_ACTIVE_SUFFIX","ROLE_SUFFIX","OPTIONS_BOOLEAN","DEFAULT_OPTIONS","data","on","eventDispatch","eventBubble","shown","a11y","DEFAULT_FLOATING_OPTIONS","awaitAnimation","placement","offset","padding","delay","boundaryOffset","shrink","flip","sticky","escapeHide","outsideHide","mode","arrow","height","width","SELECTOR_DISABLED","SELECTOR_INERT","SELECTOR_DATA_CONFIRM","SELECTOR_DATA_CANCEL","DEFAULT_AUTOFOCUS","SELECTOR_ROOT","MIRROR","x","y","CLIP_PATH_PROPERTY","CSS","supports","isArray","Array","isElement","value","getElementsByClassName","isFunction","isHTML","RegExp","prototype","test","bind","isIterable","Symbol","iterator","isString","isNumber","isObject","constructor","Object","arrayFrom","from","arrayUnique","array","length","Set","callOrReturn","camelToKebab","toLowerCase","checkHash","id","window","location","hash","substring","createElement","type","props","content","elem","class","entries","forEach","name","classes","toggleClass","addClass","addStyle","setAttribute","item","append","createInset","input","returnArray","top","right","bottom","left","getDataSelector","values","join","getOption","multiply","instance","option","root","params","filter","Boolean","getOptionElem","getOptionElems","min","max","Math","isOverflowElement","overflow","overflowX","overflowY","display","getComputedStyle","UNFOCUSABLE_SELECTORS","isUnfocusable","matches","mergeDeep","objects","result","object","key","undefined","normalizeToggleParameters","animated","resizeObserver","ResizeObserver","borderBoxSize","target","blockSize","inlineSize","__resizeCallback__","strToArray","separator","split","toMs","time","num","parseFloat","unit","uuidGenerator","prefix","random","toString","updateOptsByData","opts","dataset","names","optionName","attributeName","hasAttribute","includes","JSON","parse","getEventsPrefix","getClassActive","getDefaultToggleSelector","DEFAULT_PREFIX","updateModule","property","defaults","defaultValue","registerProperty","valuesToArray","trim","map","style","setProperty","closest","selectors","getElements","find","t","contains","dir","selector","until","utilIsFn","el","elems","is","push","flat","each","fn","isFn","i","list","focus","preventScroll","fragment","html","findSelectors","children","DOMParser","parseFromString","querySelectorAll","getElement","context","findSelf","unshift","inDOM","nextAll","parents","removeAttribute","removeClass","getAttribute","s","cls","classList","isIOS","navigator","userAgent","getBoundingClientRect","useScale","rect","toJSON","vV","visualViewport","hasScale","scale","iosScale","innerWidth","documentElement","clientWidth","hasIosScale","keyboardOpen","innerHeight","offsetTop","offsetLeft","getPropertyValue","EventHandler","this","eventsSet","_id","getNamespaces","eventFullName","event","namespace","events","deligate","_handler","_opts","capture","e","detail","handler","once","offId","isSelector","deligateTarget","addEventListener","add","args","newOpts","optsPosition","getOptsObj","arguments","removeSets","sets","set","removeEventListener","delete","off","emit","dispatchEvent","CustomEvent","Breakpoints","static","breakpoints","_onResize","sort","a","b","mql","media","mq","matchMedia","instances","checkBreakpoints","ignoreConditions","breakpoint","currentData","newBreakpoint","onUpdate","destroy","getDataValue","_data","dataName","Base","Map","BASE_NODE_NAME","Default","_templates","allInstances","baseElemName","datasetValue","isDataObject","template","_fromTemplate","_fromHTML","querySelector","baseOpts","uuid","eventHandler","action","_initBreakpoints","init","isInit","_update","eventName","base","eventPrefix","any","bubbles","update","get","getOrCreate","ToggleMixin","isAnimating","transition","initialPlaceNode","teleport","placeholder","hide","toggle","show","HIDDEN_CLASS","DATASET_DURATION","DATASET_DURATION_ENTER","DATASET_DURATION_LEAVE","OPTION_SHOWN_CLASS","OPTION_HIDDEN_CLASS","Transition","css","variablePrefix","defaultOpts","updateConfig","promises","toggleRemove","setFinishClass","defaultConfig","datasetData","duration","durationEnter","durationLeave","enter","leave","toggleVariables","offsetWidth","offsetHeight","prop","removeProperty","toggleAnimationClasses","setClasses","setFinishClasses","removeClasses","isShown","hideMode","animations","styles","hasStyle","hasClass","state","collectPromises","promisesEvent","promisesAnimation","Promise","resolve","getAnimations","allSettled","finished","promisesDuration","isNaN","setTimeout","cancel","animation","getAwaitPromise","replaceWith","parent","createComment","parentElement","remove","toggleAttribute","async","hidden","allowRemove","TELEPORT","TELEPORT_DATA_ATTRIBUTE","TELEPORT_DATA_ATTRIBUTES","Teleport","to","move","toParameters","position","keepPlace","before","insertAdjacentElement","reset","addDismiss","_dismiss","preventDefault","stopPropagation","trigger","addEscapeHide","keyCode","stop","callAutofocus","autofocus","activeElement","focusElem","isDialog","tagName","required","baseDestroy","keepInstance","destroyTransition","destroyTeleport","autohide","floating","transitions","toggleOnInterection","anchor","triggerClick","triggerHover","triggerFocus","entered","d","clearTimeout","_hoverTimer","PREFIX","syntax","inherits","head","appendChild","ResetFloatingCssVariables","DIALOG_MODE","Floating","assign","recalculate","anchorScrollParents","targetStyles","anchorStyles","pendingUpdate","minHeight","minWidth","wrapper","createWrapper","wrapperStyle","absolute","targetRect","arrowPadding","arrowOffset","wrapperComputedStyle","polygonValues","valueEnd","splice","computedValues","next","collectCssVariables","v","arrowRect","anchorRect","size","arrowData","updatePosition","viewRect","baseM","baseS","hor","dirS","minRect","useFlipM","useFlipS","calculate","m","isStart","isEnd","isCenter","isMainDir","sumPadding","mirrorSize","mirrorDirS","anchorSpace","awailableSizesOffset","awailableSizes","currentSize","mo","so","staticSo","shift","transformOrigin","arrowPosition","getPosition","transform","requestAnimationFrame","observe","box","observeResize","passive","interactive","focusTrap","attributes","zIndex","margin","background","maxWidth","maxHeight","willChange","pointerEvents","after","showModal","unobserve","close","floatingTransition","silent","eventParams","toggler","transitionParams","parentNode","promise","run","activeElems","addOutsideHide","callInitShow","hashNavigation","appear","awaitPromise","callback","COLLAPSE","Collapse","dismiss","super","createOrUpdate","updateTriggers","destroyOpts","togglers","otherTogglers","flatMap","replaceWord","word","w","concat","Dropdown","itemClickHide","items","dropdown","_onKeydown","shiftKey","arrowActivated","focusableElems","updateToggler","isControl","textContent","startsWith","lastIndex","currentIndex","findIndex","nextIndex","prevIndex","prevCode","horizontal","nextCode","click","ignoreAutofocus","DOM_ELEMENTS","CLASS_PREVENT_SCROLL","PROPERTY_ROOT_SCROLLBAR_WIDTH","ARIA_SUFFIX","Modal","awaitPrevious","hidePrevious","backdropHide","returnFocus","hideable","confirm","title","description","group","modal","teleportOpts","transitionsOpts","elemName","_togglers","optsBackdrop","backdrop","updateAriaTargets","rightClick","_mousedownTarget","cancelAnimations","suffix","_preventScroll","hasPreventScrollModals","shownModals","isOpen","optReturnFocusAwait","await","backdropIsOpen","shownGroupModals","transitionPromise","returnFocusElem","transitionOpts","some","groupModals","TABLIST","TAB","TABS","TABPANEL","ITEM","ACCORDION","ELEMS","OPTION_TAB_ROLE","OPTION_TABPANEL_ROLE","OPTION_TABPANEL_TABINDEX","OPTION_ARIA_ORIENTRATION","OPTION_STATE_ATTRIBUTE","TABLIST_SECONDARY_METHODS","A11Y_DEFAULTS","Tablist","siblings","alwaysExpanded","multiExpand","keyboard","arrowActivation","rtl","focusFilter","tablist","tabs","lastShownTab","index","tabWithState","tabObj","tab","tabpanel","val","hasSelected","initTabs","_updateTabIndex","deleteInstance","cleanStyles","getTab","initTab","shownTabs","tabpanelId","getElementById","_onTabFocus","_onTabKeydown","currentTarget","tabInstance","clean","source","without","toggleDisabled","disabled","isDisabled","firstActiveTabIndex","isTab","currentTabIndex","indexOf","nodeName","firstIndex","lastActiveTabIndex","_switchTab","activeIndex","findLast","shownTab","Autoaction","progressElem","decimal","durationUpdate","pauseOnMouse","resetOnMouse","pauseOnFocus","resetOnFocus","visibilityControl","cssVariable","toggleInterections","resume","pause","interactedMouse","interactedFocus","checkTime","paused","_prevProgress","current","performance","now","timeCurrent","round","timeBegin","progress","toFixed","autoaction","TOAST","positions","wrappers","_containers","Toast","container","limit","limitAnimateEnter","limitAnimateLeave","preventAnimation","nots","getWrapper","rootWrappers","containerParams","p","addPosition","UI_TOOLTIP","Tooltip","removeTitle","tooltipClass","tooltip","_cache","Popover","popover"],"mappings":"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"}