{"version":3,"file":"jolty.min.js","sources":["../src/helpers/utils/kebabToCamel.js","../src/helpers/utils/upperFirst.js","../src/helpers/constants/index.js","../src/helpers/is/isArray.js","../src/helpers/is/isElement.js","../src/helpers/is/isFunction.js","../src/helpers/is/isHTML.js","../src/helpers/is/isString.js","../src/helpers/is/isIterable.js","../src/helpers/is/isNumber.js","../src/helpers/is/isObject.js","../src/helpers/is/isDialog.js","../src/helpers/utils/strToArray.js","../src/helpers/dom/toggleClass.js","../src/helpers/utils/camelToKebab.js","../src/helpers/dom/addStyle.js","../src/helpers/utils/arrayFrom.js","../src/helpers/dom/is.js","../src/helpers/utils/returnArray.js","../src/helpers/utils/arrayUnique.js","../src/helpers/dom/fragment.js","../src/helpers/dom/getElements.js","../src/helpers/dom/closest.js","../src/helpers/dom/dir.js","../src/helpers/dom/map.js","../src/helpers/dom/filter.js","../src/helpers/dom/each.js","../src/helpers/dom/focus.js","../src/helpers/dom/getElement.js","../src/helpers/dom/inDOM.js","../src/helpers/dom/next.js","../src/helpers/dom/nextAll.js","../src/helpers/dom/parents.js","../src/helpers/dom/removeAttribute.js","../src/helpers/dom/removeClass.js","../src/helpers/dom/setAttribute.js","../src/helpers/utils/without.js","../src/helpers/dom/getBoundingClientRect.js","../src/helpers/dom/getPropertyValue.js","../src/helpers/utils/callOrReturn.js","../src/helpers/utils/checkHash.js","../src/helpers/utils/createElement.js","../src/helpers/dom/addClass.js","../src/helpers/utils/floating/createInset.js","../src/helpers/utils/getDataSelector.js","../src/helpers/utils/getOption.js","../src/helpers/utils/getOptionElem.js","../src/helpers/utils/getOptionElems.js","../src/helpers/utils/floating/getPosition.js","../src/helpers/utils/isOverflowElement.js","../src/helpers/utils/isUnfocusable.js","../src/helpers/utils/mergeDeep.js","../src/helpers/utils/normalizeToggleParameters.js","../src/helpers/utils/observeResize.js","../src/helpers/utils/replaceWord.js","../src/helpers/utils/uuidGenerator.js","../src/helpers/utils/updateOptsByData.js","../src/helpers/utils/getEventsPrefix.js","../src/helpers/utils/getClassActive.js","../src/helpers/utils/getDefaultToggleSelector.js","../src/helpers/utils/floating/ResetFloatingCssVariables.js","../src/helpers/utils/valuesToArray.js","../src/helpers/utils/isShown.js","../src/helpers/utils/getBooleanDataAttrValue.js","../src/helpers/utils/getDatasetValue.js","../src/helpers/utils/awaitPromise.js","../src/helpers/EventHandler.js","../src/helpers/Breakpoints.js","../src/helpers/Base.js","../src/helpers/ToggleMixin.js","../src/helpers/Transition.js","../src/helpers/Teleport.js","../src/helpers/modules/addDismiss.js","../src/helpers/modules/addEscapeHide.js","../src/helpers/modules/callAutofocus.js","../src/helpers/modules/baseDestroy.js","../src/helpers/modules/toggleOnInterection.js","../src/helpers/modules/FocusGuards.js","../src/helpers/Floating.js","../src/helpers/utils/floating/collectCssVariables.js","../src/helpers/modules/toggleHideModeState.js","../src/helpers/modules/floatingTransition.js","../src/helpers/modules/callShowInit.js","../src/helpers/modules/toggleConfirm.js","../src/helpers/modules/addHashNavigation.js","../src/helpers/modules/updateModule.js","../src/helpers/modules/checkFloatings.js","../src/helpers/modules/destroyInstance.js","../src/helpers/modules/togglePreventScroll.js","../src/Collapse.js","../src/Dropdown.js","../src/Dialog.js","../src/Tablist.js","../src/helpers/Autoaction.js","../src/Toast.js","../src/Tooltip.js","../src/Popover.js"],"sourcesContent":["const cache = {};\nexport default (str = \"\") =>\n  cache[str] ||\n  (cache[str] = str.replace(/-./g, (match) => match[1].toUpperCase()));\n","const cache = {};\nexport default (str = \"\") =>\n  cache[str] || (cache[str] = str[0].toUpperCase() + str.slice(1));\n","import kebabToCamel from \"../utils/kebabToCamel\";\nimport upperFirst from \"../utils/upperFirst\";\n\nexport const UI = \"ui\";\nexport const UI_PREFIX = UI + \"-\";\nexport const UI_EVENT_PREFIX = \".\" + UI;\nexport const VAR_UI_PREFIX = \"--\" + UI_PREFIX;\nexport const PRIVATE_PREFIX = \"_\";\nexport const DATA_PREFIX = \"data-\";\nexport const DATA_UI_PREFIX = DATA_PREFIX + UI_PREFIX;\nexport const ACTIVE = \"active\";\nexport const CLASS_ACTIVE = UI_PREFIX + ACTIVE;\n\nexport const DEFAULT = \"default\";\nexport const NAME = \"name\";\nexport const MODE = \"mode\";\n\nexport const PX = \"px\";\nexport const NONE = \"none\";\nexport const ID = \"id\";\n\nexport const WIDTH = \"width\";\nexport const HEIGHT = \"height\";\nexport const TOP = \"top\";\nexport const LEFT = \"left\";\nexport const RIGHT = \"right\";\nexport const BOTTOM = \"bottom\";\nexport const CENTER = \"center\";\nexport const START = \"start\";\nexport const END = \"end\";\nexport const UP = \"up\";\nexport const DOWN = \"down\";\nexport const IN = \"in\";\nexport const OUT = \"out\";\nexport const MOVE = \"move\";\nexport const TITLE = \"title\";\n\nexport const HORIZONTAL = \"horizontal\";\nexport const VERTICAL = \"vertical\";\nexport const ABSOLUTE = \"absolute\";\nexport const FIXED = \"fixed\";\nexport const TRANSITION = \"transition\";\nexport const TELEPORT = \"teleport\";\n\nexport const DIV = \"div\";\nexport const BUTTON = \"button\";\nexport const WINDOW = \"window\";\nexport const DOCUMENT = \"document\";\nexport const CLASS = \"class\";\nexport const STYLE = \"style\";\nexport const KEY = \"key\";\nexport const ROLE = \"role\";\nexport const ROOT = \"root\";\nexport const CONFIRM = \"confirm\";\nexport const CANCEL = \"cancel\";\n\nexport const BEFORE = \"before\";\nexport const AFTER = \"after\";\n\nexport const MOUSE = \"mouse\";\n\nexport const CLICK = \"click\";\nexport const HOVER = \"hover\";\nexport const FOCUS = \"focus\";\nexport const SCROLL = \"scroll\";\n\nexport const HIDE = \"hide\";\nexport const HIDDEN = \"hidden\";\nexport const SHOW = \"show\";\nexport const SHOWN = \"shown\";\nexport const APPEAR = \"appear\";\n\nexport const TARGET = \"target\";\nexport const AVAILABLE = \"awailable\";\nexport const AVAILABLE_WIDTH = AVAILABLE + \"-\" + WIDTH;\nexport const AVAILABLE_HEIGHT = AVAILABLE + \"-\" + HEIGHT;\nexport const ANCHOR = \"anchor\";\nexport const ANCHOR_WIDTH = ANCHOR + \"-\" + WIDTH;\nexport const ANCHOR_HEIGHT = ANCHOR + \"-\" + HEIGHT;\n\nexport const MODAL = \"modal\";\nexport const CONTENT = \"content\";\nexport const ITEM = \"item\";\nexport const BACKDROP = \"backdrop\";\nexport const POPOVER = \"popover\";\nexport const TOOLTIP = \"tooltip\";\nexport const TOGGLER = \"toggler\";\nexport const TRIGGER = \"trigger\";\nexport const DELAY = \"delay\";\nexport const DROPDOWN = \"dropdown\";\nexport const ARROW = \"arrow\";\nexport const PROGRESS = \"progress\";\nexport const DISMISS = \"dismiss\";\nexport const FLOATING = \"floating\";\nexport const DIALOG = \"dialog\";\n\nexport const FLIP = \"flip\";\nexport const SHRINK = \"shrink\";\nexport const STICKY = \"sticky\";\nexport const PLACEMENT = \"placement\";\nexport const PADDING = \"padding\";\nexport const OFFSET = \"offset\";\nexport const BOUNDARY_OFFSET = \"boundary-\" + OFFSET;\nexport const WEBKIT_PREFIX = \"-webkit-\";\nexport const CLIP_PATH = \"clip-path\";\nexport const ARROW_OFFSET = ARROW + \"-\" + OFFSET;\nexport const ARROW_PADDING = ARROW + \"-\" + PADDING;\nexport const ARROW_WIDTH = ARROW + \"-\" + WIDTH;\nexport const ARROW_HEIGHT = ARROW + \"-\" + HEIGHT;\nexport const TRUE = \"true\";\nexport const FALSE = \"false\";\n\nexport const doc = document;\nexport const body = doc.body;\nexport const ROOT_ELEM = doc.documentElement;\nexport const BODY = \"body\";\n\nexport const ENTER = \"enter\";\nexport const LEAVE = \"leave\";\nexport const BEFORE_ENTER = BEFORE + upperFirst(ENTER);\nexport const ENTER_ACTIVE = ENTER + upperFirst(ACTIVE);\nexport const ENTER_FROM = ENTER + \"From\";\nexport const ENTER_TO = ENTER + \"To\";\nexport const AFTER_ENTER = AFTER + upperFirst(ENTER);\nexport const BEFORE_LEAVE = BEFORE + upperFirst(LEAVE);\nexport const LEAVE_ACTIVE = LEAVE + upperFirst(ACTIVE);\nexport const LEAVE_FROM = LEAVE + \"From\";\nexport const LEAVE_TO = LEAVE + \"To\";\nexport const AFTER_LEAVE = AFTER + upperFirst(LEAVE);\nexport const HIDE_MODE = HIDE + upperFirst(MODE);\nexport const DURATION = \"duration\";\nexport const DURATION_ENTER = DURATION + upperFirst(ENTER);\nexport const DURATION_LEAVE = DURATION + upperFirst(LEAVE);\n\nexport const ACTION_INIT = \"init\";\nexport const ACTION_DESTROY = \"destroy\";\nexport const ACTION_TOGGLE = \"toggle\";\nexport const ACTION_SHOW = SHOW;\nexport const ACTION_HIDE = HIDE;\nexport const ACTION_ADD = \"add\";\nexport const ACTION_REMOVE = \"remove\";\nexport const ACTION_UPDATE = \"update\";\nexport const ACTION_PAUSE = \"pause\";\nexport const ACTION_RESUME = \"resume\";\nexport const ACTION_RESET = \"reset\";\nexport const ACTION_ON = \"on\";\nexport const ACTION_OFF = \"off\";\nexport const ACTION_EMIT = \"emit\";\nexport const ACTION_ONCE = \"once\";\nexport const ACTION_PREVENT = \"prevent\";\n\nexport const INERT = \"inert\";\nexport const AUTOFOCUS = \"autofocus\";\nexport const TABINDEX = \"tabindex\";\nexport const DISABLED = \"disabled\";\nexport const AUTO = \"auto\";\nexport const POPOVER_DATA_ATTRIBUTE = DATA_UI_PREFIX + POPOVER + \"-wrapper\";\nexport const FLOATING_DATA_ATTRIBUTE = DATA_UI_PREFIX + FLOATING;\nexport const DATA_PREVENT_INERT = DATA_UI_PREFIX + ACTION_PREVENT + \"-\" + INERT;\nexport const POPOVER_API_MODE_MANUAL = \"manual\";\n\nexport const PLACEHOLDER = \"placeholder\";\n\nexport const EVENT_INIT = ACTION_INIT;\nexport const EVENT_BEFORE_INIT = BEFORE + \"Init\";\nexport const EVENT_DESTROY = ACTION_DESTROY;\nexport const EVENT_BEFORE_DESTROY = BEFORE + \"Destroy\";\nexport const EVENT_BEFORE_SHOW = BEFORE + \"Show\";\nexport const EVENT_SHOW = SHOW;\nexport const EVENT_SHOWN = SHOWN;\nexport const EVENT_BEFORE_HIDE = BEFORE + \"Hide\";\nexport const EVENT_HIDE = HIDE;\nexport const EVENT_HIDDEN = HIDDEN;\nexport const EVENT_PAUSE = ACTION_PAUSE;\nexport const EVENT_RESUME = ACTION_RESUME;\nexport const EVENT_RESET = ACTION_RESET;\nexport const EVENT_MOUSEENTER = MOUSE + ENTER;\nexport const EVENT_MOUSELEAVE = MOUSE + LEAVE;\nexport const EVENT_MOUSEMOVE = MOUSE + MOVE;\nexport const EVENT_MOUSEDOWN = MOUSE + DOWN;\nexport const EVENT_MOUSEUP = MOUSE + UP;\nexport const EVENT_CHANGE = \"change\";\nexport const EVENT_BREAKPOINT = \"breakpoint\";\nexport const EVENT_CLOSE = \"close\";\nexport const EVENT_CLICK = CLICK;\nexport const EVENT_KEYDOWN = KEY + DOWN;\nexport const EVENT_KEYUP = KEY + UP;\nexport const EVENT_FOCUS = FOCUS;\nexport const EVENT_FOCUSIN = FOCUS + IN;\nexport const EVENT_FOCUSOUT = FOCUS + OUT;\nexport const EVENT_RIGHT_CLICK = \"contextmenu\";\nexport const EVENT_VISIBILITY_CHANGE = \"visibilitychange\";\nexport const EVENT_HIDE_PREVENTED = \"hidePrevented\";\nexport const EVENT_ACTION_OUTSIDE = `${EVENT_CLICK}.outside ${EVENT_KEYUP}.outside`;\nexport const EVENT_SCROLL = SCROLL;\nexport const EVENT_RESIZE = \"resize\";\nexport const EVENT_DISABLED = DISABLED;\nexport const EVENT_ENABLED = \"enabled\";\nexport const EVENT_BEFORE_MATCH = BEFORE + \"match\";\n\nexport const UNTIL_FOUND = \"until-found\";\nexport const MODE_HIDDEN_UNTIL_FOUND = HIDDEN + \"-\" + UNTIL_FOUND;\n\nexport const ARIA = \"aria\";\nexport const ARIA_CONTROLS = ARIA + \"-controls\";\nexport const ARIA_EXPANDED = ARIA + \"-expanded\";\nexport const ARIA_SELECTED = ARIA + \"-selected\";\nexport const ARIA_HIDDEN = ARIA + \"-\" + HIDDEN;\nexport const ARIA_MULTISELECTABLE = ARIA + \"-multiselectable\";\nexport const ARIA_LABELLEDBY = ARIA + \"-labelledby\";\nexport const ARIA_DESCRIBEDBY = ARIA + \"-describedby\";\nexport const ARIA_ORIENTATION = ARIA + \"-orientation\";\nexport const ARIA_MODAL = ARIA + \"-\" + MODAL;\nexport const ARIA_LIVE = ARIA + \"-live\";\nexport const ARIA_ATOMIC = ARIA + \"-atomic\";\n\nexport const KEY_ENTER = 13;\nexport const KEY_ESC = 27;\nexport const KEY_SPACE = 32;\nexport const KEY_END = 35;\nexport const KEY_HOME = 36;\nexport const KEY_TAB = 9;\nexport const KEY_ARROW_LEFT = 37;\nexport const KEY_ARROW_UP = 38;\nexport const KEY_ARROW_RIGHT = 39;\nexport const KEY_ARROW_DOWN = 40;\n\nexport const A11Y = \"a11y\";\nexport const OPTION_GROUP = \"group\";\n\nexport const OPTION_PREVENT_SCROLL = \"preventScroll\";\nexport const OPTION_HASH_NAVIGATION = \"hashNavigation\";\nexport const POSITION = \"position\";\nexport const OPTION_ARIA_LABELLEDBY = kebabToCamel(ARIA_LABELLEDBY);\nexport const OPTION_ARIA_DESCRIBEDBY = kebabToCamel(ARIA_DESCRIBEDBY);\nexport const OPTION_ARIA_EXPANDED = kebabToCamel(ARIA_EXPANDED);\nexport const OPTION_ARIA_SELECTED = kebabToCamel(ARIA_SELECTED);\nexport const OPTION_ARIA_CONTROLS = kebabToCamel(ARIA_CONTROLS);\nexport const OPTION_ARIA_HIDDEN = kebabToCamel(ARIA_HIDDEN);\nexport const OPTION_ARIA_LIVE = kebabToCamel(ARIA_LIVE);\nexport const OPTION_ARIA_ATOMIC = kebabToCamel(ARIA_ATOMIC);\nexport const OPTION_TOP_LAYER = \"topLayer\";\nexport const OPTION_MOVE_TO_ROOT = \"moveToRoot\";\n\nexport const OPTION_FLOATING_CLASS = FLOATING + \"Class\";\nexport const OPTION_AUTODESTROY = AUTO + ACTION_DESTROY;\nexport const CLASS_ACTIVE_SUFFIX = \"ClassActive\";\nexport const ROLE_SUFFIX = upperFirst(ROLE);\n\nexport const STATUS = \"status\";\nexport const ALERT = \"alert\";\nexport const REGION = \"region\";\n\nexport const HIDDEN_CLASS = UI_PREFIX + HIDDEN;\nexport const SHOWN_CLASS = UI_PREFIX + SHOWN;\nexport const CLASS_SHOWN_MODE = CLASS + \"-\" + SHOWN;\nexport const CLASS_HIDDEN_MODE = CLASS + \"-\" + HIDDEN;\nexport const TRANSITION_REMOVE_MODE = { [HIDE_MODE]: ACTION_REMOVE };\nexport const DEFAULT_OPTIONS = {\n  init: true,\n  destroy: false,\n  data: \"\",\n  on: null,\n  appear: null,\n  eventDispatch: true,\n  eventBubble: true,\n  shown: null,\n  a11y: true,\n  hideMode: HIDDEN,\n  keepPlace: true,\n  transition: true,\n  awaitAnimation: false,\n};\n\nexport const DEFAULT_FLOATING_OPTIONS = {\n  awaitAnimation: false,\n  placement: BOTTOM,\n  offset: 0,\n  padding: 0,\n  delay: 150,\n  boundaryOffset: 0,\n  shrink: false,\n  flip: true,\n  sticky: true,\n  escapeHide: true,\n  outsideHide: true,\n  focusTrap: false,\n  topLayer: true,\n  root: BODY,\n  moveToRoot: false,\n  mode: false,\n  [OPTION_FLOATING_CLASS]: \"\",\n  shown: false,\n  arrow: null,\n};\n\nexport const SELECTOR_AUTOFOCUS = `[${AUTOFOCUS}]`;\nexport const SELECTOR_DISABLED = `[${DISABLED}]`;\nexport const SELECTOR_INERT = `[${INERT}]`;\n\nexport const SELECTOR_ROOT = \":\" + ROOT;\n\nexport const MIRROR = {\n  [TOP]: BOTTOM,\n  [BOTTOM]: TOP,\n  [LEFT]: RIGHT,\n  [RIGHT]: LEFT,\n  [START]: END,\n  [END]: START,\n  [WIDTH]: HEIGHT,\n  [HEIGHT]: WIDTH,\n  x: \"y\",\n  y: \"x\",\n};\n\nexport const CLIP_PATH_PROPERTY = CSS.supports(CLIP_PATH + \":\" + NONE)\n  ? CLIP_PATH\n  : WEBKIT_PREFIX + CLIP_PATH;\n\nexport const POPOVER_API_SUPPORTED =\n  HTMLElement.prototype.hasOwnProperty(POPOVER);\n\nexport const FOCUSABLE_ELEMENTS_SELECTOR = `:is(:is(a,area)[href],:is(select,textarea,button,input:not([type=\"hidden\"])):not(disabled),details:not(:has(>summary)),iframe,:is(audio,video)[controls],[contenteditable],[tabindex]):not([inert],[inert] *,[tabindex^=\"-\"],[${DATA_UI_PREFIX}focus-guard])`;\n\nexport const PRIVATE_OPTION_CANCEL_ON_HIDE = PRIVATE_PREFIX + \"cancelOnHide\";\n","export default Array.isArray;\n","export default (value) => value && !!value.getElementsByClassName;\n","export default (value) => typeof value === \"function\";\n","export default RegExp.prototype.test.bind(/(<([^>]+)>)/i);\n","export default (value) => typeof value === \"string\";\n","import isString from \"./isString.js\";\n\nexport default (value) => value && !!value[Symbol.iterator] && !isString(value);\n","export default (value) => typeof value === \"number\";\n","export default (value) => value && value.constructor === Object;\n","export default (elem) => elem?.tagName === \"DIALOG\";\n","import { isArray } from \"../is\";\nexport default (str = \"\", separator = \" \") =>\n  str ? (isArray(str) ? str : str.split(separator)).filter(Boolean) : [];\n","import { ACTION_ADD, ACTION_REMOVE } from \"../constants\";\nimport isArray from \"../is/isArray.js\";\nimport isElement from \"../is/isElement.js\";\nimport isIterable from \"../is/isIterable.js\";\nimport strToArray from \"../utils/strToArray.js\";\n\nexport default function toggleClass(elem, classes, s) {\n  if (isArray(classes)) {\n    classes = classes.filter(Boolean).join(\" \");\n  }\n  const cls = strToArray(classes);\n  if (isElement(elem)) {\n    s ??= !elem.classList.contains(cls[0]);\n    elem.classList[s ? ACTION_ADD : ACTION_REMOVE](...cls);\n  } else if (isIterable(elem)) {\n    elem.forEach((el) => toggleClass(el, cls, s));\n  }\n}\n","const cache = {};\nexport default (str = \"\") =>\n  cache[str] ||\n  (cache[str] = str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase());\n","import isIterable from \"../is/isIterable.js\";\nimport isObject from \"../is/isObject.js\";\nimport camelToKebab from \"../utils/camelToKebab.js\";\n\nexport default function addStyle(elem, name, value) {\n  if (isIterable(elem)) {\n    elem.forEach((elem) => addStyle(elem, name, value));\n  } else {\n    if (isObject(name)) {\n      for (const key in name) addStyle(elem, key, name[key]);\n    } else {\n      elem.style.setProperty(camelToKebab(name), value);\n    }\n  }\n}\n","export default Array.from;\n","import isString from \"../is/isString.js\";\nimport isIterable from \"../is/isIterable.js\";\nimport isFunction from \"../is/isFunction.js\";\nimport arrayFrom from \"../utils/arrayFrom.js\";\n\nexport default (elem, selector) =>\n  elem === selector\n    ? true\n    : isString(selector)\n    ? elem.matches(selector)\n    : isIterable(selector)\n    ? arrayFrom(selector).includes(elem)\n    : isFunction(selector) && selector(elem);\n","import arrayFrom from \"./arrayFrom\";\nimport { isIterable } from \"../is\";\nexport default (elem) =>\n  elem !== undefined ? (isIterable(elem) ? arrayFrom(elem) : [elem]) : [];\n","import arrayFrom from \"./arrayFrom\";\nexport default (array) =>\n  array.length > 1 ? arrayFrom(new Set(array)) : array;\n","import isString from \"../is/isString.js\";\nimport arrayFrom from \"../utils/arrayFrom.js\";\n\nexport default (html, findSelectors) => {\n  let children = html;\n  if (isString(html)) {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, \"text/html\");\n    if (findSelectors) {\n      return arrayFrom(doc.querySelectorAll(findSelectors));\n    }\n    children = doc.body.children;\n  }\n  return children\n    ? children.length > 1\n      ? arrayFrom(children)\n      : children[0]\n    : \"\";\n};\n","import { doc, DOCUMENT, WINDOW } from \"../constants/index.js\";\nimport isElement from \"../is/isElement.js\";\nimport isString from \"../is/isString.js\";\nimport isHTML from \"../is/isHTML.js\";\nimport isIterable from \"../is/isIterable.js\";\nimport is from \"./is.js\";\nimport arrayFrom from \"../utils/arrayFrom.js\";\nimport returnArray from \"../utils/returnArray.js\";\nimport arrayUnique from \"../utils/arrayUnique.js\";\nimport fragment from \"./fragment.js\";\n\nexport default function getElements(selector, context = doc, findSelf = false) {\n  if (isElement(selector)) {\n    return [selector];\n  }\n  let result = selector;\n  if (isString(context)) {\n    context = doc.querySelector(context);\n  }\n  if (!isElement(context) || !selector) return [];\n  if (isString(selector)) {\n    selector = selector.trim();\n    if (selector === DOCUMENT) {\n      result = doc;\n    } else if (selector === WINDOW) {\n      result = window;\n    } else if (isHTML(selector)) {\n      result = fragment(selector);\n    } else {\n      result = context.querySelectorAll(selector);\n    }\n  } else if (isIterable(selector)) {\n    result = arrayFrom(selector, (item) => getElements(item, context)).flat();\n  }\n\n  result = returnArray(result);\n\n  if (findSelf && is(context, selector)) {\n    result.unshift(context);\n  }\n  return arrayUnique(result).filter(Boolean);\n}\n","import getElements from \"./getElements.js\";\n\nexport default (elem, selectors) =>\n  getElements(selectors).find((t) => t === elem || t.contains(elem));\n","import isFunction from \"../is/isFunction.js\";\nimport is from \"./is.js\";\nimport map from \"./map.js\";\nimport filter from \"./filter.js\";\n\nexport default (elem, property, selector, until) => {\n  const utilIsFn = isFunction(until);\n  return map(elem, (el) => {\n    const elems = [];\n    while (el) {\n      el = el[property];\n      if (el) {\n        if (until && (utilIsFn ? until(el) : is(el, until))) break;\n        elems.push(el);\n      }\n    }\n    return filter(elems, selector);\n  }).flat();\n};\n","import getElements from \"./getElements.js\";\n\nexport default (elems, fn) => getElements(elems).map(fn);\n","import isFunction from \"../is/isFunction.js\";\nimport is from \"./is.js\";\nimport arrayFrom from \"../utils/arrayFrom.js\";\n\nexport default (elems, selector) => {\n  const isFn = isFunction(selector);\n  elems = arrayFrom(elems);\n  return selector\n    ? elems.filter((elem, i, list) =>\n        isFn ? selector(elem, i, list) : is(elem, selector),\n      )\n    : elems;\n};\n","import getElements from \"./getElements.js\";\n\nexport default (elems, fn) => {\n  elems = getElements(elems);\n  elems.forEach(fn);\n  return elems;\n};\n","export default (elem, opts = { preventScroll: true }) =>\n  elem && elem.focus(opts);\n","import getElements from \"./getElements.js\";\n\nexport default (selector, context, findSelf) =>\n  getElements(selector, context, findSelf)[0];\n","import { body } from \"../constants\";\nexport default (elem) => elem && body.contains(elem);\n","import nextAll from \"./nextAll.js\";\n\nexport default (elem, selector) => nextAll(elem, selector)[0];\n","import dir from \"./dir.js\";\n\nexport default (elem, selector, until) =>\n  dir(elem, \"nextElementSibling\", selector, until);\n","import dir from \"./dir.js\";\n\nexport default (elem, selector, until) =>\n  dir(elem, \"parentElement\", selector, until);\n","import isArray from \"../is/isArray.js\";\n\nexport default (elem, ...names) => {\n  if (isArray(elem)) {\n    elem.forEach((elem) =>\n      names.forEach((name) => elem && elem.removeAttribute(name)),\n    );\n  } else {\n    names.forEach((name) => elem && elem.removeAttribute(name));\n  }\n};\n","import toggleClass from \"./toggleClass.js\";\n\nexport default (elem, classes) => toggleClass(elem, classes, false);\n","import isArray from \"../is/isArray.js\";\nimport isFunction from \"../is/isFunction.js\";\n\nexport default function setAttribute(elem, name, value) {\n  if (!elem) return;\n  if (isArray(elem)) {\n    return elem.forEach((elem) => setAttribute(elem, name, value));\n  }\n  if (isFunction(value)) {\n    value = value(elem.getAttribute(name));\n  }\n  if (value === null) {\n    elem.removeAttribute(name);\n  } else if (value !== undefined) {\n    elem.setAttribute(name, value);\n  }\n}\n","import returnArray from \"./returnArray\";\nexport default (source, ...values) =>\n  returnArray(source).filter((elem) => !values.includes(elem));\n","export default (elem) => elem.getBoundingClientRect().toJSON();\n","export default (style, name) => style.getPropertyValue(name).trim();\n","import { isFunction } from \"../is\";\nexport default (value, ...data) => (isFunction(value) ? value(...data) : value);\n","export default (id) => location.hash.substring(1) === id;\n","import { isString } from \"../is\";\nimport { addClass, addStyle, setAttribute } from \"../dom\";\nimport { CLASS, STYLE, DIV, doc } from \"../constants\";\nimport camelToKebab from \"./camelToKebab\";\nexport default (type = DIV, props, ...content) => {\n  const elem = doc.createElement(type);\n  if (props) {\n    if (isString(props)) {\n      props = { class: props };\n    }\n    Object.entries(props).forEach(([name, value]) => {\n      if (name === CLASS) {\n        addClass(elem, value);\n      } else if (name === STYLE) {\n        if (isString(value)) {\n          elem.style = value;\n        } else {\n          addStyle(elem, value);\n        }\n      } else {\n        setAttribute(elem, camelToKebab(name), value);\n      }\n    });\n  }\n  content.forEach((item) => item && elem.append(item));\n  return elem;\n};\n","import toggleClass from \"./toggleClass.js\";\n\nexport default (elem, classes) => toggleClass(elem, classes, true);\n","import { isArray, isObject, isNumber } from \"../../is/index.js\";\nexport default (input, returnArray) => {\n  let top = 0,\n    right = 0,\n    bottom = 0,\n    left = 0;\n  if (isNumber(input)) {\n    top = right = bottom = left = input;\n  } else if (isArray(input)) {\n    if (input.length === 1) {\n      top = right = bottom = left = input[0];\n    } else if (input.length === 2) {\n      top = bottom = input[0];\n      right = left = input[1];\n    } else if (input.length === 3) {\n      top = input[0];\n      right = left = input[1];\n      bottom = input[2];\n    } else {\n      top = input[0];\n      right = input[1];\n      bottom = input[2];\n      left = input[3];\n    }\n  } else if (isObject(input)) {\n    top = input.top || 0;\n    right = input.right || 0;\n    bottom = input.bottom || 0;\n    left = input.left || 0;\n  }\n  if (returnArray) {\n    return [top, right, bottom, left];\n  } else {\n    return { top, right, bottom, left };\n  }\n};\n","import { DATA_UI_PREFIX } from \"../constants\";\nexport default (...values) => `[${DATA_UI_PREFIX + values.join(\"-\")}]`;\n","import { doc } from \"../constants\";\nimport isString from \"../is/isString.js\";\nimport returnArray from \"./returnArray.js\";\nimport callOrReturn from \"./callOrReturn.js\";\n\nexport default function (multiply, instance, option, root = doc, ...params) {\n  if (!option) return;\n  option = callOrReturn(option, instance, ...params);\n  if (isString(option)) {\n    option = root[multiply ? \"querySelectorAll\" : \"querySelector\"](option);\n  }\n  return multiply ? returnArray(option).filter(Boolean) : option;\n}\n","import getOption from \"./getOption.js\";\nexport default (...params) => getOption(false, ...params);\n","import getOption from \"./getOption.js\";\nexport default (...params) => getOption(true, ...params);\n","import {\n  WIDTH,\n  HEIGHT,\n  TOP,\n  LEFT,\n  RIGHT,\n  BOTTOM,\n  AVAILABLE_WIDTH,\n  AVAILABLE_HEIGHT,\n  START,\n  CENTER,\n  END,\n  MIRROR,\n} from \"../../constants/index.js\";\nimport isArray from \"../../is/isArray.js\";\nimport createInset from \"./createInset.js\";\n\nconst { min, max } = Math;\n\nexport default function ({\n  anchorRect,\n  targetRect,\n  arrow,\n  placement,\n  inTopLayer,\n  boundaryOffset = 0,\n  offset = 0,\n  padding = 0,\n  shrink = false,\n  flip = false,\n  sticky = false,\n  minWidth = 0,\n  minHeight = 0,\n}) {\n  boundaryOffset = createInset(boundaryOffset);\n\n  flip = isArray(flip) ? flip : [flip];\n  flip[1] ??= flip[0];\n\n  padding = isArray(padding) ? padding : [padding];\n  padding[1] ??= padding[0];\n\n  if (!inTopLayer) {\n    shrink = false;\n    flip = false;\n    sticky = false;\n  }\n\n  const [baseM, baseS = CENTER] = placement.split(\"-\");\n  const hor = baseM === LEFT || baseM === RIGHT;\n\n  const size = hor ? WIDTH : HEIGHT;\n  const dir = hor ? LEFT : TOP;\n  const dirS = hor ? TOP : LEFT;\n\n  const minRect = { [WIDTH]: minWidth, [HEIGHT]: minHeight };\n\n  let useFlipM = null;\n  let useFlipS = null;\n\n  const viewRect = visualViewport;\n\n  const hasScale =\n    viewRect.scale !== 1 && Math.abs(window.innerWidth - viewRect.width) > 2;\n\n  function calculate() {\n    const m = (useFlipM && MIRROR[baseM]) || baseM;\n    const s = (useFlipS && MIRROR[baseS]) || baseS;\n\n    const isStart = s === START;\n    const isEnd = s === END;\n    const isCenter = s === CENTER;\n    const isMainDir = m === dir;\n    const sumPadding = padding[0] + padding[1];\n    const mirrorSize = MIRROR[size];\n    const mirrorDirS = MIRROR[dirS];\n\n    const anchorSpace = {\n      [TOP]: anchorRect[TOP],\n      [LEFT]: anchorRect[LEFT],\n      [RIGHT]: viewRect[WIDTH] - anchorRect[LEFT] - anchorRect[WIDTH],\n      [BOTTOM]: viewRect[HEIGHT] - anchorRect[TOP] - anchorRect[HEIGHT],\n    };\n\n    if (hasScale) {\n      anchorSpace[TOP] -= viewRect.offsetTop;\n      anchorSpace[LEFT] -= viewRect.offsetLeft;\n      anchorSpace[RIGHT] += viewRect.offsetLeft;\n      anchorSpace[BOTTOM] += viewRect.offsetTop;\n    }\n\n    const pageOffset = hasScale\n      ? hor\n        ? viewRect.offsetTop\n        : viewRect.offsetLeft\n      : 0;\n\n    anchorSpace[m] -= offset + boundaryOffset[m];\n    anchorSpace[MIRROR[m]] -= boundaryOffset[dirS] + boundaryOffset[mirrorDirS];\n\n    let awailableSizesOffset;\n    if (sticky) {\n      awailableSizesOffset = viewRect[mirrorSize] - sumPadding;\n    } else {\n      awailableSizesOffset = viewRect[mirrorSize] - anchorRect[mirrorSize] / 2;\n      if (isStart) {\n        awailableSizesOffset =\n          anchorSpace[mirrorDirS] + anchorRect[mirrorSize] - sumPadding;\n      } else if (isEnd) {\n        awailableSizesOffset =\n          anchorSpace[dirS] + anchorRect[mirrorSize] - sumPadding;\n      }\n    }\n\n    const awailableSizes = {\n      [size]: max(minRect[size], anchorSpace[m]),\n      [mirrorSize]: max(minRect[mirrorSize], awailableSizesOffset),\n    };\n\n    const currentSize = {\n      [size]: shrink\n        ? min(targetRect[size], awailableSizes[size])\n        : targetRect[size],\n      [mirrorSize]: shrink\n        ? min(targetRect[mirrorSize], awailableSizes[mirrorSize])\n        : targetRect[mirrorSize],\n    };\n\n    if ((flip[0] || flip[1]) && useFlipM === null && useFlipS === null) {\n      if (\n        flip[0] &&\n        targetRect[size] > anchorSpace[m] &&\n        anchorSpace[m] < anchorSpace[MIRROR[m]]\n      ) {\n        useFlipM = true;\n      }\n      if (\n        flip[1] &&\n        anchorSpace[mirrorDirS] <\n          targetRect[mirrorSize] -\n            anchorRect[mirrorSize] +\n            padding[0] +\n            boundaryOffset[mirrorDirS]\n      ) {\n        useFlipS = true;\n      }\n      if (useFlipM || useFlipS) {\n        return calculate();\n      }\n    }\n\n    let mo;\n    if (isMainDir) {\n      mo = anchorRect[dir] - currentSize[size] - offset;\n    } else {\n      mo = anchorRect[MIRROR[dir]] + offset;\n    }\n\n    let so;\n    if (isStart) {\n      so = anchorRect[dirS] + padding[0];\n    } else if (isCenter) {\n      so =\n        anchorRect[dirS] -\n        (currentSize[mirrorSize] - anchorRect[mirrorSize]) / 2;\n    } else {\n      so = anchorRect[mirrorDirS] - currentSize[mirrorSize] - padding[1];\n    }\n\n    const staticSo = so;\n\n    if (sticky) {\n      if (so < boundaryOffset[dirS] + pageOffset) {\n        if (!isStart) {\n          so = boundaryOffset[dirS] + pageOffset;\n          if (\n            anchorRect[dirS] - pageOffset <\n            boundaryOffset[dirS] - padding[0]\n          ) {\n            so = anchorRect[dirS] + padding[0];\n          }\n        }\n      } else if (\n        so + currentSize[mirrorSize] + boundaryOffset[mirrorDirS] >\n        viewRect[mirrorSize] + pageOffset\n      ) {\n        if (!isEnd) {\n          so -=\n            so +\n            currentSize[mirrorSize] -\n            viewRect[mirrorSize] -\n            pageOffset +\n            boundaryOffset[mirrorDirS];\n          if (\n            anchorSpace[mirrorDirS] <\n            -padding[1] + boundaryOffset[mirrorDirS]\n          ) {\n            so -=\n              anchorSpace[mirrorDirS] + padding[1] - boundaryOffset[mirrorDirS];\n          }\n        }\n      }\n    }\n\n    const shift = staticSo - so;\n\n    let arrowPosition = {};\n    if (arrow) {\n      // eslint-disable-next-line prefer-const\n      let { padding = 0, offset = 0 } = arrow;\n      padding = isArray(padding) ? padding : [padding];\n      padding[1] ??= padding[0];\n\n      let so;\n      if (isStart) {\n        so = padding[0];\n      } else if (isCenter) {\n        so = currentSize[mirrorSize] / 2 - arrow[mirrorSize] / 2;\n      } else {\n        so = currentSize[mirrorSize] - padding[1] - arrow[mirrorSize];\n      }\n\n      so += shift + max(0, -currentSize[mirrorSize] / 2);\n\n      let mo = -arrow[mirrorSize] / 2 + (isMainDir ? -offset : offset);\n      if (isMainDir) {\n        mo += currentSize[size];\n      }\n      arrowPosition = hor ? [mo, so] : [so, mo];\n    }\n\n    let transformOrigin;\n    if (arrow) {\n      transformOrigin = arrowPosition;\n    } else {\n      const mo = isStart\n        ? padding[0]\n        : isEnd\n        ? currentSize[mirrorSize] - padding[1]\n        : currentSize[MIRROR[size]] / 2;\n      const so = isMainDir ? currentSize[size] : 0;\n      transformOrigin = hor ? [so, mo] : [mo, so];\n    }\n\n    return {\n      [dir]: mo,\n      [dirS]: so,\n      [AVAILABLE_WIDTH]: awailableSizes[WIDTH],\n      [AVAILABLE_HEIGHT]: awailableSizes[HEIGHT],\n      arrow: arrowPosition,\n      placement: useFlipM ? MIRROR[placement] : placement,\n      transformOrigin,\n    };\n  }\n  return calculate();\n}\n","export default (elem) => {\n  const { overflow, overflowX, overflowY, display } = getComputedStyle(elem);\n  return (\n    !/inline|contents/.test(display) &&\n    /auto|hidden|scroll|overlay|clip/.test(overflow + overflowY + overflowX)\n  );\n};\n","import { SELECTOR_DISABLED, SELECTOR_INERT } from \"../constants\";\nconst UNFOCUSABLE_SELECTORS = `${SELECTOR_DISABLED},${SELECTOR_INERT}`;\nexport default (elem) => elem.matches(UNFOCUSABLE_SELECTORS);\n","import { isArray, isObject } from \"../is\";\nexport default function mergeDeep(...objects) {\n  const result = {};\n  for (const object of objects.filter(Boolean)) {\n    for (const [key, value] of Object.entries(object)) {\n      if (isObject(result[key])) {\n        result[key] = isObject(value) ? mergeDeep(result[key], value) : value;\n      } else if (isArray(result[key])) {\n        result[key] = isArray(value) ? [...result[key], ...value] : value;\n      } else if (value !== undefined) {\n        result[key] = value;\n      }\n    }\n  }\n  return result;\n}\n","import { isObject } from \"../is\";\nexport default (animated = true) =>\n  isObject(animated) ? { animated: true, ...animated } : { animated };\n","const resizeObserver = new ResizeObserver((entries) => {\n  for (const { borderBoxSize, target } of entries) {\n    const { blockSize, inlineSize } = borderBoxSize[0];\n    target.__resizeCallback__(inlineSize, blockSize);\n  }\n});\nfunction observeResize(target, fn) {\n  target.__resizeCallback__ = fn;\n  resizeObserver.observe(target, { box: \"border-box\" });\n}\nexport { resizeObserver, observeResize };\n","export default (str, word) =>\n  str\n    .split(\" \")\n    .filter((w) => w !== word)\n    .join(\" \");\n","import { UI_PREFIX } from \"../constants/index.js\";\n\nexport default (prefix = UI_PREFIX) =>\n  prefix + Math.random().toString(36).substring(2, 12);\n","import { UI, TRUE, FALSE } from \"../constants\";\nimport upperFirst from \"./upperFirst.js\";\nimport isArray from \"../is/isArray.js\";\n\nexport default (opts, { dataset }, names, booleanOptions) => {\n  names.forEach((name) => {\n    let optionName = name;\n    let attributeName = name;\n    if (isArray(name)) {\n      optionName = name[0];\n      attributeName = name[1];\n    }\n    let value = dataset[UI + upperFirst(attributeName)];\n    const hasAttribute = value !== undefined;\n    if (hasAttribute) {\n      if (booleanOptions?.includes(optionName)) {\n        value =\n          value === \"\" || value === TRUE\n            ? true\n            : value === FALSE\n            ? false\n            : undefined;\n      } else if (value && value[0] === \"{\") {\n        value = JSON.parse(value);\n      }\n\n      if (value !== undefined) {\n        opts[optionName] = value;\n      }\n    }\n  });\n  return opts;\n};\n","import { UI_PREFIX } from \"../constants\";\nexport default (name) => UI_PREFIX + name + \":\";\n","import { UI_PREFIX, ACTIVE } from \"../constants\";\nexport default (name) => UI_PREFIX + (name ? name + \"-\" : \"\") + ACTIVE;\n","import { DATA_UI_PREFIX, ACTION_TOGGLE } from \"../constants\";\nexport default (id, multiply) =>\n  `[${DATA_UI_PREFIX + ACTION_TOGGLE}${\n    multiply ? \"~\" : \"\"\n  }=\"${id}\"],[href=\"#${id}\"]`;\n","import {\n  ARROW_HEIGHT,\n  ARROW_OFFSET,\n  ARROW_PADDING,\n  ARROW_WIDTH,\n  BOUNDARY_OFFSET,\n  doc,\n  DROPDOWN,\n  FLIP,\n  OFFSET,\n  PADDING,\n  PLACEMENT,\n  POPOVER,\n  SHRINK,\n  STICKY,\n  STYLE,\n  TOOLTIP,\n  VAR_UI_PREFIX,\n} from \"../../constants/index.js\";\nimport createElement from \"../createElement.js\";\n\nconst registerProperty = CSS.registerProperty;\n\nexport default () => {\n  let css = \"\";\n  [TOOLTIP, DROPDOWN, POPOVER].forEach((name) => {\n    const PREFIX = VAR_UI_PREFIX + name + \"-\";\n    [\n      STICKY,\n      FLIP,\n      SHRINK,\n      PLACEMENT,\n      PADDING,\n      OFFSET,\n      BOUNDARY_OFFSET,\n      ARROW_OFFSET,\n      ARROW_PADDING,\n      ARROW_WIDTH,\n      ARROW_HEIGHT,\n    ].forEach((prop) => {\n      if (registerProperty) {\n        registerProperty({\n          name: PREFIX + prop,\n          syntax: \"*\",\n          inherits: false,\n        });\n      } else {\n        css += PREFIX + prop + \":;\";\n      }\n    });\n  });\n\n  if (!registerProperty) {\n    doc.head.appendChild(createElement(STYLE, false, `*{${css}}`));\n  }\n};\n","export default ({ value }) => value.trim().split(\" \").map(parseFloat);\n","import {\n  ACTION_REMOVE,\n  CLASS_HIDDEN_MODE,\n  CLASS_SHOWN_MODE,\n  HIDDEN,\n  HIDDEN_CLASS,\n  MODE_HIDDEN_UNTIL_FOUND,\n  SHOWN_CLASS,\n} from \"../constants/index.js\";\nimport { inDOM } from \"../dom/index.js\";\n\nexport default (elem, hideMode) => {\n  return hideMode === ACTION_REMOVE\n    ? inDOM(elem)\n    : hideMode === CLASS_HIDDEN_MODE\n    ? !elem.classList.contains(HIDDEN_CLASS)\n    : hideMode === CLASS_SHOWN_MODE\n    ? elem.classList.contains(SHOWN_CLASS)\n    : !elem.hasAttribute(\n        hideMode === MODE_HIDDEN_UNTIL_FOUND ? HIDDEN : hideMode,\n      );\n};\n","import { DATA_UI_PREFIX, FALSE } from \"../constants/index.js\";\n\nexport default (elem, name) => {\n  const value = elem.getAttribute(DATA_UI_PREFIX + name);\n  return value === null ? value : value !== FALSE;\n};\n","import { DATA_UI_PREFIX } from \"../constants/index.js\";\n\nexport default (elem, name, property) => {\n  let datasetValue = elem.getAttribute(DATA_UI_PREFIX + name)?.trim() || \"\";\n  const isDataObject = datasetValue[0] === \"{\";\n  if (datasetValue) {\n    if (isDataObject) {\n      datasetValue = JSON.parse(datasetValue);\n    } else if (property) {\n      datasetValue = { [property]: datasetValue };\n    }\n  }\n  return property ? datasetValue : [datasetValue, isDataObject];\n};\n","export default async (promise, callback) => {\n  await promise;\n  callback();\n};\n","import { ACTION_ON, ACTION_OFF, ACTION_EMIT, ACTION_ONCE } from \"./constants\";\nimport { isString, isObject } from \"./is\";\nimport { closest, each } from \"./dom\";\nimport { strToArray, arrayFrom } from \"./utils\";\n\nconst getOptsObj = (args, newOpts) => {\n  args = arrayFrom(args);\n  const optsPosition = isString(args[2]) ? 4 : 3;\n  let opts = args[optsPosition];\n  opts = isObject(opts) ? opts : { capture: !!opts };\n  args[optsPosition] = { ...opts, ...newOpts };\n  return args;\n};\n\nclass EventHandler {\n  constructor() {\n    this.eventsSet = new Set();\n    for (const name of [ACTION_ON, ACTION_OFF, ACTION_EMIT, ACTION_ONCE]) {\n      this[name] = this[name].bind(this);\n    }\n    this._id = 0;\n  }\n  getNamespaces(eventFullName) {\n    let [event, ...namespace] = eventFullName.split(/\\.(?![^([]*[\\]])/);\n    namespace = namespace?.join(\".\");\n    event = event.replace(/[[\\]']+/g, \"\");\n    return { eventFullName, event, namespace };\n  }\n  on(elems, events, ...params) {\n    let [_handler, _opts] = params;\n    let deligate;\n\n    if (isString(_handler)) {\n      [deligate, _handler, _opts] = params;\n    }\n    if (!isObject(_opts)) {\n      _opts = { capture: !!_opts };\n    }\n\n    _handler = ((fn) => (e) => {\n      fn(e, e.detail);\n    })(_handler);\n\n    elems = each(elems, (elem) => {\n      events = isString(events)\n        ? strToArray(events)\n        : isObject(events)\n        ? [events]\n        : events;\n      events.forEach((eventFullName) => {\n        const id = this._id++;\n        const opts = { ..._opts };\n        let handler = _handler;\n\n        const { event, namespace } = isString(eventFullName)\n          ? this.getNamespaces(eventFullName)\n          : eventFullName;\n\n        if (opts.once) {\n          handler = ((fn) => (e) => {\n            this.offId(id);\n            fn(e);\n          })(handler);\n        }\n        opts.once = false;\n\n        if (deligate) {\n          const isSelector = isString(deligate);\n          handler = ((fn) => (e) => {\n            e.deligateTarget = isSelector\n              ? e.target.closest(deligate)\n              : closest(e.target, deligate);\n            if (e.deligateTarget) {\n              fn(e);\n            }\n          })(handler);\n        }\n\n        elem.addEventListener(event, handler, opts);\n        this.eventsSet.add({\n          id,\n          elem,\n          eventFullName,\n          event,\n          namespace,\n          handler,\n          opts,\n        });\n      });\n    });\n    return elems;\n  }\n  once() {\n    return this.on(...getOptsObj(arguments, { once: true }));\n  }\n  offId(id) {\n    this.removeSets([arrayFrom(this.eventsSet).find((s) => s.id === id)]);\n  }\n  removeSets(sets, opts) {\n    sets.forEach((set) => {\n      if (!set) return;\n      set.elem.removeEventListener(set.event, set.handler, opts);\n      this.eventsSet.delete(set);\n    });\n  }\n  off(elems, events, handler, opts) {\n    const eventsSet = this.eventsSet;\n    if (!arguments.length) {\n      this.removeSets(eventsSet, opts);\n    } else {\n      if (elems === \"*\") {\n        elems = arrayFrom(eventsSet).map((set) => set.elem);\n      }\n      return each(elems, (elem) => {\n        if (events) {\n          strToArray(events).forEach((eventFullName) => {\n            const { event, namespace } = this.getNamespaces(eventFullName);\n            const sets = arrayFrom(eventsSet).filter(\n              (set) =>\n                set.elem === elem &&\n                (!namespace || set.namespace === namespace) &&\n                (!event || set.event === event) &&\n                (!handler || set.handler === handler),\n            );\n\n            this.removeSets(sets, opts);\n          });\n        } else {\n          this.removeSets(\n            [...eventsSet].filter((e) => e.elem === elem),\n            opts,\n          );\n        }\n      });\n    }\n  }\n  emit(elems, events, opts) {\n    each(elems, (elem) => {\n      strToArray(events).forEach((event) => {\n        elem.dispatchEvent(new CustomEvent(event, opts));\n      });\n    });\n  }\n}\n\nexport { EventHandler };\n","import { EVENT_CHANGE } from \"./constants\";\nimport { mergeDeep } from \"./utils\";\n\nclass Breakpoints {\n  constructor(breakpoints, opts) {\n    this._onResize = this._onResize.bind(this);\n\n    breakpoints = Object.entries(breakpoints).sort((a, b) => +a[0] - +b[0]);\n\n    this.mql = breakpoints.map(([width, data], i) => {\n      let media;\n      if (i === 0) {\n        media = `(max-width:${breakpoints[1][0] - 1}px)`;\n      } else if (i === breakpoints.length - 1) {\n        media = `(min-width:${width}px)`;\n      } else {\n        media = `(min-width:${width}px) and (max-width:${\n          breakpoints[i + 1][0] - 1\n        }px)`;\n      }\n\n      const mq = window.matchMedia(media);\n\n      mq.addEventListener(EVENT_CHANGE, this._onResize);\n      return { mq, width: +width, data };\n    });\n    this.breakpoints = breakpoints;\n    this.opts = opts;\n    this._onResize();\n  }\n  _onResize(e) {\n    if (!e || e.matches) {\n      this.checkBreakpoints();\n    }\n  }\n  checkBreakpoints() {\n    const { opts, breakpoint, mql } = this;\n\n    let currentData = {},\n      newBreakpoint;\n    for (const { width, data, mq } of mql) {\n      if (width && !mq.matches) break;\n      newBreakpoint = [data, width];\n      currentData = mergeDeep(currentData, data);\n    }\n\n    if (!breakpoint || breakpoint[1] !== newBreakpoint[1]) {\n      this.breakpoint = newBreakpoint;\n      opts.onUpdate && opts.onUpdate(newBreakpoint, currentData);\n    }\n\n    return this.breakpoint;\n  }\n  destroy() {\n    this.mql.forEach(({ mq }) =>\n      mq.removeEventListener(EVENT_CHANGE, this._onResize),\n    );\n  }\n}\n\nexport default Breakpoints;\n","import {\n  EVENT_BREAKPOINT,\n  ACTION_TOGGLE,\n  ACTION_SHOW,\n  ACTION_HIDE,\n  ACTION_INIT,\n  ACTION_DESTROY,\n  ACTION_UPDATE,\n  ACTION_ON,\n  ACTION_OFF,\n  ACTION_EMIT,\n  ACTION_ONCE,\n  doc,\n  POPOVER_API_SUPPORTED,\n  UI_PREFIX,\n  POPOVER,\n  ROOT_ELEM,\n} from \"./constants\";\nimport { isArray, isFunction, isHTML, isObject, isString } from \"./is\";\nimport { getElement, fragment } from \"./dom\";\nimport {\n  mergeDeep,\n  uuidGenerator,\n  callOrReturn,\n  getDataSelector,\n  arrayFrom,\n  getDatasetValue,\n} from \"./utils\";\nimport { EventHandler } from \"./EventHandler\";\nimport Breakpoints from \"./Breakpoints\";\n\nif (!POPOVER_API_SUPPORTED) {\n  ROOT_ELEM.classList.add(UI_PREFIX + \"no-\" + POPOVER);\n}\n\nfunction getDataValue(_data, dataName, elem) {\n  const value = callOrReturn(_data[dataName], elem);\n  if (!isObject(value)) return {};\n  return _data[value.data]\n    ? { ...getDataValue(_data, value.data, elem), ...value }\n    : value;\n}\n\nclass Base {\n  static allInstances = new Set();\n  static components = {};\n  constructor(elem, opts) {\n    if (isFunction(opts)) {\n      opts = opts(elem);\n    }\n    opts ??= {};\n    const { NAME, BASE_NODE_NAME, Default, _data, _templates, allInstances } =\n      this.constructor;\n\n    if (\n      elem?.id &&\n      arrayFrom(allInstances).find(\n        (instance) =>\n          instance.base === elem && instance.constructor.NAME === NAME,\n      )\n    )\n      return;\n\n    Base.components[NAME] = this.constructor;\n\n    const baseElemName = BASE_NODE_NAME ?? NAME;\n\n    let dataName = opts.data;\n\n    if (elem == null) {\n      opts = mergeDeep(Default, getDataValue(_data, dataName, elem), opts);\n      elem = isString(opts.template)\n        ? callOrReturn(_templates[opts.template], opts)\n        : opts.template?.(opts);\n      this._fromTemplate = true;\n    } else if (elem) {\n      if (isHTML(elem)) {\n        elem = fragment(elem);\n        this._fromHTML = true;\n      } else if (isString(elem)) {\n        elem = doc.querySelector(elem);\n      }\n\n      const [datasetValue, isDataObject] = getDatasetValue(elem, NAME);\n\n      dataName ||= !isDataObject && datasetValue;\n\n      if (dataName && !_data[dataName]) return;\n\n      opts = mergeDeep(\n        Default,\n        getDataValue(_data, dataName, elem),\n        isDataObject && datasetValue,\n        opts,\n      );\n    }\n    elem = getElement(elem);\n\n    if (!elem) return;\n\n    this[baseElemName] = elem;\n\n    this.baseOpts = this.opts = opts;\n\n    this.uuid = uuidGenerator();\n\n    this.id = elem.id || this.uuid;\n\n    const eventHandler = new EventHandler();\n    [ACTION_ON, ACTION_OFF, ACTION_ONCE].forEach((name) => {\n      this[name] = (...params) => {\n        eventHandler[name](...params);\n        return this;\n      };\n    });\n\n    [\n      ACTION_TOGGLE,\n      ACTION_SHOW,\n      ACTION_HIDE,\n      ACTION_INIT,\n      ACTION_DESTROY,\n      ACTION_UPDATE,\n      ACTION_EMIT,\n    ].forEach((action) => (this[action] = this[action]?.bind(this)));\n\n    allInstances.add(this);\n\n    if (this.baseOpts.breakpoints) {\n      this._initBreakpoints();\n    } else {\n      this.init();\n    }\n\n    return this;\n  }\n  _initBreakpoints() {\n    this.breakpoints = new Breakpoints(\n      { 0: this.baseOpts, ...this.baseOpts.breakpoints },\n      {\n        onUpdate: (breakpoint, opts) => {\n          this.emit(EVENT_BREAKPOINT, breakpoint, this.breakpoint);\n          if (breakpoint[0].data) {\n            const dataValue = getDataValue(\n              this.constructor._data,\n              breakpoint[0].data,\n            );\n            if (dataValue) {\n              breakpoint[0] = { ...breakpoint[0], ...dataValue };\n            }\n          }\n          this.opts = breakpoint[1]\n            ? mergeDeep(opts, breakpoint[0])\n            : { ...opts };\n          delete this.opts.breakpoints;\n\n          if (opts.destroy) {\n            this.destroy({ keepInstance: true });\n          } else if (this.isInit) {\n            this._update?.();\n          } else {\n            Base.allInstances.forEach((instance) => {\n              if (\n                instance.breakpoints &&\n                instance.base === this.base &&\n                instance !== this &&\n                instance.isInit &&\n                instance.breakpoints.checkBreakpoints()[0].destroy\n              ) {\n                instance.destroy({ keepInstance: true });\n              }\n            });\n            this.init();\n          }\n          this.breakpoint = breakpoint;\n        },\n      },\n    );\n  }\n  emit(eventName, ...detail) {\n    const { opts, base } = this;\n    const { on, eventDispatch, eventBubble, eventPrefix } = opts;\n    detail = [this, ...detail];\n    if (on) {\n      on[eventName] && on[eventName](...detail);\n      on.any && on.any(eventName, ...detail);\n    }\n\n    if (\n      isArray(eventDispatch) ? eventDispatch.includes(eventName) : eventDispatch\n    ) {\n      const bubbles =\n        (isArray(eventBubble) && eventBubble.includes(eventName)) ||\n        !!eventBubble;\n      base.dispatchEvent(\n        new CustomEvent(eventPrefix + eventName, { detail, bubbles }),\n      );\n    }\n    return this;\n  }\n  update(opts) {\n    if (opts) {\n      this.baseOpts = mergeDeep(this.baseOpts, opts);\n      if (this.breakpoints || this.baseOpts.breakpoints) {\n        this.breakpoints?.destroy();\n        this.breakpoints = false;\n        this._initBreakpoints();\n      } else {\n        this._update?.();\n      }\n    }\n    return this;\n  }\n  get base() {\n    return this[this.constructor.BASE_NODE_NAME ?? this.constructor.NAME];\n  }\n  get instances() {\n    return this.constructor.instances;\n  }\n  get Default() {\n    return this.constructor.Default;\n  }\n  static get(elem) {\n    if (elem === undefined) return [...this.instances.values()];\n    for (const [id, instance] of this.instances) {\n      if ([id, instance.base].includes(elem)) {\n        return instance;\n      }\n    }\n  }\n  static getOrCreate(elem, opts) {\n    return this.get(elem, opts) || new this(elem, opts);\n  }\n  static initAll(root = doc) {\n    return arrayFrom(root.querySelectorAll(getDataSelector(this.NAME))).map(\n      (elem) => this.getOrCreate(elem),\n    );\n  }\n  static updateDefault(opts) {\n    return mergeDeep(this.Default, opts);\n  }\n  static data(name, opts) {\n    if (!opts) {\n      opts = name;\n      name = \"\";\n    }\n    if (!opts) return this._data[name];\n    this._data[name] = opts;\n    return this;\n  }\n  static dispatchTopLayer(type) {\n    const Toast = this.components.toast;\n    if (Toast) {\n      Toast.forceTopLayer(type);\n    }\n  }\n}\nexport default Base;\n","import { arrayFrom } from \"./utils/index.js\";\n\nexport default (Base, NAME) =>\n  class extends Base {\n    static _data = {};\n    static instances = new Map();\n    static get NAME() {\n      return NAME;\n    }\n    get isAnimating() {\n      return this.transition?.isAnimating;\n    }\n    get initialPlaceNode() {\n      return (\n        this.teleport?.placeholder ??\n        this.placeholder ??\n        this[this.constructor.NAME]\n      );\n    }\n    hide(opts) {\n      return this.toggle(false, opts);\n    }\n    show(opts) {\n      return this.toggle(true, opts);\n    }\n    static toggle(id, s, opts) {\n      return this.instances.get(id)?.toggle(s, opts);\n    }\n    static show(id, opts) {\n      return this.instances.get(id)?.show(opts);\n    }\n    static hide(id, opts) {\n      return this.instances.get(id)?.hide(opts);\n    }\n  };\n","import {\n  UI,\n  VAR_UI_PREFIX,\n  WIDTH,\n  HEIGHT,\n  PX,\n  ACTION_ADD,\n  ACTION_REMOVE,\n  NONE,\n  ENTER,\n  ENTER_ACTIVE,\n  ENTER_FROM,\n  ENTER_TO,\n  LEAVE,\n  LEAVE_ACTIVE,\n  LEAVE_FROM,\n  LEAVE_TO,\n  DURATION,\n  TRANSITION,\n  NAME,\n} from \"./constants\";\n\nimport { isString, isFunction, isObject } from \"./is\";\nimport { camelToKebab, updateOptsByData } from \"./utils\";\n\nexport default class Transition {\n  static Default = {\n    name: UI,\n    css: true,\n    cssVariables: false,\n    [ENTER]: null,\n    [ENTER_ACTIVE]: null,\n    [ENTER_FROM]: null,\n    [ENTER_TO]: null,\n    [LEAVE]: null,\n    [LEAVE_FROM]: null,\n    [LEAVE_ACTIVE]: null,\n    [LEAVE_TO]: null,\n    [DURATION]: null,\n  };\n\n  constructor(elem, opts, defaultOpts) {\n    this.elem = elem;\n    this.update(opts, defaultOpts);\n    this.promises = [];\n\n    this.isInit = true;\n  }\n  update(opts, defaultOpts = {}) {\n    opts = isString(opts) ? { name: opts } : opts;\n\n    opts = {\n      ...Transition.Default,\n      ...defaultOpts,\n      ...opts,\n    };\n\n    this.opts = updateOptsByData(opts, this.elem, [\n      ENTER_ACTIVE,\n      ENTER_FROM,\n      ENTER_TO,\n      LEAVE_ACTIVE,\n      LEAVE_FROM,\n      LEAVE_TO,\n      [NAME, TRANSITION + \"Name\"],\n    ]);\n\n    return this;\n  }\n  toggleVariables(s) {\n    const { offsetWidth, offsetHeight, style } = this.elem;\n    const rect = [offsetWidth, offsetHeight];\n    [WIDTH, HEIGHT].forEach((name, i) => {\n      const prop = VAR_UI_PREFIX + TRANSITION + \"-\" + name;\n      if (s) {\n        style.setProperty(prop, rect[i] + PX);\n      } else {\n        style.removeProperty(prop);\n      }\n    });\n  }\n\n  toggleAnimationClasses(s) {\n    this.elem.style.transition = NONE;\n    this.setClasses([s ? ENTER_FROM : LEAVE_FROM]);\n    this.elem.offsetWidth;\n    this.elem.style.transition = \"\";\n    this.setClasses([s ? ENTER_ACTIVE : LEAVE_ACTIVE, s ? ENTER_TO : LEAVE_TO]);\n    return this;\n  }\n\n  setClasses(animations) {\n    const { elem, opts } = this;\n    const classes = [\"\", \"\"];\n    const styles = [{}, {}];\n    let hasStyle = false;\n    let hasClass = false;\n    [\n      ENTER_ACTIVE,\n      ENTER_FROM,\n      ENTER_TO,\n      LEAVE_ACTIVE,\n      LEAVE_FROM,\n      LEAVE_TO,\n    ].forEach((state) => {\n      const s = animations?.includes(state) | 0;\n      if (isObject(opts[state])) {\n        hasStyle = true;\n        styles[s] = { ...styles[s], ...opts[state] };\n      } else {\n        hasClass = true;\n        classes[s] +=\n          (opts[state] ??\n            (opts.name ? opts.name + \"-\" + camelToKebab(state) : \"\")) + \" \";\n      }\n    });\n    if (hasClass) {\n      classes.forEach((classes, s) =>\n        elem.classList[s ? ACTION_ADD : ACTION_REMOVE](\n          ...classes.split(\" \").filter(Boolean),\n        ),\n      );\n    }\n    if (hasStyle) {\n      styles.forEach((styles, s) => {\n        Object.entries(styles).forEach(([name, value]) => {\n          if (name[0] !== \"-\") {\n            name = camelToKebab(name);\n          }\n          if (s) {\n            elem.style.setProperty(name, value);\n          } else {\n            elem.style.removeProperty(name);\n          }\n        });\n      });\n    }\n  }\n  collectPromises(s) {\n    const { elem, promises, opts } = this;\n    const state = s ? ENTER : LEAVE;\n    const duration = opts.duration?.[state] ?? opts.duration;\n\n    promises.length = 0;\n    let promisesEvent, promisesAnimation;\n    if (isFunction(opts[state])) {\n      promisesEvent = new Promise((resolve) => opts[state](elem, resolve));\n    }\n    let animations;\n    if (opts.css) {\n      animations = elem.getAnimations();\n      promisesAnimation =\n        animations.length &&\n        Promise.allSettled(animations.map(({ finished }) => finished));\n    }\n\n    if (!duration && !promisesEvent && !promisesAnimation) return promises;\n\n    const promisesDuration =\n      !isNaN(duration) && duration != null\n        ? new Promise((resolve) => setTimeout(resolve, duration))\n        : null;\n\n    promisesDuration && promises.push(promisesDuration);\n    promisesEvent && promises.push(promisesEvent);\n    promisesAnimation && promises.push(promisesAnimation);\n\n    this.animations = animations;\n\n    return promises;\n  }\n  get isAnimating() {\n    return !!this.promises.length;\n  }\n  cancel() {\n    this.animations?.forEach((animation) => animation.cancel());\n    return Promise.allSettled([this.getAwaitPromise()]);\n  }\n  getAwaitPromise() {\n    return Promise.allSettled(this.promises);\n  }\n\n  async run(s, animated = true) {\n    const { elem, opts } = this;\n    if (!elem) return;\n\n    if (animated) {\n      if (opts.css) {\n        opts.cssVariables && this.toggleVariables(true);\n        this.toggleAnimationClasses(s);\n      }\n\n      this.collectPromises(s);\n      if (this.promises.length) {\n        await this.getAwaitPromise();\n      }\n      if (opts.css) {\n        opts.cssVariables && this.toggleVariables(false);\n      }\n    }\n\n    this.setClasses(null);\n    this.promises.length = 0;\n  }\n  destroy() {\n    this.setClasses(null);\n    this.isInit = false;\n  }\n  static createOrUpdate(transition, elem, opts, defaultOpts) {\n    if (!opts) {\n      transition?.destroy();\n      return;\n    }\n    return transition\n      ? transition.update(opts, defaultOpts)\n      : new Transition(elem, opts, defaultOpts);\n  }\n}\n","import {\n  UI_PREFIX,\n  POSITION,\n  TELEPORT,\n  doc,\n  DATA_UI_PREFIX,\n} from \"./constants\";\nimport { isString, isObject } from \"./is\";\nimport { mergeDeep, callOrReturn, getDatasetValue } from \"./utils\";\n\nclass Teleport {\n  static Default = {\n    to: false,\n    [POSITION]: \"beforeend\",\n    disableAttributes: false,\n  };\n  constructor(elem, opts = {}, defaultOpts) {\n    this.elem = elem;\n    this.update(opts, defaultOpts);\n  }\n  update(opts, defaultOpts = {}) {\n    opts = isObject(opts) ? opts : { to: opts };\n    opts = mergeDeep(\n      this.constructor.Default,\n      defaultOpts,\n      opts,\n      getDatasetValue(this.elem, TELEPORT, \"to\"),\n    );\n\n    this.opts = opts;\n\n    if (!opts.to) {\n      return this.destroy();\n    }\n\n    return this;\n  }\n  move(...toParameters) {\n    const { opts, elem } = this;\n    const { position } = opts;\n    let to = callOrReturn(opts.to, ...toParameters);\n    to = isString(to) ? doc.querySelector(to) : to;\n\n    if (!to) return;\n    this.placeholder = doc.createComment(UI_PREFIX + TELEPORT + \":\" + elem.id);\n\n    if (this.placeholder) {\n      elem.before(this.placeholder);\n    }\n    to.insertAdjacentElement(position, elem);\n    return this;\n  }\n  destroy() {\n    this.reset();\n  }\n  reset() {\n    this.placeholder?.replaceWith(this.elem);\n    this.placeholder = null;\n    return this;\n  }\n  static createOrUpdate(teleport, elem, opts, defaultOpts) {\n    return teleport\n      ? teleport.update(opts, defaultOpts)\n      : opts !== false ||\n        (!opts.disableAttributes &&\n          elem.getAttribute(DATA_UI_PREFIX + TELEPORT))\n      ? new Teleport(elem, opts, defaultOpts)\n      : null;\n  }\n}\nexport default Teleport;\n","import {\n  CANCEL,\n  DATA_UI_PREFIX,\n  DISMISS,\n  EVENT_CLICK,\n  PRIVATE_OPTION_CANCEL_ON_HIDE,\n  PRIVATE_PREFIX,\n  UI_EVENT_PREFIX,\n} from \"../constants\";\nimport { isString } from \"../is\";\nconst eventName = EVENT_CLICK + UI_EVENT_PREFIX + \"-\" + DISMISS;\nexport default function (\n  instance,\n  elem = instance.base,\n  action = instance.hide,\n) {\n  if (instance[PRIVATE_PREFIX + DISMISS]) {\n    instance.off(elem, eventName);\n    instance[PRIVATE_PREFIX + DISMISS] = false;\n  }\n  if (instance.opts[DISMISS]) {\n    instance.on(\n      elem,\n      eventName,\n      isString(instance.opts[DISMISS])\n        ? instance.opts[DISMISS]\n        : `[${DATA_UI_PREFIX + DISMISS}=\"\"],[${DATA_UI_PREFIX + DISMISS}=\"${\n            instance.constructor.NAME\n          }\"]`,\n      (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        const eventParams = { event, trigger: event.deligateTarget };\n        action(eventParams);\n        if (instance.constructor[PRIVATE_OPTION_CANCEL_ON_HIDE]) {\n          instance.emit(CANCEL, eventParams);\n        }\n      },\n    );\n    instance[PRIVATE_PREFIX + DISMISS] = true;\n  }\n}\n","import {\n  EVENT_KEYDOWN,\n  KEY_ESC,\n  CANCEL,\n  PRIVATE_OPTION_CANCEL_ON_HIDE,\n} from \"../constants\";\nconst eventName = EVENT_KEYDOWN + \".escapeHide\";\n\nexport default function (instance, s, elem) {\n  if (s) {\n    instance.on(elem, eventName, (event) => {\n      if (event.keyCode === KEY_ESC) {\n        (instance.opts.escapeHide.stop ?? true) && event.stopPropagation();\n        instance.hide({ event });\n        if (instance.constructor[PRIVATE_OPTION_CANCEL_ON_HIDE]) {\n          instance.emit(CANCEL, { event });\n        }\n      }\n    });\n  } else {\n    instance.off(elem, eventName);\n  }\n}\n","import {\n  FOCUSABLE_ELEMENTS_SELECTOR,\n  doc,\n  AUTOFOCUS,\n  DATA_UI_PREFIX,\n} from \"../constants\";\nimport { getOptionElem } from \"../utils/index.js\";\nimport { isDialog } from \"../is/index.js\";\nimport { focus } from \"../dom/index.js\";\n\nexport default (instance, elem = instance.base) => {\n  const autofocus = instance.opts.autofocus;\n  let focusElem = getOptionElem(\n    instance,\n    autofocus === true\n      ? `[${AUTOFOCUS}],[${DATA_UI_PREFIX + AUTOFOCUS}=\"\"],[${\n          DATA_UI_PREFIX + AUTOFOCUS\n        }=\"${instance.constructor.NAME}\"]`\n      : autofocus,\n    elem,\n  );\n\n  focusElem ||= elem.contains(doc.activeElement) && doc.activeElement;\n\n  if (!focusElem && instance.opts.focusTrap && !isDialog(elem)) {\n    focusElem = elem.querySelector(FOCUSABLE_ELEMENTS_SELECTOR) ?? elem;\n  }\n\n  focus(focusElem);\n};\n","import {\n  EVENT_DESTROY,\n  FLOATING,\n  HIDDEN,\n  HIDDEN_CLASS,\n  ID,\n  INERT,\n  PLACEHOLDER,\n  SHOWN_CLASS,\n  TELEPORT,\n  TRANSITION,\n} from \"../constants\";\nimport { removeAttribute, removeClass } from \"../dom/index.js\";\nimport { destroyInstance } from \"./index.js\";\n\nexport default (\n  instance,\n  { remove = false, keepInstance = false, keepState = false } = {},\n) => {\n  const { base, off, emit, constructor } = instance;\n\n  const stateElem = instance[constructor.NAME];\n\n  instance[PLACEHOLDER]?.replaceWith(base);\n\n  [\"autohide\", FLOATING, TRANSITION, TELEPORT].forEach((key) => {\n    if (instance[key]) {\n      instance[key].destroy();\n      instance[key] = null;\n    }\n  });\n\n  off();\n\n  if (!keepInstance) {\n    destroyInstance(instance);\n  }\n  if (remove) {\n    base.remove();\n  } else if (!keepState) {\n    removeClass(stateElem, [HIDDEN_CLASS, SHOWN_CLASS]);\n    removeAttribute(stateElem, HIDDEN, INERT);\n  }\n\n  instance.isInit = false;\n\n  emit(EVENT_DESTROY);\n\n  return instance;\n};\n","import {\n  HOVER,\n  FOCUS,\n  CLICK,\n  EVENT_CLICK,\n  EVENT_MOUSEENTER,\n  EVENT_MOUSELEAVE,\n  EVENT_FOCUSOUT,\n  EVENT_FOCUSIN,\n  EVENT_MOUSEDOWN,\n  UI_EVENT_PREFIX,\n  TRIGGER,\n  MODAL,\n  PRIVATE_PREFIX,\n  MOUSE,\n} from \"../constants\";\nimport { isArray } from \"../is\";\n\nconst PREFIX = UI_EVENT_PREFIX + \"-\" + TRIGGER;\n\nexport default (\n  instance,\n  toggler = instance.toggler,\n  target = instance.base,\n) => {\n  let {\n    opts: { trigger, delay, mode },\n    toggle,\n    on,\n  } = instance;\n\n  if (instance[PRIVATE_PREFIX + TRIGGER]) {\n    instance.off(\"*\", PREFIX);\n    instance[PRIVATE_PREFIX + TRIGGER] = false;\n  }\n\n  if (!trigger) return;\n\n  const triggerClick = trigger.includes(CLICK);\n  const triggerHover = mode !== MODAL && trigger.includes(HOVER);\n  const triggerFocus = mode !== MODAL && trigger.includes(FOCUS);\n  const events = [];\n  let isMouseDown = false;\n  let hoverTimer;\n  if (triggerHover) {\n    delay = isArray(delay) ? delay : [delay, delay];\n  }\n\n  let pointerType;\n  on(toggler, \"pointerdown\" + PREFIX, (event) => {\n    pointerType = event.pointerType;\n  });\n\n  if (triggerClick) {\n    on(toggler, EVENT_CLICK + PREFIX, (event) => {\n      if (\n        (pointerType === MOUSE && triggerHover) ||\n        (instance.isOpen &&\n          instance.transition.isAnimating &&\n          instance.floating.floatings.size)\n      ) {\n        pointerType = null;\n        return;\n      }\n      toggle(null, { event, trigger: toggler });\n    });\n  }\n  if (triggerHover) {\n    events.push(EVENT_MOUSEENTER + PREFIX, EVENT_MOUSELEAVE + PREFIX);\n  }\n  if (triggerFocus) {\n    events.push(EVENT_FOCUSIN + PREFIX, EVENT_FOCUSOUT + PREFIX);\n\n    triggerClick &&\n      on(toggler, EVENT_MOUSEDOWN, () => {\n        isMouseDown = true;\n        clearTimeout(hoverTimer);\n        requestAnimationFrame(() => (isMouseDown = false));\n      });\n  }\n\n  if (triggerHover || triggerFocus) {\n    on([toggler, target], events, (event) => {\n      const { type } = event;\n\n      const isFocus = type === EVENT_FOCUSIN || type === EVENT_FOCUSOUT;\n      if (\n        (type === EVENT_FOCUSIN && isMouseDown) ||\n        (type === EVENT_FOCUSOUT && triggerHover && target.matches(\":\" + HOVER))\n      ) {\n        return;\n      }\n\n      const entered =\n        (triggerHover && type === EVENT_MOUSEENTER) ||\n        (triggerFocus && type === EVENT_FOCUSIN);\n      const d = isFocus ? 0 : delay[entered ? 0 : 1];\n      clearTimeout(hoverTimer);\n\n      if (d) {\n        hoverTimer = setTimeout(() => {\n          toggle(entered, { trigger: toggler, event });\n        }, d);\n      } else {\n        toggle(entered, { event, trigger: event.target });\n      }\n    });\n  }\n\n  instance[PRIVATE_PREFIX + TRIGGER] = true;\n};\n","import { arrayFrom, createElement } from \"../utils/index.js\";\nimport {\n  AFTER,\n  BEFORE,\n  DATA_UI_PREFIX,\n  doc,\n  FIXED,\n  FOCUS,\n  FOCUSABLE_ELEMENTS_SELECTOR,\n  TABINDEX,\n} from \"../constants/index.js\";\n\nimport { focus } from \"../dom/index.js\";\n\nconst FOCUS_GUARD = FOCUS + \"-guard\";\n\nexport default class FocusGuards {\n  constructor(target, opts = {}) {\n    this.target = target;\n    this.opts = opts;\n    this.init();\n  }\n  init() {\n    const { target, opts } = this;\n\n    this.onFocus = (e) => {\n      let returnElem = opts.anchor;\n      let focusFirst = false;\n      const isGuardBefore =\n        e.target.getAttribute(DATA_UI_PREFIX + FOCUS_GUARD) === BEFORE;\n\n      if (opts.focusAfterAnchor && returnElem) {\n        if (!isGuardBefore) {\n          const globalReturnElems = [\n            ...doc.querySelectorAll(FOCUSABLE_ELEMENTS_SELECTOR),\n          ];\n          returnElem =\n            globalReturnElems[\n              globalReturnElems.findIndex((el) => el === returnElem) + 1\n            ];\n        }\n        opts.onFocusOut?.();\n        return focus(returnElem);\n      }\n\n      if (e.relatedTarget === returnElem) {\n        focusFirst = true;\n      }\n\n      arrayFrom(target.querySelectorAll(FOCUSABLE_ELEMENTS_SELECTOR))\n        .at(!focusFirst && isGuardBefore ? -1 : 0)\n        .focus();\n    };\n\n    this.focusGuards = [BEFORE, AFTER].map((methodName) => {\n      const focusGuard = createElement(\"span\", {\n        [TABINDEX]: 0,\n        [DATA_UI_PREFIX + FOCUS_GUARD]: methodName,\n        style: `outline:none;opacity:0;position:${\n          opts.strategy ?? FIXED\n        };pointer-events:none;`,\n      });\n      target[methodName](focusGuard);\n      focusGuard.addEventListener(FOCUS, this.onFocus);\n      return focusGuard;\n    });\n  }\n  destroy() {\n    this.focusGuards.forEach((focusGuard) => {\n      focusGuard.remove();\n      focusGuard.removeEventListener(FOCUS, this.onFocus);\n    });\n  }\n}\n","import {\n  VAR_UI_PREFIX,\n  NONE,\n  WIDTH,\n  HEIGHT,\n  ANCHOR,\n  TOP,\n  LEFT,\n  PX,\n  DIV,\n  AVAILABLE_WIDTH,\n  AVAILABLE_HEIGHT,\n  EVENT_SCROLL,\n  EVENT_RESIZE,\n  FLOATING_DATA_ATTRIBUTE,\n  DATA_UI_PREFIX,\n  INERT,\n  DIALOG,\n  ABSOLUTE,\n  CANCEL,\n  FLIP,\n  SHRINK,\n  STICKY,\n  PLACEMENT,\n  PADDING,\n  OFFSET,\n  ARROW,\n  TRUE,\n  POPOVER,\n  MODAL,\n  MODE,\n  POPOVER_API_SUPPORTED,\n  OPTION_TOP_LAYER,\n  FIXED,\n  EVENT_KEYDOWN,\n  FOCUSABLE_ELEMENTS_SELECTOR,\n  KEY_TAB,\n  POPOVER_API_MODE_MANUAL,\n  UI_EVENT_PREFIX,\n  FALSE,\n  FLOATING,\n  CENTER,\n  AUTO,\n  CONTENT,\n  OPTION_MOVE_TO_ROOT,\n  OPTION_FLOATING_CLASS,\n} from \"./constants\";\nimport {\n  createElement,\n  getPosition,\n  returnArray,\n  isOverflowElement,\n  observeResize,\n  resizeObserver,\n  ResetFloatingCssVariables,\n  collectCssVariables,\n  arrayFrom,\n  camelToKebab,\n} from \"./utils\";\nimport { EventHandler } from \"./EventHandler\";\nimport {\n  getBoundingClientRect,\n  getPropertyValue,\n  parents,\n  setAttribute,\n  focus,\n  getElement,\n} from \"./dom\";\n\nimport { isDialog } from \"./is/index.js\";\nimport FocusGuards from \"./modules/FocusGuards.js\";\n\nResetFloatingCssVariables();\n\nconst OPTIONS = [\n  FLIP,\n  STICKY,\n  SHRINK,\n  PLACEMENT,\n  OPTION_TOP_LAYER,\n  OPTION_MOVE_TO_ROOT,\n];\n\nexport default class Floating {\n  static instances = new Set();\n  constructor({\n    target,\n    anchor,\n    arrow,\n    opts,\n    name = \"\",\n    base,\n    teleport,\n    instance,\n  }) {\n    const { on, off } = new EventHandler();\n\n    Object.assign(this, {\n      target,\n      anchor,\n      arrow,\n      opts,\n      name,\n      on,\n      off,\n      base,\n      teleport,\n      instance,\n      floatings: new Set(),\n    });\n  }\n  init() {\n    const { target, anchor, arrow, opts, name, base, on } = this;\n    const PREFIX = VAR_UI_PREFIX + name + \"-\";\n\n    const anchorScrollParents = parents(anchor, isOverflowElement);\n    const anchorStyles = getComputedStyle(anchor);\n    const targetStyles = getComputedStyle(target);\n\n    const options = {};\n    OPTIONS.map((name) => {\n      const variableName = camelToKebab(name);\n      return (options[name] =\n        getPropertyValue(anchorStyles, PREFIX + variableName) ||\n        getPropertyValue(targetStyles, PREFIX + variableName));\n    });\n\n    [...OPTIONS, MODE, OPTION_FLOATING_CLASS].forEach((name) => {\n      if (name === FLIP) {\n        options[FLIP] = options[FLIP]\n          ? options[FLIP].split(\" \").map((v) => v === TRUE)\n          : returnArray(opts[FLIP]);\n      } else if (\n        name === PLACEMENT ||\n        name === MODE ||\n        name === OPTION_FLOATING_CLASS\n      ) {\n        options[name] =\n          base.getAttribute(DATA_UI_PREFIX + camelToKebab(name)) ||\n          options[name] ||\n          opts[PLACEMENT];\n      } else {\n        options[name] =\n          options[name] === TRUE\n            ? true\n            : options[name] === FALSE\n            ? false\n            : opts[name];\n      }\n      this[name] = options[name];\n    });\n\n    const { shrink, sticky, topLayer, moveToRoot, flip, placement, mode } =\n      this;\n\n    const usePopoverApi = topLayer && mode !== MODAL && POPOVER_API_SUPPORTED;\n\n    const inTopLayer =\n      (topLayer && POPOVER_API_SUPPORTED) || mode === MODAL || moveToRoot;\n\n    const useFocusGuards =\n      (opts.focusTrap && mode !== MODAL) || (usePopoverApi && moveToRoot);\n\n    const wrapper = this.createWrapper(usePopoverApi);\n\n    if (moveToRoot && mode !== MODAL && !opts.focusTrap) {\n      on(anchor, EVENT_KEYDOWN, (e) => {\n        if (e.keyCode === KEY_TAB && !e.shiftKey) {\n          const focusElem = target.querySelector(FOCUSABLE_ELEMENTS_SELECTOR);\n          if (focusElem) {\n            e.preventDefault();\n            focus(focusElem);\n          }\n        }\n      });\n    }\n\n    if (placement === DIALOG) return this;\n\n    const wrapperStyle = wrapper.style;\n\n    const {\n      padding,\n      offset = opts.offset,\n      boundaryOffset = opts.boundaryOffset,\n      arrowOffset,\n      arrowPadding,\n      arrowWidth,\n      arrowHeight,\n      wrapperComputedStyle,\n    } = collectCssVariables(anchorStyles, targetStyles, wrapper, PREFIX);\n\n    let anchorRect = getBoundingClientRect(anchor);\n\n    const targetRect = {};\n    [WIDTH, HEIGHT].forEach((size) => {\n      targetRect[size] = parseFloat(wrapperComputedStyle[size]);\n      wrapperStyle.setProperty(PREFIX + size, targetRect[size] + PX);\n      wrapperStyle.setProperty(\n        PREFIX + ANCHOR + \"-\" + size,\n        anchorRect[size] + PX,\n      );\n    });\n\n    let arrowData;\n    if (arrow || arrowWidth || arrowHeight) {\n      arrowData = {\n        [WIDTH]: arrowWidth?.[0] || arrow?.offsetWidth,\n        [HEIGHT]: arrowHeight?.[0] || arrow?.offsetHeight,\n      };\n      arrowData[PADDING] = arrowPadding ?? opts[ARROW]?.padding ?? 0;\n      arrowData[OFFSET] = arrowOffset ?? opts[ARROW]?.offset ?? 0;\n    }\n\n    const params = {\n      anchorRect,\n      targetRect,\n      arrow: arrowData,\n      placement,\n      inTopLayer,\n      flip,\n      sticky,\n      shrink,\n      offset,\n      boundaryOffset,\n      padding,\n      minHeight: parseFloat(targetStyles.minHeight) || 0,\n      minWidth: parseFloat(targetStyles.minWidth) || 0,\n    };\n\n    let prevTop = 0;\n    let pendingUpdate = false;\n    const updatePosition = () => {\n      if (pendingUpdate) return;\n      pendingUpdate = true;\n\n      anchorRect = getBoundingClientRect(anchor);\n\n      if (!inTopLayer) {\n        anchorRect.left = anchorRect.x = anchor.offsetLeft;\n        anchorRect.top = anchorRect.y = anchor.offsetTop;\n        anchorRect.right = anchor.offsetLeft + anchorRect.width;\n        anchorRect.bottom = anchor.offsetTop + anchorRect.height;\n      }\n\n      const position = getPosition({ ...params, anchorRect });\n\n      if (inTopLayer) {\n        position.top += window.scrollY;\n        position.left += window.scrollX;\n      }\n\n      if (prevTop && Math.abs(prevTop - position.top) > 50) {\n        prevTop = position.top;\n        requestAnimationFrame(() => {\n          pendingUpdate = false;\n        });\n        return updatePosition();\n      }\n      prevTop = position.top;\n\n      setAttribute(\n        wrapper,\n        DATA_UI_PREFIX + \"current-\" + PLACEMENT,\n        position[PLACEMENT],\n      );\n\n      if (shrink) {\n        [AVAILABLE_WIDTH, AVAILABLE_HEIGHT].forEach((name) =>\n          wrapperStyle.setProperty(PREFIX + name, position[name] + PX),\n        );\n      }\n\n      if (arrowData) {\n        [LEFT, TOP].forEach((dir, i) =>\n          wrapperStyle.setProperty(\n            PREFIX + ARROW + \"-\" + dir,\n            position.arrow[i] + PX,\n          ),\n        );\n      }\n      wrapperStyle.setProperty(\n        PREFIX + \"transform-origin\",\n        `${position.transformOrigin[0]}px ${position.transformOrigin[1]}px`,\n      );\n\n      wrapperStyle.translate = `${position.left}px ${position.top}px 0`;\n\n      requestAnimationFrame(() => {\n        pendingUpdate = false;\n      });\n    };\n\n    observeResize(target, (width, height) => {\n      targetRect[WIDTH] = width;\n      targetRect[HEIGHT] = height;\n      updatePosition();\n    });\n\n    updatePosition();\n\n    this._toggleApi(useFocusGuards);\n\n    on(anchorScrollParents, EVENT_SCROLL, updatePosition, {\n      passive: true,\n    });\n    on(visualViewport, [EVENT_SCROLL, EVENT_RESIZE], updatePosition, {\n      passive: true,\n    });\n    on(window, EVENT_SCROLL, updatePosition, {\n      passive: true,\n    });\n    this.updatePosition = updatePosition.bind(this);\n\n    Floating.instances.add(this);\n\n    this.parentFloating = arrayFrom(Floating.instances).find(\n      (floating) => floating !== this && anchor.closest(\"#\" + floating.base.id),\n    );\n    this.parentFloating?.floatings?.add(this);\n\n    return this;\n  }\n\n  _toggleApi(useFocusGuards) {\n    const { wrapper, opts, mode, topLayer, anchor, target, instance } = this;\n    const wrapperIsDialog = isDialog(wrapper);\n    const isModal = mode === MODAL;\n    const isPopover = topLayer && POPOVER_API_SUPPORTED && wrapper.popover;\n\n    const onTopLayer = (type) => instance.constructor.dispatchTopLayer(type);\n\n    if (wrapperIsDialog) {\n      if (isModal) {\n        if (wrapper.open) wrapper.close();\n        wrapper.showModal();\n        onTopLayer?.(MODAL);\n      } else {\n        if (isPopover) {\n          wrapper.showPopover();\n          wrapper.open = true;\n          onTopLayer?.(POPOVER);\n        } else {\n          wrapper.show();\n        }\n      }\n      this.on(wrapper, CANCEL + UI_EVENT_PREFIX, (e) => e.preventDefault());\n    } else if (isPopover) {\n      wrapper.showPopover();\n      onTopLayer?.(POPOVER);\n    }\n\n    if (useFocusGuards) {\n      this.focusGuards = new FocusGuards(target, {\n        focusAfterAnchor: !opts.focusTrap,\n        anchor,\n        topLayer,\n        strategy: ABSOLUTE,\n        onFocusOut: () => {\n          if (wrapperIsDialog) {\n            instance.hide?.();\n          }\n        },\n      });\n    }\n  }\n\n  createWrapper(usePopoverApi) {\n    const { target, name, anchor, opts, placement, mode, moveToRoot } = this;\n\n    const style = {\n      zIndex: `var(${VAR_UI_PREFIX}floating-top-layer,999)`,\n      margin: 0,\n      padding: 0,\n      background: NONE,\n      maxWidth: NONE,\n      maxHeight: NONE,\n      overflow: \"unset\",\n      pointerEvents: NONE,\n      display: \"flex\",\n      justifyContent: CENTER,\n      alignItems: CENTER,\n      willChange: \"transform\",\n    };\n\n    if (placement === DIALOG) {\n      style.position = FIXED;\n      style.inset = 0;\n      style.height = AUTO;\n      style.width = AUTO;\n    } else {\n      style.position = ABSOLUTE;\n      style.inset = AUTO;\n      style.left = 0;\n      style.top = 0;\n      style.height = style.width = \"fit-\" + CONTENT;\n      style.minWidth = \"max-\" + CONTENT;\n    }\n\n    const attributes = {\n      style,\n      class: this[OPTION_FLOATING_CLASS],\n      [FLOATING_DATA_ATTRIBUTE]: name,\n      [DATA_UI_PREFIX + FLOATING + \"-\" + MODE]: mode,\n    };\n\n    if (usePopoverApi) {\n      attributes[POPOVER] = POPOVER_API_MODE_MANUAL;\n    }\n\n    if (opts.interactive !== undefined && !opts.interactive) {\n      attributes[INERT] = \"\";\n      attributes.style.pointerEvents = NONE;\n    } else {\n      target.style.pointerEvents = AUTO;\n    }\n\n    const wrapper = (this.wrapper = createElement(\n      mode === MODAL || mode === DIALOG ? DIALOG : DIV,\n      attributes,\n    ));\n\n    if (this.teleport) {\n      this.teleport.opts.to = wrapper;\n      this.teleport.move();\n    }\n\n    if (moveToRoot) {\n      getElement(opts.root)?.append(wrapper);\n    } else {\n      anchor.after(wrapper);\n    }\n\n    return wrapper;\n  }\n  destroy() {\n    this.off();\n    resizeObserver.unobserve(this.target);\n    this.wrapper.close?.();\n    if (this.wrapper.popover && POPOVER_API_SUPPORTED) {\n      this.wrapper.hidePopover();\n    }\n    this.base.style.pointerEvents = \"\";\n    this.focusGuards?.destroy();\n    this.wrapper.remove();\n    this.teleport.reset();\n    Floating.instances.delete(this);\n    this.parentFloating?.floatings?.delete(this);\n  }\n}\n","import {\n  ARROW_HEIGHT,\n  ARROW_OFFSET,\n  ARROW_PADDING,\n  ARROW_WIDTH,\n  BOUNDARY_OFFSET,\n  CLIP_PATH_PROPERTY,\n  OFFSET,\n  PADDING,\n} from \"../../constants/index.js\";\n\nimport { getPropertyValue } from \"../../dom/index.js\";\nimport createInset from \"./createInset.js\";\nimport valuesToArray from \"../valuesToArray.js\";\nimport kebabToCamel from \"../kebabToCamel.js\";\n\nexport default (anchorStyles, targetStyles, wrapper, PREFIX) => {\n  const valuesNames = [\n    PADDING,\n    OFFSET,\n    BOUNDARY_OFFSET,\n    ARROW_OFFSET,\n    ARROW_PADDING,\n    ARROW_WIDTH,\n    ARROW_HEIGHT,\n  ];\n  const values = valuesNames\n    .map((name) => {\n      let value =\n        getPropertyValue(anchorStyles, PREFIX + name) ||\n        getPropertyValue(targetStyles, PREFIX + name);\n      if (!value) return;\n      value = value.split(\" \");\n      if (name === BOUNDARY_OFFSET) {\n        value = createInset(value, true);\n      } else {\n        value[1] ??= value[0];\n      }\n      return { name, value };\n    })\n    .filter(Boolean);\n\n  const polygonValues = values\n    .map(({ name, value }) => {\n      if (name === BOUNDARY_OFFSET) {\n        const valueEnd = value.splice(2).join(\" \");\n        value = value.join(\" \");\n        return [value, valueEnd].join(\",\");\n      }\n      return value.join(\" \");\n    })\n    .join(\",\");\n\n  wrapper.style.setProperty(CLIP_PATH_PROPERTY, `polygon(${polygonValues})`);\n\n  const wrapperComputedStyle = getComputedStyle(wrapper);\n\n  const computedValues = wrapperComputedStyle[CLIP_PATH_PROPERTY].slice(8, -1)\n    .split(\",\")\n    .values();\n\n  const result = { wrapperComputedStyle };\n\n  if (values.length) {\n    values.forEach(({ name }) => {\n      let value = valuesToArray(computedValues.next());\n      if (name === BOUNDARY_OFFSET) {\n        value = [...value, ...valuesToArray(computedValues.next())];\n      } else if (name === OFFSET || name === ARROW_OFFSET) {\n        value = value[0];\n      }\n      result[kebabToCamel(name)] = value;\n    });\n  }\n\n  if (values.length) {\n    wrapper.style.removeProperty(CLIP_PATH_PROPERTY);\n  }\n\n  return result;\n};\n","import {\n  ACTION_REMOVE,\n  CLASS_HIDDEN_MODE,\n  CLASS_SHOWN_MODE,\n  doc,\n  EVENT_BEFORE_MATCH,\n  FLOATING_DATA_ATTRIBUTE,\n  HIDDEN,\n  HIDDEN_CLASS,\n  HIDE_MODE,\n  MODE_HIDDEN_UNTIL_FOUND,\n  PLACEHOLDER,\n  SHOWN_CLASS,\n  UI_PREFIX,\n  UNTIL_FOUND,\n} from \"../constants/index.js\";\n\nexport default (\n  s,\n  instance,\n  target = instance.base,\n  subInstance = instance,\n) => {\n  const opts = instance.opts;\n  const mode = opts[HIDE_MODE];\n  if (mode === ACTION_REMOVE) {\n    if (s) {\n      if (opts.keepPlace) {\n        subInstance[PLACEHOLDER]?.replaceWith(target);\n        subInstance[PLACEHOLDER] = null;\n      } else {\n        subInstance._floatingParent?.append(target);\n      }\n    } else {\n      if (opts.keepPlace) {\n        target.replaceWith(\n          (subInstance[PLACEHOLDER] ||= doc.createComment(\n            UI_PREFIX + PLACEHOLDER + \":\" + target.id,\n          )),\n        );\n      } else {\n        const parent = target.parentElement;\n        if (parent) {\n          subInstance._floatingParent = parent.hasAttribute(\n            FLOATING_DATA_ATTRIBUTE,\n          )\n            ? parent.parentElement\n            : parent;\n          target.remove();\n        }\n      }\n    }\n  } else if (mode !== CLASS_HIDDEN_MODE && mode !== CLASS_SHOWN_MODE) {\n    if (mode === MODE_HIDDEN_UNTIL_FOUND) {\n      if (s) {\n        target.removeAttribute(HIDDEN);\n        instance.off(target, EVENT_BEFORE_MATCH);\n      } else {\n        target.setAttribute(HIDDEN, UNTIL_FOUND);\n        instance.on(target, EVENT_BEFORE_MATCH, (event) => {\n          instance.show(target, { animated: false, event });\n        });\n      }\n    } else {\n      target.toggleAttribute(mode, !s);\n    }\n  }\n\n  target.classList.toggle(HIDDEN_CLASS, !s && mode === CLASS_HIDDEN_MODE);\n  target.classList.toggle(SHOWN_CLASS, s && mode === CLASS_SHOWN_MODE);\n\n  if (s) {\n    target[HIDDEN] = false;\n  }\n};\n","import {\n  EVENT_SHOW,\n  EVENT_HIDE,\n  ARROW,\n  doc,\n  EVENT_SHOWN,\n  EVENT_HIDDEN,\n  FLOATING,\n  EVENT_ACTION_OUTSIDE,\n  MODAL,\n  POPOVER_API_SUPPORTED,\n  POPOVER_API_MODE_MANUAL,\n} from \"../constants\";\nimport { getDataSelector } from \"../utils\";\nimport Floating from \"../Floating.js\";\nimport { closest, focus } from \"../dom/index.js\";\nimport addEscapeHide from \"./addEscapeHide.js\";\nimport callAutofocus from \"./callAutofocus.js\";\nimport toggleHideModeState from \"./toggleHideModeState.js\";\nimport { togglePreventScroll } from \"./index.js\";\n\nexport default (instance, { s, animated, silent, eventParams }) => {\n  const { transition, base, opts, toggler, emit, constructor, teleport } =\n    instance;\n  const name = constructor.NAME;\n  const target = instance[name];\n  const anchor = toggler ?? base;\n\n  s && toggleHideModeState(true, instance, target);\n\n  if (s) {\n    togglePreventScroll(instance, true);\n    instance[FLOATING] = new Floating({\n      teleport,\n      base,\n      anchor,\n      target,\n      arrow: target.querySelector(getDataSelector(name, ARROW)),\n      opts,\n      name,\n      instance,\n    }).init();\n  }\n\n  !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams);\n\n  const wrapper = instance[FLOATING]?.wrapper;\n\n  if (!s && wrapper?.matches(\":\" + MODAL)) {\n    wrapper.close();\n    if (POPOVER_API_SUPPORTED) {\n      wrapper.popover = POPOVER_API_MODE_MANUAL;\n      wrapper.showPopover();\n    } else {\n      animated = false;\n    }\n  }\n\n  const promise = transition?.run(s, animated);\n\n  if (s && opts.outsideHide) {\n    instance.on(\n      doc,\n      EVENT_ACTION_OUTSIDE,\n      (event) =>\n        !closest(event.target, [toggler ?? base, target]) &&\n        instance.hide({ event }),\n    );\n  } else {\n    instance.off(doc, EVENT_ACTION_OUTSIDE);\n  }\n\n  opts.escapeHide &&\n    addEscapeHide(\n      instance,\n      s,\n      instance.toggler ? [instance.toggler, instance.base] : doc,\n    );\n\n  if (s) {\n    opts.autofocus && callAutofocus(instance);\n  } else {\n    !s && target.contains(doc.activeElement) && focus(toggler);\n  }\n\n  (async () => {\n    if (!s) {\n      if (animated) {\n        await promise;\n      }\n      if (instance.placeholder) {\n        wrapper.replaceWith(instance.placeholder);\n      }\n      instance[FLOATING]?.destroy();\n      instance[FLOATING] = null;\n      toggleHideModeState(false, instance, target);\n      togglePreventScroll(instance, false);\n    }\n    emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams);\n  })();\n\n  return promise;\n};\n","import { APPEAR, EVENT_INIT } from \"../constants\";\nimport {\n  callOrReturn,\n  checkHash,\n  getBooleanDataAttrValue,\n  isShown,\n} from \"../utils\";\nimport toggleHideModeState from \"./toggleHideModeState.js\";\n\nexport default (instance, target = instance.base, stateElem = target) => {\n  const { opts, show, id } = instance;\n\n  instance.instances.set(id, instance);\n  instance.isInit = true;\n  instance.emit(EVENT_INIT);\n\n  const shown =\n    callOrReturn(\n      (opts.hashNavigation && checkHash(id)) || opts.shown,\n      instance,\n    ) ?? isShown(stateElem, opts.hideMode);\n\n  if (shown) {\n    show({\n      animated: !!(\n        getBooleanDataAttrValue(target, APPEAR) ??\n        opts.appear ??\n        instance._fromHTML\n      ),\n      ignoreConditions: true,\n      ignoreAutofocus: !instance._fromHTML,\n      __initial: true,\n    });\n  } else {\n    toggleHideModeState(false, instance, stateElem);\n  }\n\n  return instance;\n};\n","import { CONFIRM, EVENT_CLICK, UI_EVENT_PREFIX } from \"../constants/index.js\";\nimport { closest } from \"../dom/index.js\";\n\nexport default (s, instance) => {\n  if (s) {\n    instance.on(instance.base, EVENT_CLICK + UI_EVENT_PREFIX, (event) => {\n      if (instance.opts[CONFIRM]) {\n        const trigger = closest(event.target, instance.opts[CONFIRM]);\n        trigger && instance.emit(CONFIRM, { event, trigger });\n      }\n    });\n  } else {\n    instance.off(instance.base, EVENT_CLICK + UI_EVENT_PREFIX);\n  }\n};\n","import {\n  OPTION_HASH_NAVIGATION,\n  PRIVATE_PREFIX,\n  UI_EVENT_PREFIX,\n} from \"../constants/index.js\";\nimport { checkHash } from \"../utils/index.js\";\n\nconst EVENT_HASHCHANGE = \"hashchange\" + UI_EVENT_PREFIX;\nexport default (instance) => {\n  if (instance.opts[OPTION_HASH_NAVIGATION]) {\n    instance[PRIVATE_PREFIX + OPTION_HASH_NAVIGATION] = true;\n    instance.on(window, EVENT_HASHCHANGE, (event) => {\n      if (checkHash(instance.id)) {\n        instance.show({ event });\n      }\n    });\n  } else if (instance[PRIVATE_PREFIX + OPTION_HASH_NAVIGATION]) {\n    instance.off(window, EVENT_HASHCHANGE);\n    instance[PRIVATE_PREFIX + OPTION_HASH_NAVIGATION] = false;\n  }\n};\n","import { DEFAULT } from \"../constants/index.js\";\nimport { isObject, isString } from \"../is/index.js\";\nimport { upperFirst } from \"../utils/index.js\";\nconst DEFAULT_PREFIX = upperFirst(DEFAULT);\nexport default ({ opts, constructor }, name, property = false, defaults) => {\n  const defaultValue = constructor[DEFAULT_PREFIX + upperFirst(name)];\n  let value = opts[name];\n  if (defaults && value && isString(value)) {\n    value = defaults[value];\n  }\n  if (isObject(value)) {\n    opts[name] = { ...defaultValue, ...value };\n  } else if (value) {\n    opts[name] = { ...defaultValue };\n    if (property) {\n      opts[name][property] = value;\n    }\n  }\n  return opts;\n};\n","import { arrayFrom } from \"../utils/index.js\";\n\nconst FLOATING_IS_INTERACTED = \":is(:hover,:focus-within)\";\nexport default function (instance, s) {\n  const floating = instance.floating;\n\n  if (!floating) return;\n  let parentFloating = floating.parentFloating;\n\n  if (s) {\n    while (parentFloating) {\n      parentFloating.instance.show();\n      parentFloating = parentFloating.parentFloating;\n    }\n  } else {\n    if (\n      parentFloating &&\n      !parentFloating.base.matches(FLOATING_IS_INTERACTED) &&\n      !parentFloating.anchor.matches(FLOATING_IS_INTERACTED)\n    ) {\n      parentFloating.instance.hide();\n    }\n\n    let floatings = arrayFrom(floating.floatings);\n    while (floatings.length) {\n      for (const childFloating of floatings) {\n        if (childFloating.base.matches(FLOATING_IS_INTERACTED)) {\n          instance.isOpen = true;\n          return true;\n        }\n        floatings = arrayFrom(childFloating.floatings);\n      }\n    }\n  }\n}\n","import Base from \"../Base.js\";\nexport default (instance) => {\n  instance.breakpoints?.destroy();\n  instance.instances.delete(instance.id);\n  Base.allInstances.delete(instance);\n};\n","import {\n  ACTION_PREVENT,\n  doc,\n  OPTION_PREVENT_SCROLL,\n  PX,\n  ROOT,\n  ROOT_ELEM,\n  SCROLL,\n  UI_PREFIX,\n  VAR_UI_PREFIX,\n  WIDTH,\n} from \"../constants/index.js\";\nimport { toggleClass } from \"../dom/index.js\";\nimport { arrayFrom } from \"../utils/index.js\";\nimport Base from \"../Base.js\";\n\nconst PROPERTY_ROOT_SCROLLBAR_WIDTH =\n  VAR_UI_PREFIX + ROOT + \"-scrollbar-\" + WIDTH;\n\nconst updateBodyScrollbarWidth = (s) => {\n  return s\n    ? ROOT_ELEM.style.setProperty(\n        PROPERTY_ROOT_SCROLLBAR_WIDTH,\n        window.innerWidth - doc.documentElement.clientWidth + PX,\n      )\n    : ROOT_ELEM.style.removeProperty(PROPERTY_ROOT_SCROLLBAR_WIDTH);\n};\n\nexport default (instance, s) => {\n  const hasPreventScrollInstances = arrayFrom(Base.allInstances).find(\n    (instance) => instance.opts[OPTION_PREVENT_SCROLL] && instance.isOpen,\n  );\n  if ((s && hasPreventScrollInstances) || (!s && !hasPreventScrollInstances)) {\n    updateBodyScrollbarWidth(s);\n    toggleClass(ROOT_ELEM, UI_PREFIX + ACTION_PREVENT + \"-\" + SCROLL, s);\n  }\n};\n","import {\n  ROLE,\n  BUTTON,\n  ARIA_CONTROLS,\n  ARIA_EXPANDED,\n  DEFAULT_OPTIONS,\n  EVENT_BEFORE_INIT,\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDE,\n  EVENT_HIDDEN,\n  EVENT_CLICK,\n  CLASS_ACTIVE,\n  CLASS_ACTIVE_SUFFIX,\n  TOGGLER,\n  HIDE_MODE,\n  ACTION_REMOVE,\n  HIDDEN,\n  TRANSITION,\n  TELEPORT,\n  OPTION_HASH_NAVIGATION,\n  OPTION_AUTODESTROY,\n  UNTIL_FOUND,\n  MODE_HIDDEN_UNTIL_FOUND,\n} from \"./helpers/constants\";\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\nimport {\n  removeAttribute,\n  removeClass,\n  setAttribute,\n  toggleClass,\n} from \"./helpers/dom\";\nimport {\n  normalizeToggleParameters,\n  replaceWord,\n  arrayUnique,\n  arrayFrom,\n  getEventsPrefix,\n  getOptionElems,\n  getDefaultToggleSelector,\n  updateOptsByData,\n  awaitPromise,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  callShowInit,\n  addHashNavigation,\n  toggleHideModeState,\n} from \"./helpers/modules\";\n\nconst COLLAPSE = \"collapse\";\n\nclass Collapse extends ToggleMixin(Base, COLLAPSE) {\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    eventPrefix: getEventsPrefix(COLLAPSE),\n    [OPTION_HASH_NAVIGATION]: false,\n    dismiss: true,\n    [OPTION_AUTODESTROY]: false,\n    [TOGGLER]: ({ id }) => getDefaultToggleSelector(id, true),\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [COLLAPSE + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  init() {\n    if (this.isInit) return;\n\n    this.base.id = this.id;\n\n    this.emit(EVENT_BEFORE_INIT);\n\n    this._update();\n\n    return callShowInit(this);\n  }\n  _update() {\n    const { base, opts } = this;\n\n    if (opts[HIDE_MODE] === HIDDEN && base[HIDDEN] === UNTIL_FOUND) {\n      opts[HIDE_MODE] = MODE_HIDDEN_UNTIL_FOUND;\n    }\n\n    updateOptsByData(\n      opts,\n      base,\n      [HIDE_MODE, OPTION_HASH_NAVIGATION, OPTION_AUTODESTROY],\n      [OPTION_HASH_NAVIGATION, OPTION_AUTODESTROY],\n    );\n\n    this[TELEPORT] = Teleport.createOrUpdate(\n      this[TELEPORT],\n      base,\n      opts[TELEPORT],\n    )?.move(this);\n\n    if (opts[HIDE_MODE] === ACTION_REMOVE && base[HIDDEN]) {\n      toggleHideModeState(false, this);\n    }\n\n    this[TRANSITION] = Transition.createOrUpdate(\n      this[TRANSITION],\n      base,\n      opts[TRANSITION],\n      { cssVariables: true },\n    );\n\n    this.updateTriggers();\n\n    addDismiss(this);\n    addHashNavigation(this);\n  }\n  destroy(destroyOpts) {\n    // eslint-disable-next-line prefer-const\n    let { opts, togglers, base } = this;\n\n    if (!this.isInit) return;\n\n    this.emit(EVENT_BEFORE_DESTROY);\n\n    if (opts.a11y) {\n      const otherTogglers = arrayFrom(this.instances.values())\n        .filter((item) => item !== this)\n        .flatMap((item) => item.togglers.filter((t) => togglers.includes(t)));\n      if (otherTogglers.length) {\n        togglers = togglers.filter((toggler) => {\n          if (!otherTogglers.includes(toggler)) {\n            return true;\n          } else {\n            setAttribute(toggler, ARIA_CONTROLS, (v) =>\n              replaceWord(v, this.id),\n            );\n          }\n        });\n      }\n    }\n\n    opts.a11y && removeAttribute(togglers, ARIA_CONTROLS, ARIA_EXPANDED, ROLE);\n    removeClass(base, opts[COLLAPSE + CLASS_ACTIVE_SUFFIX]);\n\n    baseDestroy(this, destroyOpts);\n\n    return this;\n  }\n\n  updateTriggers() {\n    const { opts, id } = this;\n\n    return (this.togglers = getOptionElems(this, opts[TOGGLER]).map(\n      (toggler) => {\n        if (!this.togglers?.includes(toggler)) {\n          if (opts.a11y) {\n            setAttribute(toggler, ARIA_CONTROLS, (v) =>\n              v ? arrayUnique(v.split(\" \").concat(id)).join(\" \") : id,\n            );\n            if (toggler.tagName !== BUTTON.toLowerCase()) {\n              setAttribute(toggler, ROLE, BUTTON);\n            }\n          }\n          toggleClass(\n            toggler,\n            opts[TOGGLER + CLASS_ACTIVE_SUFFIX],\n            !!this.isOpen,\n          );\n          this.on(toggler, EVENT_CLICK, (event) => {\n            event.preventDefault();\n            this.toggle(null, { trigger: toggler, event });\n          });\n        }\n        return toggler;\n      },\n    ));\n  }\n  async toggle(s, params) {\n    const { base, togglers, opts, emit, isOpen, isAnimating } = this;\n    const { awaitAnimation, a11y } = opts;\n    const { animated, silent, trigger, event, ignoreConditions } =\n      normalizeToggleParameters(params);\n\n    s ??= !isOpen;\n\n    if (!ignoreConditions && ((awaitAnimation && isAnimating) || s === isOpen))\n      return;\n\n    this.isOpen = s;\n\n    if (isAnimating && !awaitAnimation) {\n      await this[TRANSITION].cancel();\n    }\n\n    const eventParams = { trigger, event };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    s && toggleHideModeState(true, this);\n\n    !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams);\n\n    const promise = this[TRANSITION]?.run(s, animated);\n\n    a11y && setAttribute(togglers, ARIA_EXPANDED, !!s);\n    toggleClass(togglers, opts[TOGGLER + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(base, opts[COLLAPSE + CLASS_ACTIVE_SUFFIX], s);\n\n    awaitPromise(promise, () => {\n      !s && toggleHideModeState(false, this);\n      !silent && emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams);\n      if (!s && opts[OPTION_AUTODESTROY]) {\n        opts[OPTION_AUTODESTROY] && this.destroy({ remove: true });\n      }\n    });\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Collapse;\n","import {\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_BEFORE_HIDE,\n  EVENT_CLICK,\n  EVENT_KEYDOWN,\n  CLASS_ACTIVE,\n  ARIA_CONTROLS,\n  DROPDOWN,\n  CLICK,\n  KEY_ENTER,\n  KEY_SPACE,\n  KEY_END,\n  KEY_HOME,\n  KEY_ARROW_LEFT,\n  KEY_ARROW_UP,\n  KEY_ARROW_RIGHT,\n  KEY_ARROW_DOWN,\n  DEFAULT_FLOATING_OPTIONS,\n  DEFAULT_OPTIONS,\n  ARIA_EXPANDED,\n  KEY_TAB,\n  TOGGLER,\n  CLASS_ACTIVE_SUFFIX,\n  doc,\n  HIDE_MODE,\n  TELEPORT,\n  TRANSITION,\n  TRIGGER,\n  ITEM,\n  LEFT,\n  RIGHT,\n  DOWN,\n  UP,\n  OPTION_PREVENT_SCROLL,\n} from \"./helpers/constants\";\n\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport {\n  toggleClass,\n  removeClass,\n  removeAttribute,\n  setAttribute,\n  closest,\n  is,\n} from \"./helpers/dom\";\nimport Transition from \"./helpers/Transition.js\";\nimport {\n  normalizeToggleParameters,\n  isUnfocusable,\n  getDataSelector,\n  getDefaultToggleSelector,\n  getOptionElems,\n  getOptionElem,\n  getEventsPrefix,\n  updateOptsByData,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  toggleOnInterection,\n  floatingTransition,\n  callShowInit,\n  checkFloatings,\n  togglePreventScroll,\n} from \"./helpers/modules\";\nimport Teleport from \"./helpers/Teleport.js\";\nimport { isFunction } from \"./helpers/is/index.js\";\n\nconst DIRECTIONS = {\n  [KEY_ARROW_LEFT]: LEFT,\n  [KEY_ARROW_UP]: UP,\n  [KEY_ARROW_RIGHT]: RIGHT,\n  [KEY_ARROW_DOWN]: DOWN,\n  x: [LEFT, RIGHT],\n  y: [UP, DOWN],\n};\n\nclass Dropdown extends ToggleMixin(Base, DROPDOWN) {\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    ...DEFAULT_FLOATING_OPTIONS,\n    eventPrefix: getEventsPrefix(DROPDOWN),\n    itemClickHide: true,\n    arrowActivation: \"y\",\n    autofocus: true,\n    items: getDataSelector(DROPDOWN + \"-\" + ITEM),\n    trigger: CLICK,\n    [TOGGLER]: null,\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [DROPDOWN + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [OPTION_PREVENT_SCROLL]: false,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  init() {\n    if (this.isInit) return;\n\n    this.base.id = this.id;\n\n    this._update();\n\n    const { toggler, base, show, on } = this;\n\n    on(base, EVENT_KEYDOWN, this._onKeydown.bind(this));\n    on(toggler, EVENT_KEYDOWN, async (event) => {\n      let arrowActivation = this.opts.arrowActivation;\n      const { keyCode } = event;\n\n      if (DIRECTIONS[arrowActivation]) {\n        arrowActivation = DIRECTIONS[arrowActivation];\n      }\n\n      const arrowActivated = arrowActivation.includes(DIRECTIONS[keyCode]);\n\n      if (arrowActivated) {\n        event.preventDefault();\n        if (!this.isOpen) {\n          await show({ event, trigger: toggler });\n        }\n        if (this.isAnimating && !this.isOpen) return;\n        this.focusableElems\n          .at(keyCode === KEY_ARROW_UP || keyCode === KEY_ARROW_LEFT ? -1 : 0)\n          ?.focus();\n      }\n    });\n\n    this[TELEPORT] = new Teleport(base, { disableAttributes: true });\n\n    return callShowInit(this);\n  }\n  _update() {\n    const { base, opts, on, off, hide } = this;\n    updateOptsByData(\n      opts,\n      base,\n      [TRIGGER, HIDE_MODE, OPTION_PREVENT_SCROLL],\n      [OPTION_PREVENT_SCROLL],\n    );\n\n    this[TRANSITION] = Transition.createOrUpdate(\n      this[TRANSITION],\n      base,\n      opts[TRANSITION],\n    );\n\n    this.updateToggler();\n\n    if (opts.itemClickHide) {\n      on(base, EVENT_CLICK, async (event) => {\n        const trigger = closest(event.target, this.focusableElems);\n        if (\n          !trigger ||\n          (opts.itemClickHide !== true &&\n            (isFunction(opts.itemClickHide)\n              ? await !opts.itemClickHide({\n                  trigger,\n                  dropdown: this,\n                  event,\n                })\n              : !is(trigger, opts.itemClickHide)))\n        )\n          return;\n        hide({ event, trigger });\n      });\n    } else {\n      off(base, EVENT_CLICK);\n    }\n\n    toggleOnInterection(this);\n\n    addDismiss(this, base);\n  }\n  updateToggler() {\n    const { opts, id } = this;\n    const toggler = (this.toggler = getOptionElem(\n      this,\n      opts.toggler ?? getDefaultToggleSelector(id),\n    ));\n\n    if (!toggler) return;\n    opts.a11y && setAttribute(toggler, ARIA_CONTROLS, id);\n    return this;\n  }\n  get focusableElems() {\n    return getOptionElems(this, this.opts.items, this.dropdown).filter(\n      (elem) => !isUnfocusable(elem),\n    );\n  }\n  _onKeydown(event) {\n    const isControl = [\n      KEY_ENTER,\n      KEY_SPACE,\n      KEY_END,\n      KEY_HOME,\n      KEY_ARROW_LEFT,\n      KEY_ARROW_UP,\n      KEY_ARROW_RIGHT,\n      KEY_ARROW_DOWN,\n    ].includes(event.keyCode);\n    const { focusableElems, opts } = this;\n\n    if (!isControl && event.keyCode !== KEY_TAB) {\n      focusableElems\n        .find((elem) => elem.textContent.toLowerCase().startsWith(event.key))\n        ?.focus();\n      return;\n    }\n\n    const rtl = false;\n    const firstIndex = 0;\n    const lastIndex = focusableElems.length - 1;\n    const currentIndex = focusableElems.findIndex(\n      (elem) => elem === doc.activeElement,\n    );\n\n    const nextIndex = currentIndex + 1 > lastIndex ? 0 : currentIndex + 1;\n    const prevIndex = currentIndex > 0 ? currentIndex - 1 : lastIndex;\n\n    const prevCode = opts.horizontal ? KEY_ARROW_LEFT : KEY_ARROW_UP;\n    const nextCode = opts.horizontal ? KEY_ARROW_RIGHT : KEY_ARROW_DOWN;\n\n    if (isControl) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    switch (event.keyCode) {\n      case KEY_ENTER:\n      case KEY_SPACE:\n        focusableElems[currentIndex].click();\n        // hide({ event, trigger: event.target });\n        break;\n      case KEY_END:\n        focusableElems[rtl ? firstIndex : lastIndex].focus();\n        break;\n      case KEY_HOME:\n        focusableElems[rtl ? lastIndex : firstIndex].focus();\n        break;\n      case prevCode:\n        focusableElems[rtl ? nextIndex : prevIndex].focus();\n        break;\n      case nextCode:\n        focusableElems[rtl ? prevIndex : nextIndex].focus();\n        break;\n    }\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n    const { opts, toggler, base } = this;\n    this.emit(EVENT_BEFORE_DESTROY);\n    opts.a11y && removeAttribute(toggler, ARIA_CONTROLS, ARIA_EXPANDED);\n    removeClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX]);\n    removeClass(base, opts[DROPDOWN + CLASS_ACTIVE_SUFFIX]);\n    togglePreventScroll(this, false);\n    return baseDestroy(this, destroyOpts);\n  }\n\n  async toggle(s, params) {\n    const { isOpen, isAnimating, toggler, base, opts, emit } = this;\n    const { awaitAnimation, a11y } = opts;\n    const { animated, silent, trigger, event, ignoreConditions } =\n      normalizeToggleParameters(params);\n\n    s ??= !isOpen;\n\n    if (!ignoreConditions && ((awaitAnimation && isAnimating) || s === isOpen))\n      return;\n\n    this.isOpen = s;\n\n    if (checkFloatings(this, s)) return;\n\n    if (isAnimating && !awaitAnimation) {\n      await this[TRANSITION].cancel();\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    a11y && toggler.setAttribute(ARIA_EXPANDED, !!s);\n\n    const promise = floatingTransition(this, {\n      s,\n      animated,\n      silent,\n      eventParams,\n    });\n\n    toggleClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(base, opts[DROPDOWN + CLASS_ACTIVE_SUFFIX], s);\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Dropdown;\n","import {\n  DEFAULT_OPTIONS,\n  body,\n  ROLE,\n  CONTENT,\n  BACKDROP,\n  ARIA_LABELLEDBY,\n  ARIA_DESCRIBEDBY,\n  TABINDEX,\n  HIDE_MODE,\n  EVENT_SHOW,\n  EVENT_HIDE,\n  EVENT_CLICK,\n  EVENT_MOUSEDOWN,\n  EVENT_RIGHT_CLICK,\n  EVENT_HIDE_PREVENTED,\n  EVENT_BEFORE_INIT,\n  EVENT_HIDDEN,\n  EVENT_SHOWN,\n  OPTION_GROUP,\n  TITLE,\n  NAME,\n  EVENT_BEFORE_HIDE,\n  EVENT_BEFORE_SHOW,\n  CANCEL,\n  CONFIRM,\n  CLASS_ACTIVE,\n  TOGGLER,\n  CLASS_ACTIVE_SUFFIX,\n  DIALOG,\n  doc,\n  UI_EVENT_PREFIX,\n  POPOVER_API_SUPPORTED,\n  MODAL,\n  OPTION_TOP_LAYER,\n  OPTION_PREVENT_SCROLL,\n  POPOVER,\n  POPOVER_API_MODE_MANUAL,\n  DATA_UI_PREFIX,\n  ACTION_REMOVE,\n  HIDDEN,\n  TELEPORT,\n  TRANSITION,\n  PRIVATE_OPTION_CANCEL_ON_HIDE,\n  OPTION_HASH_NAVIGATION,\n  NONE,\n  OPTION_AUTODESTROY,\n  OPTION_MOVE_TO_ROOT,\n  BODY,\n} from \"./helpers/constants\";\nimport { isString, isElement, isFunction, isDialog } from \"./helpers/is\";\nimport {\n  getElements,\n  toggleClass,\n  removeClass,\n  focus,\n  closest,\n  setAttribute,\n  removeAttribute,\n} from \"./helpers/dom\";\nimport {\n  arrayFrom,\n  getDataSelector,\n  uuidGenerator,\n  normalizeToggleParameters,\n  getEventsPrefix,\n  getDefaultToggleSelector,\n  getOptionElem,\n  updateOptsByData,\n  awaitPromise,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  callAutofocus,\n  addEscapeHide,\n  callShowInit,\n  toggleConfirm,\n  addHashNavigation,\n  toggleHideModeState,\n  updateModule,\n  togglePreventScroll,\n} from \"./helpers/modules\";\nimport Base from \"./helpers/Base\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\nimport { FocusGuards } from \"./helpers/modules/index.js\";\n\nconst ARIA_SUFFIX = {\n  [ARIA_LABELLEDBY]: TITLE,\n  [ARIA_DESCRIBEDBY]: \"description\",\n};\n\nclass Dialog extends ToggleMixin(Base, DIALOG) {\n  static [PRIVATE_OPTION_CANCEL_ON_HIDE] = true;\n  static DefaultGroup = {\n    name: \"\",\n    awaitPrevious: true,\n    hidePrevious: true,\n  };\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    eventPrefix: getEventsPrefix(DIALOG),\n    escapeHide: true,\n    backdropHide: true,\n    [OPTION_HASH_NAVIGATION]: false,\n    returnFocus: true,\n    preventHide: false,\n    dismiss: true,\n    [OPTION_PREVENT_SCROLL]: true,\n    confirm: `[${DATA_UI_PREFIX + CONFIRM}],[${\n      DATA_UI_PREFIX + CONFIRM\n    }=\"${DIALOG}\"]`,\n    title: getDataSelector(DIALOG, ARIA_SUFFIX[ARIA_LABELLEDBY]),\n    description: getDataSelector(DIALOG, ARIA_SUFFIX[ARIA_DESCRIBEDBY]),\n    group: \"\",\n    awaitAnimation: false,\n    [CONTENT]: getDataSelector(DIALOG, CONTENT),\n    [BACKDROP]: getDataSelector(DIALOG, BACKDROP),\n    [TOGGLER]: true,\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [DIALOG + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [CONTENT + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [BACKDROP + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n\n    [OPTION_AUTODESTROY]: false,\n\n    autofocus: true,\n    focusTrap: true,\n\n    modal: true,\n    topLayer: true,\n    root: BODY,\n    moveToRoot: true,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n\n  _update() {\n    const { base, opts, id, on } = this;\n    updateOptsByData(\n      opts,\n      base,\n      [\n        MODAL,\n        BACKDROP,\n        OPTION_TOP_LAYER,\n        OPTION_PREVENT_SCROLL,\n        OPTION_HASH_NAVIGATION,\n        HIDE_MODE,\n        OPTION_GROUP,\n        OPTION_AUTODESTROY,\n        OPTION_MOVE_TO_ROOT,\n      ],\n      [\n        MODAL,\n        OPTION_TOP_LAYER,\n        OPTION_MOVE_TO_ROOT,\n        OPTION_PREVENT_SCROLL,\n        OPTION_HASH_NAVIGATION,\n        OPTION_AUTODESTROY,\n      ],\n    );\n    updateModule(this, OPTION_GROUP, NAME);\n\n    let backdrop;\n    if (isString(opts[BACKDROP])) {\n      backdrop = (opts[BACKDROP][0] === \"#\" ? doc : base).querySelector(\n        opts[BACKDROP],\n      );\n    }\n\n    this[BACKDROP] = backdrop;\n\n    this[CONTENT] = getOptionElem(this, opts[CONTENT], base);\n\n    const isDialogElem = isDialog(base);\n\n    this[TELEPORT] = Teleport.createOrUpdate(\n      this[TELEPORT],\n      base,\n      opts.moveToRoot ? opts.root : false,\n      {\n        disableAttributes: true,\n      },\n    )?.move(this);\n\n    if (opts[HIDE_MODE] === ACTION_REMOVE && base[HIDDEN]) {\n      toggleHideModeState(false, this);\n    }\n\n    this[TRANSITION] = Transition.createOrUpdate(\n      this[TRANSITION],\n      this[CONTENT],\n      opts[TRANSITION],\n    );\n\n    this._togglers =\n      opts.toggler === true ? getDefaultToggleSelector(id) : opts.toggler;\n\n    if (isDialogElem) {\n      on(base, CANCEL + UI_EVENT_PREFIX, (e) => e.preventDefault());\n    } else if (opts.a11y) {\n      base.setAttribute(TABINDEX, -1);\n      base.setAttribute(ROLE, DIALOG);\n    }\n\n    base.popover =\n      opts.topLayer && (!isDialogElem || !opts.modal) && POPOVER_API_SUPPORTED\n        ? POPOVER_API_MODE_MANUAL\n        : null;\n\n    addHashNavigation(this);\n    addDismiss(this);\n  }\n  init() {\n    const { opts, isInit, base, on, emit, hide, toggle } = this;\n\n    if (isInit) return;\n\n    this.base.id = this.id;\n\n    emit(EVENT_BEFORE_INIT);\n\n    this._update();\n    this.updateAriaTargets();\n\n    on(\n      base,\n      [\n        EVENT_CLICK,\n        opts.backdropHide &&\n          (opts.backdropHide?.rightClick ?? true) &&\n          EVENT_RIGHT_CLICK,\n      ],\n      (event) => {\n        if (\n          this.opts.backdropHide &&\n          !this[CONTENT].contains(event.target) &&\n          !this._mousedownTarget\n        ) {\n          hide({ event });\n          emit(CANCEL, { event });\n        }\n        this._mousedownTarget = null;\n      },\n    );\n\n    on(body, EVENT_CLICK + UI_EVENT_PREFIX, (event) => {\n      const togglers = this._togglers;\n      const trigger = isString(togglers)\n        ? event.target.closest(togglers)\n        : closest(event.target, togglers);\n      if (trigger) {\n        event.preventDefault();\n        toggle(null, { trigger, event });\n      }\n    });\n\n    return callShowInit(this);\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n\n    removeClass(this._togglers, this.opts[TOGGLER + CLASS_ACTIVE_SUFFIX]);\n    [DIALOG, CONTENT, BACKDROP].forEach((name) =>\n      removeClass(this[name], this.opts[name + CLASS_ACTIVE_SUFFIX]),\n    );\n\n    this.focusGuards?.destroy();\n    this.focusGuards = null;\n    this.placeholder?.replaceWith(this.base);\n\n    this.isOpen = false;\n\n    this[DIALOG].hidePopover?.();\n    this[DIALOG].close?.();\n    this[DIALOG].popover = null;\n\n    togglePreventScroll(this, false);\n\n    this.opts.a11y &&\n      removeAttribute(\n        this.base,\n        TABINDEX,\n        ROLE,\n        ARIA_LABELLEDBY,\n        ARIA_DESCRIBEDBY,\n      );\n\n    baseDestroy(this, destroyOpts);\n    return this;\n  }\n\n  updateAriaTargets() {\n    const { base, opts } = this;\n    for (const name of [ARIA_LABELLEDBY, ARIA_DESCRIBEDBY]) {\n      const suffix = ARIA_SUFFIX[name];\n      let elem = opts[suffix];\n      if (isString(elem)) {\n        elem = getOptionElem(this, elem, base);\n      }\n      if (!isElement(elem)) {\n        elem = null;\n      }\n      this[suffix] = elem;\n      if (!elem) return;\n      const id = elem ? (elem.id ||= uuidGenerator()) : elem;\n      setAttribute(base, name, id);\n    }\n    return this;\n  }\n\n  async toggle(s, params) {\n    const {\n      opts,\n      isOpen,\n      emit,\n      on,\n      off,\n      isAnimating,\n      base,\n      content,\n      backdrop,\n    } = this;\n\n    let optReturnFocusAwait =\n      opts.returnFocus && (opts.returnFocus?.await ?? opts.group.awaitPrevious);\n\n    const {\n      animated,\n      silent,\n      trigger,\n      event,\n      ignoreConditions,\n      ignoreAutofocus,\n      __initial,\n    } = normalizeToggleParameters(params);\n\n    s = !!(s ?? !isOpen);\n\n    if (\n      !ignoreConditions &&\n      ((opts.awaitAnimation && isAnimating) || s === isOpen)\n    )\n      return;\n\n    let groupClosingFinish;\n    if (!s && opts.group) {\n      this.groupClosing = new Promise((resolve) => {\n        groupClosingFinish = resolve;\n      });\n    }\n\n    if (isAnimating && !opts.awaitAnimation) {\n      await this[TRANSITION]?.cancel();\n    }\n\n    const eventParams = { trigger, event };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    if (\n      !s &&\n      opts.preventHide &&\n      (isFunction(opts.preventHide)\n        ? !(await opts.preventHide(this, eventParams))\n        : opts.preventHide)\n    ) {\n      this.groupClosing = false;\n      return emit(EVENT_HIDE_PREVENTED, eventParams);\n    }\n\n    this.isOpen = s;\n\n    toggleConfirm(s, this);\n\n    const backdropIsOpen = arrayFrom(this.instances.values()).find(\n      (instance) =>\n        instance !== this && instance.isOpen && instance[BACKDROP] === backdrop,\n    );\n\n    const openGroupDialogs = this.groupDialogs.filter(\n      ({ isOpen, opts }) => opts.group && isOpen,\n    );\n    if (s) {\n      if (openGroupDialogs.length > 1) {\n        const promises = Promise.allSettled(\n          openGroupDialogs\n            .filter((m) => m !== this)\n            .map((instance) => {\n              !instance.groupClosing && instance.hide();\n              return instance.groupClosing;\n            }),\n        );\n        if (opts.group.awaitPrevious) {\n          await promises;\n        }\n      }\n    } else if (!s && !openGroupDialogs.length) {\n      optReturnFocusAwait = false;\n    }\n\n    s && toggleHideModeState(true, this);\n\n    !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams);\n\n    const promise = this[TRANSITION]?.run(s, animated);\n\n    if (s) {\n      if (opts.returnFocus) {\n        this.returnFocusElem ||= doc.activeElement;\n      }\n      this._toggleApi(true);\n    }\n\n    toggleClass(\n      getElements(this._togglers),\n      opts[TOGGLER + CLASS_ACTIVE_SUFFIX],\n      s,\n    );\n    toggleClass(base, opts[DIALOG + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(content, opts[CONTENT + CLASS_ACTIVE_SUFFIX], s);\n    if (!backdropIsOpen) {\n      toggleClass(backdrop, opts[BACKDROP + CLASS_ACTIVE_SUFFIX], s);\n    }\n\n    if (__initial && !animated && backdrop) {\n      backdrop.style.transition = NONE;\n      backdrop.offsetWidth;\n      backdrop.style.transition = \"\";\n    }\n\n    s && togglePreventScroll(this, true);\n\n    if (!s && !optReturnFocusAwait) {\n      this._toggleApi(false);\n      this.returnFocus();\n    }\n\n    opts.escapeHide && addEscapeHide(this, s, base);\n\n    if (s) {\n      !ignoreAutofocus && opts.autofocus && callAutofocus(this);\n      on(content, EVENT_MOUSEDOWN + UI_EVENT_PREFIX, (e) => {\n        this._mousedownTarget = e.target;\n      });\n    } else {\n      this._mousedownTarget = null;\n      off(content, EVENT_MOUSEDOWN + UI_EVENT_PREFIX);\n      this.returnFocusElem = null;\n    }\n\n    awaitPromise(promise, () => {\n      if (!s) {\n        if (optReturnFocusAwait) {\n          this._toggleApi(false);\n          this.returnFocus();\n        }\n        toggleHideModeState(false, this);\n        togglePreventScroll(this, false);\n      }\n\n      !silent && emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams);\n\n      if (!s) {\n        opts[OPTION_AUTODESTROY] && this.destroy({ remove: true });\n        this.groupClosing = false;\n        groupClosingFinish?.();\n      }\n    });\n\n    animated && opts.awaitAnimation && (await promise);\n\n    return this;\n  }\n  _toggleApi(s) {\n    const { base, opts } = this;\n    const baseIsDialog = isDialog(base);\n    if (s) {\n      const isModal = baseIsDialog && opts.modal;\n      const isPopover = opts.topLayer && POPOVER_API_SUPPORTED;\n\n      if (baseIsDialog) {\n        if (isModal) {\n          if (base.open) base.close();\n          base.showModal();\n          Dialog.dispatchTopLayer(MODAL);\n        } else {\n          if (isPopover) {\n            base.showPopover();\n            base.open = true;\n            Dialog.dispatchTopLayer(POPOVER);\n          } else {\n            base.show();\n          }\n        }\n      } else if (isPopover) {\n        base.showPopover();\n        Dialog.dispatchTopLayer(POPOVER);\n      }\n      if (opts.focusTrap && !isModal) {\n        this.focusGuards = new FocusGuards(base);\n      }\n    } else {\n      base.close?.();\n      base.popover && base.hidePopover();\n      if (this.focusGuards) {\n        this.focusGuards?.destroy();\n        this.focusGuards = null;\n      }\n    }\n  }\n  returnFocus() {\n    if (this.opts.returnFocus) {\n      focus(this.returnFocusElem);\n    }\n  }\n\n  get groupDialogs() {\n    return arrayFrom(this.instances.values()).filter(\n      ({ opts }) => opts.group?.name === this.opts.group?.name,\n    );\n  }\n}\n\nexport default Dialog;\n","import {\n  EVENT_INIT,\n  EVENT_BEFORE_INIT,\n  EVENT_DESTROY,\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDE,\n  EVENT_HIDDEN,\n  EVENT_CLICK,\n  EVENT_KEYDOWN,\n  EVENT_FOCUS,\n  KEY_ENTER,\n  KEY_SPACE,\n  KEY_END,\n  KEY_HOME,\n  KEY_ARROW_LEFT,\n  KEY_ARROW_UP,\n  KEY_ARROW_RIGHT,\n  KEY_ARROW_DOWN,\n  ARIA_CONTROLS,\n  ARIA_LABELLEDBY,\n  ARIA_HIDDEN,\n  ARIA_EXPANDED,\n  ARIA_SELECTED,\n  ARIA_ORIENTATION,\n  ROLE,\n  BUTTON,\n  TABINDEX,\n  HIDDEN,\n  INERT,\n  DISABLED,\n  DATA_UI_PREFIX,\n  CLASS_ACTIVE,\n  ACTION_HIDE,\n  ACTION_SHOW,\n  ACTION_TOGGLE,\n  DEFAULT_OPTIONS,\n  HORIZONTAL,\n  VERTICAL,\n  A11Y,\n  OPTION_ARIA_HIDDEN,\n  CLASS_ACTIVE_SUFFIX,\n  ROLE_SUFFIX,\n  doc,\n  UI_PREFIX,\n  HIDE_MODE,\n  TRANSITION,\n  TELEPORT,\n  ACTION_REMOVE,\n  APPEAR,\n  OPTION_HASH_NAVIGATION,\n  ITEM,\n  REGION,\n  NONE,\n  EVENT_MOUSEDOWN,\n  HIDDEN_CLASS,\n  SHOWN_CLASS,\n  UNTIL_FOUND,\n  MODE_HIDDEN_UNTIL_FOUND,\n} from \"./helpers/constants\";\nimport Base from \"./helpers/Base.js\";\nimport {\n  isString,\n  isElement,\n  isNumber,\n  isFunction,\n  isArray,\n  isIterable,\n} from \"./helpers/is\";\nimport {\n  isUnfocusable,\n  callOrReturn,\n  getDataSelector,\n  checkHash,\n  without,\n  uuidGenerator,\n  normalizeToggleParameters,\n  getEventsPrefix,\n  kebabToCamel,\n  upperFirst,\n  getOptionElems,\n  isShown,\n  getBooleanDataAttrValue,\n  updateOptsByData,\n  awaitPromise,\n} from \"./helpers/utils\";\nimport {\n  toggleClass,\n  removeClass,\n  removeAttribute,\n  next,\n  focus,\n  parents,\n  setAttribute,\n} from \"./helpers/dom\";\nimport {\n  addDismiss,\n  destroyInstance,\n  toggleHideModeState,\n  updateModule,\n} from \"./helpers/modules\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\n\nconst TABLIST = \"tablist\";\nconst TAB = \"tab\";\nconst TABS = \"tabs\";\nconst TABPANEL = \"tabpanel\";\nconst ACCORDION = \"accordion\";\n\nconst ELEMS = [ITEM, TAB, TABPANEL];\nconst OPTION_TAB_ROLE = TAB + ROLE_SUFFIX;\nconst OPTION_TABPANEL_ROLE = TABPANEL + ROLE_SUFFIX;\nconst OPTION_TABPANEL_TABINDEX = TABPANEL + upperFirst(TABINDEX);\nconst OPTION_ARIA_ORIENTRATION = kebabToCamel(ARIA_ORIENTATION);\nconst OPTION_STATE_ATTRIBUTE = \"stateAttribute\";\nconst OPTION_ALWAYS_EXPANDED = \"alwaysExpanded\";\nconst OPTION_MULTI_EXPAND = \"multiExpand\";\n\nconst ACTION_INIT_TAB = \"initTab\";\nconst ACTION_DESTROY_TAB = \"destroyTab\";\n\nconst TABLIST_SECONDARY_METHODS = [\n  \"getTab\",\n  \"isTab\",\n  ACTION_INIT_TAB,\n  \"initTabs\",\n];\n\nconst DEFAULT_ACCORDION_OPTIONS = {\n  [OPTION_ALWAYS_EXPANDED]: false,\n  [HORIZONTAL]: false,\n  arrowActivation: false,\n  awaitPrevious: false,\n  a11y: ACCORDION,\n};\n\nconst A11Y_DEFAULTS = {\n  [ACCORDION]: {\n    [ROLE]: null,\n    [OPTION_TAB_ROLE]: BUTTON,\n    [OPTION_TABPANEL_ROLE]: REGION,\n    [OPTION_ARIA_ORIENTRATION]: false,\n    [OPTION_STATE_ATTRIBUTE]: ARIA_EXPANDED,\n    [TABINDEX]: false,\n    [OPTION_TABPANEL_TABINDEX]: false,\n  },\n  [TABS]: {\n    [ROLE]: TABLIST,\n    [OPTION_TAB_ROLE]: TAB,\n    [OPTION_TABPANEL_ROLE]: TABPANEL,\n    [OPTION_ARIA_ORIENTRATION]: true,\n    [OPTION_STATE_ATTRIBUTE]: ARIA_SELECTED,\n    [TABINDEX]: true,\n    [OPTION_TABPANEL_TABINDEX]: true,\n  },\n};\n\nclass Tablist extends Base {\n  static DefaultA11y = { ...A11Y_DEFAULTS[ACCORDION] };\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    eventPrefix: getEventsPrefix(TABLIST),\n    siblings: true,\n    [OPTION_MULTI_EXPAND]: false,\n    awaitAnimation: false,\n    keyboard: true,\n    [OPTION_HASH_NAVIGATION]: true,\n    rtl: false,\n    focusFilter: null,\n    dismiss: false,\n    [TAB]: getDataSelector(TABLIST, TAB),\n    [TABPANEL]: getDataSelector(TABLIST, TABPANEL),\n    [ITEM]: getDataSelector(TABLIST, ITEM),\n    [TAB + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [ITEM + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [TABPANEL + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    ...DEFAULT_ACCORDION_OPTIONS,\n  };\n  static _data = {};\n  static instances = new Map();\n  static get NAME() {\n    return TABLIST;\n  }\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  _update() {\n    const { base, tabs, lastShownTab, opts } = this;\n    const { a11y } = updateModule(this, A11Y, false, A11Y_DEFAULTS);\n\n    updateOptsByData(\n      opts,\n      base,\n      [\n        HIDE_MODE,\n        OPTION_HASH_NAVIGATION,\n        OPTION_ALWAYS_EXPANDED,\n        OPTION_MULTI_EXPAND,\n        HORIZONTAL,\n      ],\n      [\n        OPTION_HASH_NAVIGATION,\n        OPTION_ALWAYS_EXPANDED,\n        OPTION_MULTI_EXPAND,\n        HORIZONTAL,\n      ],\n    );\n\n    if (a11y) {\n      setAttribute(base, ROLE, a11y[ROLE]);\n      a11y[OPTION_ARIA_ORIENTRATION] &&\n        setAttribute(\n          base,\n          ARIA_ORIENTATION,\n          opts[HORIZONTAL] ? HORIZONTAL : VERTICAL,\n        );\n    }\n\n    const shown = lastShownTab?.index ?? opts.shown;\n\n    const tabWithState = tabs.map((tabObj, i) => {\n      const { tab, tabpanel, item, teleport } = tabObj;\n\n      if (a11y) {\n        removeAttribute(tab, ARIA_SELECTED, ARIA_EXPANDED);\n        setAttribute(tab, ARIA_CONTROLS, tabpanel.id);\n        setAttribute(tab, ROLE, a11y[OPTION_TAB_ROLE]);\n        if (!/BUTTON|A/.test(tab.nodeName) && !tab.hasAttribute(TABINDEX)) {\n          tab.setAttribute(TABINDEX, 0);\n        }\n        setAttribute(tabpanel, ROLE, a11y[OPTION_TABPANEL_ROLE]);\n        setAttribute(tabpanel, ARIA_LABELLEDBY, tab.id);\n        setAttribute(item, ROLE, NONE);\n      }\n\n      tabObj.teleport = Teleport.createOrUpdate(\n        teleport,\n        tabpanel,\n        opts.teleport,\n      )?.move(this, tabObj);\n\n      let isOpenTabpanel;\n      if (isFunction(shown)) {\n        isOpenTabpanel = shown(tabObj);\n      } else if (isArray(shown)) {\n        isOpenTabpanel = shown.some((val) => val === i || val === tabpanel.id);\n      } else if (shown !== null) {\n        isOpenTabpanel = tabpanel.id === shown || i === shown;\n      } else {\n        isOpenTabpanel = isShown(tabpanel, opts.hideMode);\n      }\n\n      return [isOpenTabpanel, tabObj];\n    });\n    const hasSelected = tabWithState.find(([isOpen]) => isOpen);\n    if (opts[OPTION_ALWAYS_EXPANDED] && !hasSelected) {\n      tabWithState[0][0] = true;\n    }\n    tabWithState.forEach(([isOpen, tabInstance]) => {\n      tabInstance[TRANSITION] = Transition.createOrUpdate(\n        tabInstance[TRANSITION],\n        tabInstance[TABPANEL],\n        opts[TRANSITION],\n        { cssVariables: true },\n      );\n      tabInstance.toggle(isOpen, {\n        animated:\n          getBooleanDataAttrValue(tabInstance[TABPANEL], APPEAR) ?? opts.appear,\n        silent: !isOpen,\n      });\n    });\n  }\n  init() {\n    const { isInit, emit } = this;\n    if (isInit) return;\n\n    this.base.id = this.id;\n\n    TABLIST_SECONDARY_METHODS.forEach(\n      (name) => (this[name] = this[name].bind(this)),\n    );\n\n    emit(EVENT_BEFORE_INIT);\n\n    this.tabs = [];\n    this.initTabs();\n\n    this._updateTabIndex();\n\n    this._update();\n\n    this.instances.set(this.id, this);\n    this.isInit = true;\n    return emit(EVENT_INIT);\n  }\n\n  destroy({ keepInstance = false, keepState = false } = {}) {\n    const {\n      tablist,\n      tabs,\n      opts: { a11y },\n      isInit,\n      off,\n      emit,\n    } = this;\n\n    if (!isInit) return;\n\n    emit(EVENT_BEFORE_DESTROY);\n\n    off(tabs);\n\n    if (a11y) {\n      removeAttribute(\n        tablist,\n        a11y[ROLE] && ROLE,\n        a11y[OPTION_ARIA_ORIENTRATION] && ARIA_ORIENTATION,\n      );\n    }\n\n    tabs.forEach((tab) => tab.destroy({ keepState }));\n\n    if (!keepInstance) {\n      destroyInstance(this);\n    }\n\n    this.isInit = false;\n\n    emit(EVENT_DESTROY);\n\n    return this;\n  }\n\n  initTabs() {\n    return getOptionElems(this, this.opts[TAB], this.tablist)\n      .map((tab) => {\n        for (const parent of parents(tab, null, this.tablist)) {\n          if (this.getTab(parent)) return;\n        }\n        return this.initTab(tab);\n      })\n      .filter(Boolean);\n  }\n  initTab(tab) {\n    if (this.getTab(tab)) return;\n\n    const { tabs, tablist, opts, shownTabs, on, off, emit } = this;\n    const index = tabs.length;\n\n    const item = isString(opts[ITEM])\n      ? tab.closest(opts[ITEM])\n      : callOrReturn(opts[ITEM], { tablist, tab, index });\n\n    const tabpanelId = tab.getAttribute(DATA_UI_PREFIX + TABLIST + \"-\" + TAB);\n\n    let tabpanel;\n    if (tabpanelId) {\n      tabpanel = doc.getElementById(tabpanelId);\n    } else if (isString(opts[TABPANEL])) {\n      if (opts.siblings) {\n        tabpanel = next(tab, opts[TABPANEL]);\n      }\n    } else if (isIterable(opts[TABPANEL])) {\n      tabpanel = opts[TABPANEL][index];\n    } else if (isFunction(opts[TABPANEL])) {\n      tabpanel = opts[TABPANEL]({ tablist, tab, index });\n    }\n\n    if (!tabpanel) return;\n\n    if (opts[HIDE_MODE] === HIDDEN && tabpanel[HIDDEN] === UNTIL_FOUND) {\n      opts[HIDE_MODE] = MODE_HIDDEN_UNTIL_FOUND;\n    }\n\n    const uuid = uuidGenerator();\n    const id = (tabpanel.id ||= uuid);\n    tab.id ||= uuid;\n\n    let isOpen;\n    if (shownTabs.length && !opts[OPTION_MULTI_EXPAND]) {\n      isOpen = false;\n    }\n    if (opts.hashNavigation && checkHash(id)) {\n      isOpen = true;\n    }\n\n    let isMouseDown;\n    on(tab, EVENT_FOCUS, (e) => {\n      !isMouseDown && this._onTabFocus(e);\n    });\n    on(tab, EVENT_KEYDOWN, (e) => this._onTabKeydown(e));\n    on(tab, EVENT_MOUSEDOWN, () => {\n      isMouseDown = true;\n      requestAnimationFrame(() => (isMouseDown = false));\n    });\n    on(tab, EVENT_CLICK, (event) => {\n      event.preventDefault();\n      this.toggle(tab, null, { event, trigger: tab });\n    });\n\n    const destroy = ({\n      cleanStyles = true,\n      remove = false,\n      keepState = false,\n    } = {}) => {\n      const opts = this.opts;\n      const a11y = opts.a11y;\n      if (a11y) {\n        removeAttribute(\n          tab,\n          ROLE,\n          TABINDEX,\n          ARIA_CONTROLS,\n          ARIA_EXPANDED,\n          a11y[OPTION_STATE_ATTRIBUTE],\n        );\n        removeAttribute(\n          tabpanel,\n          ROLE,\n          a11y[OPTION_TABPANEL_TABINDEX] && TABINDEX,\n          ARIA_LABELLEDBY,\n          a11y[OPTION_ARIA_HIDDEN] && ARIA_HIDDEN,\n          HIDDEN,\n          INERT,\n        );\n        removeAttribute(item, ROLE);\n      }\n\n      off(elems);\n      this.tabs = without(this.tabs, tabInstance);\n      if (cleanStyles) {\n        ELEMS.forEach((name) =>\n          removeClass(tabInstance[name], opts[name + CLASS_ACTIVE_SUFFIX]),\n        );\n        tabInstance[TRANSITION]?.destroy();\n        tabInstance[TELEPORT]?.destroy();\n      }\n\n      elems.forEach((elem) => {\n        if (!elem) return;\n\n        remove && elem.remove();\n\n        if (!keepState) {\n          removeClass(elem, [HIDDEN_CLASS, SHOWN_CLASS]);\n          removeAttribute(elem, HIDDEN, INERT);\n        }\n      });\n\n      emit(ACTION_DESTROY_TAB, tabInstance);\n    };\n\n    const toggleDisabled = (s = null) => {\n      const disabled = tab.toggleAttribute(DISABLED, s);\n\n      disabled && tabInstance.hide(false);\n\n      if (this.opts[OPTION_ALWAYS_EXPANDED]) {\n        const shownTabs = this.shownTabs;\n        if (\n          !shownTabs.length ||\n          (shownTabs.length === 1 && shownTabs[0].isDisabled)\n        ) {\n          this.show(this.firstActiveTabIndex, false);\n        }\n      }\n\n      return !disabled;\n    };\n\n    const elems = [tab, item, tabpanel].filter(Boolean);\n    const tabInstance = {\n      id,\n      uuid,\n      tab,\n      item,\n      tabpanel,\n      elems,\n      index,\n      transition: opts[TRANSITION]\n        ? new Transition(tabpanel, opts[TRANSITION])\n        : undefined,\n      destroy: destroy.bind(this),\n      toggleDisabled: toggleDisabled.bind(this),\n      isOpen,\n      get isDisabled() {\n        return tab.hasAttribute(DISABLED);\n      },\n      get initialPlaceNode() {\n        return (\n          tabInstance[TELEPORT]?.placeholder ??\n          tabInstance.placeholder ??\n          tabpanel\n        );\n      },\n    };\n\n    [ACTION_HIDE, ACTION_SHOW, ACTION_TOGGLE].forEach(\n      (action) => (tabInstance[action] = this[action].bind(this, tabInstance)),\n    );\n    tabInstance.is = this.isTab.bind(this, tabInstance);\n\n    addDismiss(this, tabpanel, tabInstance.hide);\n\n    if (opts[HIDE_MODE] === ACTION_REMOVE && tabpanel[HIDDEN]) {\n      toggleHideModeState(false, this, tabpanel, tabInstance);\n    }\n\n    tabs.push(tabInstance);\n\n    emit(ACTION_INIT_TAB, tabInstance);\n\n    return tabInstance;\n  }\n  isTab(tab, value) {\n    let result = false;\n    if (tab === value) {\n      result = true;\n    } else if (isElement(value)) {\n      result = tab.elems.includes(value);\n    } else if (isString(value)) {\n      result = tab.elems.some((elem) => elem.matches(value));\n    } else if (isNumber(value)) {\n      result = tab.index === value;\n    }\n    return result;\n  }\n  getTab(value) {\n    return this.tabs.find((tab) => tab.is(value));\n  }\n  _onTabFocus({ currentTarget }) {\n    const tabInstance = this.getTab(currentTarget);\n    if (!tabInstance || !this.focusFilter(tabInstance)) return;\n\n    this.opts.arrowActivation && !tabInstance.isOpen && tabInstance.show();\n\n    this.currentTabIndex = tabInstance.index;\n  }\n  _onTabKeydown(event) {\n    const tabInstance = this.getTab(event.currentTarget);\n    const currentIndex = this.tabs.indexOf(tabInstance);\n    const { keyboard, rtl, horizontal } = this.opts;\n    const { keyCode } = event;\n\n    if (\n      [KEY_ENTER, KEY_SPACE].includes(keyCode) &&\n      !/BUTTON|A/.test(tabInstance.tab.nodeName)\n    )\n      return tabInstance.toggle(null, { event, trigger: event.target });\n    if (KEY_END > keyCode || KEY_ARROW_DOWN < keyCode || !keyboard) return;\n\n    event.preventDefault();\n\n    const firstIndex = this.firstActiveTabIndex;\n    const lastIndex = this.lastActiveTabIndex;\n    const nextIndex = currentIndex + 1;\n    const prevIndex = currentIndex ? currentIndex - 1 : lastIndex;\n\n    const prevCode = horizontal ? KEY_ARROW_LEFT : KEY_ARROW_UP;\n    const nextCode = horizontal ? KEY_ARROW_RIGHT : KEY_ARROW_DOWN;\n\n    let index;\n    if (keyCode === KEY_END) {\n      index = rtl ? firstIndex : lastIndex;\n    } else if (keyCode === KEY_HOME) {\n      index = rtl ? lastIndex : firstIndex;\n    } else if (keyCode === prevCode) {\n      index = rtl ? nextIndex : prevIndex;\n    } else if (keyCode === nextCode) {\n      index = rtl ? prevIndex : nextIndex;\n    }\n    index != null && this._switchTab(index);\n  }\n  _switchTab(index) {\n    const tabs = this.tabs;\n    if (tabs[index] && !this.focusFilter(tabs[index])) {\n      this._switchTab(index > this.currentTabIndex ? index + 1 : index - 1);\n      return;\n    }\n    this.currentTabIndex =\n      index < this.firstActiveTabIndex\n        ? this.lastActiveTabIndex\n        : index >= tabs.length\n        ? this.firstActiveTabIndex\n        : index;\n\n    focus(tabs[this.currentTabIndex].tab);\n  }\n  _updateTabIndex(activeIndex) {\n    const { keyboard, a11y } = this.opts;\n    if (!keyboard || !a11y) return;\n    activeIndex ??= this.shownTabs[0]?.index ?? this.firstActiveTabIndex;\n    a11y &&\n      this.tabs.forEach(({ tab, tabpanel }, i) =>\n        setAttribute(\n          [a11y[TABINDEX] && tab, a11y[OPTION_TABPANEL_TABINDEX] && tabpanel],\n          TABINDEX,\n          i === activeIndex ? 0 : -1,\n        ),\n      );\n  }\n  focusFilter(tab) {\n    return (\n      !isUnfocusable(tab.tab) &&\n      (isFunction(this.opts.focusFilter) ? this.opts.focusFilter(tab) : true)\n    );\n  }\n  get shownTabs() {\n    return this.tabs.filter(({ isOpen }) => isOpen);\n  }\n  get firstActiveTabIndex() {\n    return this.tabs.find((tab) => this.focusFilter(tab))?.index;\n  }\n  get lastActiveTabIndex() {\n    return this.tabs.findLast((tab) => this.focusFilter(tab))?.index;\n  }\n\n  async toggle(elem, s, params) {\n    const { animated, silent, event, trigger } =\n      normalizeToggleParameters(params);\n    const tabInstance = this.getTab(elem);\n\n    if (!tabInstance) return;\n\n    const { opts, shownTabs, emit } = this;\n    const { a11y, awaitAnimation } = opts;\n    const { tab, isOpen, transition, index, tabpanel } = tabInstance;\n\n    s = !!(s ?? !isOpen);\n\n    s && this._updateTabIndex(index);\n\n    if (\n      s === isOpen ||\n      (awaitAnimation &&\n        transition.isAnimating &&\n        ((shownTabs.length <= 1 && !opts[OPTION_MULTI_EXPAND]) ||\n          opts[OPTION_MULTI_EXPAND])) ||\n      (isOpen && opts[OPTION_ALWAYS_EXPANDED] && !s && shownTabs.length < 2) ||\n      (s && !this.focusFilter(tabInstance))\n    )\n      return;\n\n    if (transition.isAnimating && !awaitAnimation) {\n      await transition.cancel();\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent &&\n      emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, tabInstance, eventParams);\n\n    tabInstance.isOpen = s;\n\n    if (!opts[OPTION_MULTI_EXPAND] && s) {\n      const animatedOrShownTabs = this.tabs.filter(\n        (tab) =>\n          tab !== tabInstance && (tab.transition.isAnimating || tab.isOpen),\n      );\n      for (const tab of animatedOrShownTabs) {\n        if (tab.isOpen && tab.transition.isAnimating) {\n          tab.hide(false);\n          tab.transition.cancel();\n          continue;\n        }\n        tab.hide(animated);\n        if (opts.awaitPrevious) {\n          await tab.transition?.getAwaitPromise();\n        }\n      }\n      if (s !== tabInstance.isOpen) return;\n    }\n\n    s && toggleHideModeState(true, this, tabpanel, tabInstance);\n\n    !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, tabInstance, eventParams);\n\n    const promise = transition?.run(s, animated);\n\n    ELEMS.forEach((elemName) =>\n      toggleClass(\n        tabInstance[elemName],\n        opts[elemName + CLASS_ACTIVE_SUFFIX],\n        s,\n      ),\n    );\n\n    if (a11y) {\n      a11y[OPTION_STATE_ATTRIBUTE] &&\n        setAttribute(tab, a11y[OPTION_STATE_ATTRIBUTE], !!s);\n    }\n\n    if (s) {\n      this.lastShownTab = tabInstance;\n      this.currentTabIndex ??= index;\n    }\n\n    awaitPromise(promise, () => {\n      !s && toggleHideModeState(false, this, tabpanel, tabInstance);\n      !silent && emit(s ? EVENT_SHOWN : EVENT_HIDDEN, tabInstance, eventParams);\n    });\n\n    animated && opts.awaitAnimation && (await promise);\n\n    return tabInstance;\n  }\n  show(elem, opts) {\n    return this.toggle(elem, true, opts);\n  }\n  hide(elem, opts) {\n    return this.toggle(elem, false, opts);\n  }\n  static show(elem, opts) {\n    return this.toggle(elem, true, opts);\n  }\n  static hide(elem, opts) {\n    return this.toggle(elem, false, opts);\n  }\n  static toggle(elem, s, params) {\n    for (const tablist of this.instances.values()) {\n      if (tablist.getTab(elem)) {\n        tablist.toggle(elem, s, params);\n        break;\n      }\n    }\n  }\n}\n\nTablist.data(UI_PREFIX + TABS, {\n  [OPTION_ALWAYS_EXPANDED]: true,\n  horizontal: true,\n  arrowActivation: true,\n  awaitPrevious: true,\n  a11y: TABS,\n});\n\nTablist.data(UI_PREFIX + ACCORDION, DEFAULT_ACCORDION_OPTIONS);\n\nexport default Tablist;\n","import {\n  UI_PREFIX,\n  PROGRESS,\n  EVENT_MOUSELEAVE,\n  EVENT_MOUSEENTER,\n  EVENT_FOCUSIN,\n  EVENT_FOCUSOUT,\n  EVENT_PAUSE,\n  EVENT_RESUME,\n  EVENT_RESET,\n  ACTION_PAUSE,\n  ACTION_RESUME,\n  ACTION_RESET,\n  ACTION_TOGGLE,\n  EVENT_VISIBILITY_CHANGE,\n  doc,\n} from \"./constants\";\nimport { callOrReturn, getOption, mergeDeep, getDataSelector } from \"./utils\";\nimport { EventHandler } from \"./EventHandler\";\nimport { isNumber } from \"./is\";\n\nclass Autoaction {\n  static Default = {\n    progressElem: getDataSelector(PROGRESS),\n    duration: 5000,\n    decimal: 4,\n    durationUpdate: null,\n    pauseOnMouse: true,\n    resetOnMouse: true,\n    pauseOnFocus: true,\n    resetOnFocus: true,\n    visibilityControl: false,\n    cssVariable: UI_PREFIX + PROGRESS,\n  };\n  constructor(elem, action, opts) {\n    const Default = this.constructor.Default;\n    opts = isNumber(opts)\n      ? { ...Default, duration: opts }\n      : mergeDeep(Default, opts);\n    const { on, off, emit } = new EventHandler();\n    Object.assign(this, { elem, action, on, off, emit, opts });\n    [\n      \"checkTime\",\n      ACTION_PAUSE,\n      ACTION_RESUME,\n      ACTION_RESET,\n      ACTION_TOGGLE,\n    ].forEach((action) => (this[action] = this[action].bind(this)));\n\n    this.progressElem = getOption(false, opts.progressElem, elem);\n\n    if (opts.visibilityControl) {\n      on(doc, EVENT_VISIBILITY_CHANGE, () => this.toggle(!doc.hidden));\n    }\n  }\n  toggleInterections(s) {\n    const { opts, elem, on, off, resume, pause, reset } = this;\n    const { pauseOnMouse, resetOnMouse, pauseOnFocus, resetOnFocus } = opts;\n\n    if (!pauseOnMouse && !resetOnMouse && !pauseOnFocus && !resetOnFocus)\n      return;\n\n    if (s) {\n      reset();\n      let interactedMouse, interactedFocus;\n      if (pauseOnFocus || resetOnFocus) {\n        on(elem, [EVENT_FOCUSIN, EVENT_FOCUSOUT], ({ type }) => {\n          interactedFocus = type === EVENT_FOCUSIN;\n          if (interactedFocus) {\n            resetOnFocus && reset();\n            pauseOnFocus && pause();\n          } else if (!interactedMouse) {\n            pauseOnFocus && resume();\n          }\n        });\n      }\n      if (pauseOnMouse || resetOnMouse) {\n        on(elem, [EVENT_MOUSEENTER, EVENT_MOUSELEAVE], ({ type }) => {\n          interactedMouse = type === EVENT_MOUSEENTER;\n          if (interactedMouse) {\n            resetOnMouse && reset();\n            pauseOnMouse && pause();\n          } else if (!interactedFocus) {\n            pauseOnMouse && resume();\n          }\n        });\n      }\n    } else {\n      off();\n    }\n    return this;\n  }\n  checkTime() {\n    const { opts, elem, progressElem, paused, _prevProgress } = this;\n    if (paused) return;\n    const current = performance.now();\n    this.timeCurrent = Math.round(current - this.timeBegin);\n    const time = opts.duration - this.timeCurrent;\n    const progress = +Math.max(time / opts.duration, 0).toFixed(opts.decimal);\n    this._prevProgress = progress;\n    if (progress && progress === _prevProgress) {\n      return requestAnimationFrame(this.checkTime);\n    }\n\n    if (opts.cssVariable) {\n      progressElem?.style.setProperty(\"--\" + opts.cssVariable, progress);\n    }\n\n    callOrReturn(opts.durationUpdate, { elem, time, progress });\n\n    if (progress <= 0) {\n      this.action();\n    } else {\n      requestAnimationFrame(this.checkTime);\n    }\n  }\n  toggle(s = this.paused) {\n    return s ? this.resume() : this.pause();\n  }\n  pause() {\n    this.paused = true;\n    this.emit(EVENT_PAUSE);\n    return this;\n  }\n  resume() {\n    this.paused = false;\n    this.timeBegin = performance.now() - this.timeCurrent;\n    this.checkTime();\n    this.emit(EVENT_RESUME);\n    return this;\n  }\n  reset() {\n    this.paused = false;\n    this.timeBegin = performance.now();\n    this.checkTime();\n    this.emit(EVENT_RESET);\n    return this;\n  }\n  destroy() {\n    this.paused = true;\n    this.off();\n  }\n  static createOrUpdate(autoaction, elem, action, opts) {\n    if (autoaction) {\n      return autoaction.destroy();\n    } else if (opts !== false) {\n      return new Autoaction(elem, action, opts);\n    }\n  }\n}\n\nexport default Autoaction;\n","import {\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDE,\n  EVENT_HIDDEN,\n  body,\n  DEFAULT_OPTIONS,\n  HIDE_MODE,\n  POPOVER_API_SUPPORTED,\n  POPOVER_API_MODE_MANUAL,\n  POPOVER,\n  ACTION_REMOVE,\n  HIDDEN,\n  TRANSITION,\n  ROLE,\n  ARIA_LIVE,\n  ALERT,\n  STATUS,\n  ARIA_ATOMIC,\n  OPTION_ARIA_LIVE,\n  A11Y,\n  TABINDEX,\n  REGION,\n  CLASS_ACTIVE_SUFFIX,\n  CLASS_ACTIVE,\n} from \"./helpers/constants\";\nimport { isArray, isObject, isString } from \"./helpers/is\";\nimport { fragment, inDOM, setAttribute, toggleClass } from \"./helpers/dom\";\nimport {\n  normalizeToggleParameters,\n  arrayFrom,\n  getEventsPrefix,\n  callOrReturn,\n  getOptionElem,\n  isShown,\n  awaitPromise,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  toggleHideModeState,\n  baseDestroy,\n  callShowInit,\n  updateModule,\n} from \"./helpers/modules\";\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Autoaction from \"./helpers/Autoaction.js\";\n\nconst TOAST = \"toast\";\n\nconst positions = {};\nconst wrappers = new Map();\nconst _containers = {};\n\nconst A11Y_DEFAULTS = {\n  [STATUS]: {\n    [ROLE]: STATUS,\n    [OPTION_ARIA_LIVE]: \"polite\",\n  },\n  [ALERT]: {\n    [ROLE]: ALERT,\n    [OPTION_ARIA_LIVE]: \"assertive\",\n  },\n};\n\nclass Toast extends ToggleMixin(Base, TOAST) {\n  static _templates = {};\n  static DefaultA11y = { ...A11Y_DEFAULTS[STATUS] };\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    shown: true,\n    eventPrefix: getEventsPrefix(TOAST),\n    root: null,\n    container: \"\",\n    template: \"\",\n    appear: true,\n    dismiss: true,\n    limit: false,\n    limitAnimateEnter: true,\n    limitAnimateLeave: true,\n    autohide: false,\n    topLayer: true,\n    keepTopLayer: true,\n    a11y: STATUS,\n    [TOAST + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n  };\n  constructor(elem, opts) {\n    if (isObject(elem)) {\n      opts = elem;\n      elem = null;\n    }\n    super(elem, opts);\n  }\n  _update() {\n    const { opts, base, autohide, hide } = this;\n\n    const { a11y } = updateModule(this, A11Y, false, A11Y_DEFAULTS);\n\n    if (!opts.root && inDOM(base)) {\n      this.root = base.parentElement;\n    } else {\n      this.root = opts.root ? getOptionElem(this, opts.root) : body;\n    }\n    if (opts[HIDE_MODE] === ACTION_REMOVE && base[HIDDEN]) {\n      toggleHideModeState(false, this);\n    }\n\n    this[TRANSITION] = Transition.createOrUpdate(\n      this[TRANSITION],\n      base,\n      opts[TRANSITION],\n    );\n    this.autohide = Autoaction.createOrUpdate(\n      autohide,\n      base,\n      hide,\n      opts.autohide,\n    );\n\n    if (a11y) {\n      base.setAttribute(ARIA_ATOMIC, true);\n      base.setAttribute(ROLE, a11y[ROLE]);\n      base.setAttribute(ARIA_LIVE, a11y[OPTION_ARIA_LIVE]);\n    }\n\n    addDismiss(this);\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n    baseDestroy(this, { remove: true, ...destroyOpts });\n    return this;\n  }\n  init() {\n    if (this.isInit) return;\n\n    this.base.id = this.id;\n\n    this._update();\n\n    return callShowInit(this);\n  }\n  async toggle(s, params) {\n    const {\n      transition,\n      opts,\n      autohide,\n      base,\n      root,\n      instances,\n      constructor,\n      emit,\n    } = this;\n    const { animated, silent, event, trigger } =\n      normalizeToggleParameters(params);\n\n    const { limit, position, container, topLayer, keepTopLayer, hideMode } =\n      opts;\n\n    if (animated && transition?.isAnimating) return;\n\n    s ??= !isShown(base, hideMode);\n\n    let preventAnimation;\n\n    if (s) {\n      if (limit) {\n        const nots = arrayFrom(instances.values()).filter(\n          (instance) =>\n            instance !== this &&\n            instance.opts.position === position &&\n            instance.root === root,\n        );\n        for (let i = 0; i < nots.length; i++) {\n          if (i >= limit - 1) {\n            nots[i - (limit - 1)]?.hide(opts.limitAnimateLeave);\n            if (!opts.limitAnimateEnter) {\n              preventAnimation = true;\n            }\n          }\n        }\n      }\n      if (root) {\n        let to = root;\n        if (position) {\n          const wrapper = (to = constructor.getContainer({\n            position,\n            root,\n            container,\n            keepTopLayer,\n          }));\n\n          if (POPOVER_API_SUPPORTED && topLayer) {\n            wrapper[POPOVER] = POPOVER_API_MODE_MANUAL;\n          } else {\n            wrapper[POPOVER] = null;\n          }\n\n          if (wrapper && wrapper.parentElement !== root) {\n            root.append(wrapper);\n          }\n          if (POPOVER_API_SUPPORTED && topLayer) {\n            wrapper.hidePopover();\n            wrapper.showPopover();\n          }\n        }\n        to.append(base);\n      }\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    autohide && autohide.toggleInterections(s);\n\n    s && toggleHideModeState(true, this);\n\n    !silent && emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams);\n\n    const promise = transition?.run(s, animated && !preventAnimation);\n\n    toggleClass(base, opts[TOAST + CLASS_ACTIVE_SUFFIX], s);\n\n    awaitPromise(promise, () => {\n      !s && toggleHideModeState(false, this);\n      !silent && emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams);\n      !s && this.destroy({ remove: true });\n    });\n\n    animated && (await promise);\n\n    const rootWrappers = wrappers.get(root);\n    const wrapper =\n      rootWrappers &&\n      [...rootWrappers].find(\n        (w) => w.position === position && w.container === container,\n      )?.wrapper;\n\n    if (!s && wrapper && !wrapper.children.length) {\n      if (rootWrappers) {\n        const w = [...rootWrappers].find((w) => w.wrapper === wrapper);\n        w && rootWrappers.delete(w);\n      }\n      wrapper.remove();\n    }\n\n    this.container = wrapper;\n\n    return this;\n  }\n\n  static getContainer({\n    position,\n    root = body,\n    container = \"\",\n    keepTopLayer,\n    a11y,\n  }) {\n    let rootWrappers = wrappers.get(root);\n    if (!rootWrappers) {\n      rootWrappers = new Set();\n      wrappers.set(root, rootWrappers);\n    } else {\n      const wrapper = [...rootWrappers].find(\n        (w) => w.position === position && w.container === container,\n      );\n      if (wrapper) return wrapper.wrapper;\n    }\n\n    const containerParams = { name: container, position };\n    const wrapper = fragment(\n      isString(container)\n        ? callOrReturn(\n            _containers[container] ?? _containers[\"\"],\n            containerParams,\n          )\n        : container(containerParams),\n    );\n\n    if (a11y) {\n      wrapper.setAttribute(TABINDEX, -1);\n      wrapper.setAttribute(ROLE, REGION);\n    }\n\n    rootWrappers.add({ wrapper, container, position, root, keepTopLayer });\n    return wrapper;\n  }\n  static addPosition(position, container = \"\") {\n    positions[container] ||= {};\n    if (isArray(position)) {\n      position.forEach((p) => this.addPosition(p, container));\n    } else if (isObject(position)) {\n      positions[container][position.name] = position;\n    }\n  }\n  static template(name, opts) {\n    if (!opts) {\n      opts = name;\n      name = \"\";\n    }\n    if (!opts) return this._templates[name];\n    this._templates[name] = opts;\n    return this;\n  }\n  static container(name, opts) {\n    if (!opts) {\n      opts = name;\n      name = \"\";\n    }\n    if (!opts) return _containers[name];\n    _containers[name] = opts;\n    return this;\n  }\n  static forceTopLayer() {\n    [...wrappers.values()].forEach((set) => {\n      set.forEach(({ wrapper, root, keepTopLayer }) => {\n        if (\n          keepTopLayer &&\n          POPOVER_API_SUPPORTED &&\n          wrapper.popover &&\n          root.contains(wrapper)\n        ) {\n          wrapper.hidePopover();\n          wrapper.showPopover();\n        }\n      });\n    });\n  }\n}\n\nexport default Toast;\n","import {\n  EVENT_BEFORE_INIT,\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_BEFORE_HIDE,\n  CLASS,\n  HOVER,\n  FOCUS,\n  TOP,\n  ANCHOR,\n  TARGET,\n  UI_PREFIX,\n  ARIA_DESCRIBEDBY,\n  DATA_UI_PREFIX,\n  DEFAULT_FLOATING_OPTIONS,\n  DEFAULT_OPTIONS,\n  OPTION_ARIA_DESCRIBEDBY,\n  TITLE,\n  CONTENT,\n  TOOLTIP,\n  CLASS_ACTIVE_SUFFIX,\n  TRANSITION,\n  CLASS_ACTIVE,\n} from \"./helpers/constants\";\n\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport {\n  getElement,\n  setAttribute,\n  toggleClass,\n  inDOM,\n  removeAttribute,\n} from \"./helpers/dom\";\nimport Transition from \"./helpers/Transition.js\";\n\nimport {\n  normalizeToggleParameters,\n  getEventsPrefix,\n  getClassActive,\n} from \"./helpers/utils\";\nimport {\n  baseDestroy,\n  floatingTransition,\n  callShowInit,\n  toggleOnInterection,\n  addDismiss,\n  checkFloatings,\n} from \"./helpers/modules\";\nimport Teleport from \"./helpers/Teleport.js\";\n\nconst UI_TOOLTIP = UI_PREFIX + TOOLTIP;\n\nclass Tooltip extends ToggleMixin(Base, TOOLTIP) {\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    ...DEFAULT_FLOATING_OPTIONS,\n    delay: [150, 0],\n    eventPrefix: getEventsPrefix(TOOLTIP),\n    placement: TOP,\n    template: (content) =>\n      `<div class=\"${UI_TOOLTIP}\"><div class=\"${UI_TOOLTIP}-arrow\" data-${UI_TOOLTIP}-arrow></div><div class=\"${UI_TOOLTIP}-content\">${content}</div></div>`,\n    interactive: false,\n    removeTitle: true,\n    tooltipClass: \"\",\n    [ANCHOR + CLASS_ACTIVE_SUFFIX]: getClassActive(TOOLTIP),\n    [TOOLTIP + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    trigger: HOVER + \" \" + FOCUS,\n    content: null,\n  };\n\n  static get BASE_NODE_NAME() {\n    return ANCHOR;\n  }\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  _update() {\n    const { tooltip, base, opts } = this;\n\n    this.transition = Transition.createOrUpdate(\n      this[TRANSITION],\n      tooltip,\n      opts[TRANSITION],\n    );\n\n    addDismiss(this, tooltip);\n\n    toggleOnInterection(this, base, tooltip);\n\n    opts.a11y && setAttribute(tooltip, TOOLTIP);\n  }\n  destroy(destroyOpts) {\n    if (this.isInit) return;\n    const { anchor, tooltip, id, _cache, emit, opts } = this;\n    emit(EVENT_BEFORE_DESTROY);\n    if (opts.a11y) {\n      removeAttribute(tooltip, TOOLTIP);\n      setAttribute(anchor, ARIA_DESCRIBEDBY, (val) =>\n        val === id + \"-\" + TARGET ? _cache[OPTION_ARIA_DESCRIBEDBY] : val,\n      );\n    }\n\n    if (_cache[TITLE]) {\n      anchor[TITLE] = _cache[TITLE];\n    }\n    return baseDestroy(this, destroyOpts);\n  }\n  init() {\n    const { opts, anchor, id, isInit, emit } = this;\n\n    if (isInit) return;\n\n    anchor.id = id;\n\n    emit(EVENT_BEFORE_INIT);\n\n    this._cache = { [TITLE]: anchor[TITLE] };\n\n    const target = (this.tooltip = getElement(\n      opts.template(\n        opts[CONTENT] ??\n          anchor.getAttribute(DATA_UI_PREFIX + TOOLTIP + \"-\" + CONTENT) ??\n          anchor[TITLE],\n        this,\n      ),\n    ));\n    target.id ||= id + \"-\" + TARGET;\n\n    anchor.removeAttribute(TITLE);\n    toggleClass(\n      target,\n      anchor.getAttribute(DATA_UI_PREFIX + TOOLTIP + \"-\" + CLASS) ??\n        opts.tooltipClass,\n      true,\n    );\n\n    this._update();\n\n    this.teleport = new Teleport(target, { disableAttributes: true });\n\n    return callShowInit(this, target);\n  }\n\n  async toggle(s, params) {\n    const { anchor, tooltip, id, opts, emit, _cache, isOpen, isAnimating } =\n      this;\n    const awaitAnimation = opts.awaitAnimation;\n    const { animated, trigger, silent, event, ignoreConditions } =\n      normalizeToggleParameters(params);\n\n    s ??= !isOpen;\n\n    if (\n      (!ignoreConditions &&\n        ((awaitAnimation && isAnimating) || s === isOpen)) ||\n      (!s && !inDOM(tooltip))\n    )\n      return;\n\n    this.isOpen = s;\n\n    if (opts.interactive && checkFloatings(this, s)) return;\n\n    if (isAnimating && !awaitAnimation) {\n      await this[TRANSITION].cancel();\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    const promise = floatingTransition(this, {\n      s,\n      animated,\n      silent,\n      eventParams,\n    });\n\n    if (opts.a11y) {\n      setAttribute(\n        anchor,\n        ARIA_DESCRIBEDBY,\n        s\n          ? (value) => {\n              value && (_cache[OPTION_ARIA_DESCRIBEDBY] = value);\n              return id + \"-\" + TARGET;\n            }\n          : _cache[OPTION_ARIA_DESCRIBEDBY] ?? null,\n      );\n    }\n\n    toggleClass(anchor, opts[ANCHOR + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(tooltip, opts[TOOLTIP + CLASS_ACTIVE_SUFFIX], s);\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Tooltip;\n","import {\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_BEFORE_HIDE,\n  CLASS_ACTIVE,\n  ARIA_CONTROLS,\n  ARIA_EXPANDED,\n  POPOVER,\n  CLICK,\n  DEFAULT_FLOATING_OPTIONS,\n  DEFAULT_OPTIONS,\n  CLASS_ACTIVE_SUFFIX,\n  TOGGLER,\n  DATA_UI_PREFIX,\n  CONFIRM,\n  TRIGGER,\n  HIDE_MODE,\n  TRANSITION,\n  PRIVATE_OPTION_CANCEL_ON_HIDE,\n  OPTION_PREVENT_SCROLL,\n} from \"./helpers/constants\";\n\nimport {\n  toggleClass,\n  removeClass,\n  setAttribute,\n  removeAttribute,\n} from \"./helpers/dom\";\nimport {\n  normalizeToggleParameters,\n  getDefaultToggleSelector,\n  getOptionElem,\n  getEventsPrefix,\n  updateOptsByData,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  toggleOnInterection,\n  floatingTransition,\n  callShowInit,\n  toggleConfirm,\n  checkFloatings,\n  togglePreventScroll,\n} from \"./helpers/modules\";\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\n\nclass Popover extends ToggleMixin(Base, POPOVER) {\n  static [PRIVATE_OPTION_CANCEL_ON_HIDE] = true;\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    ...DEFAULT_FLOATING_OPTIONS,\n    eventPrefix: getEventsPrefix(POPOVER),\n    dismiss: true,\n    autofocus: true,\n    interactive: true,\n    trigger: CLICK,\n    [TOGGLER]: null,\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [POPOVER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    confirm: `[${DATA_UI_PREFIX + CONFIRM}],[${\n      DATA_UI_PREFIX + CONFIRM\n    }=\"${POPOVER}\"]`,\n    [OPTION_PREVENT_SCROLL]: false,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  init() {\n    if (this.isInit) return;\n\n    this.base.id = this.id;\n\n    this._update();\n\n    this.teleport = new Teleport(this.base, { disableAttributes: true });\n\n    return callShowInit(this);\n  }\n  _update() {\n    const { base, opts } = this;\n    updateOptsByData(\n      opts,\n      base,\n      [TRIGGER, HIDE_MODE, OPTION_PREVENT_SCROLL],\n      [OPTION_PREVENT_SCROLL],\n    );\n\n    this[TRANSITION] = Transition.createOrUpdate(\n      this[TRANSITION],\n      base,\n      opts[TRANSITION],\n    );\n\n    this.updateToggler();\n\n    addDismiss(this);\n    toggleOnInterection(this);\n  }\n  updateToggler() {\n    const { opts, id } = this;\n    const toggler = (this.toggler = getOptionElem(\n      this,\n      opts.toggler ?? getDefaultToggleSelector(id),\n    ));\n    if (!toggler) return;\n    opts.a11y && setAttribute(toggler, ARIA_CONTROLS, id);\n    return this;\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n    const { opts, toggler, base } = this;\n    this.emit(EVENT_BEFORE_DESTROY);\n    opts.a11y && removeAttribute(toggler, ARIA_CONTROLS, ARIA_EXPANDED);\n    removeClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX]);\n    removeClass(base, opts[POPOVER + CLASS_ACTIVE_SUFFIX]);\n    togglePreventScroll(this, false);\n    return baseDestroy(this, destroyOpts);\n  }\n\n  async toggle(s, params) {\n    const { isOpen, isAnimating, toggler, base, opts, emit } = this;\n    const { awaitAnimation, a11y } = opts;\n    const { animated, silent, trigger, event, ignoreConditions } =\n      normalizeToggleParameters(params);\n\n    s ??= !isOpen;\n\n    if (!ignoreConditions && ((awaitAnimation && isAnimating) || s === isOpen))\n      return;\n\n    this.isOpen = s;\n\n    if (opts.interactive && checkFloatings(this, s)) return;\n\n    if (isAnimating && !awaitAnimation) {\n      await this[TRANSITION].cancel();\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    a11y && toggler.setAttribute(ARIA_EXPANDED, !!s);\n\n    toggleConfirm(s, this);\n\n    const promise = floatingTransition(this, {\n      s,\n      animated,\n      silent,\n      eventParams,\n    });\n\n    toggleClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(base, opts[POPOVER + CLASS_ACTIVE_SUFFIX], s);\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Popover;\n"],"names":["cache","kebabToCamel","str","replace","match","toUpperCase","upperFirst","slice","UI","UI_PREFIX","UI_EVENT_PREFIX","VAR_UI_PREFIX","PRIVATE_PREFIX","DATA_UI_PREFIX","ACTIVE","CLASS_ACTIVE","NAME","MODE","PX","NONE","WIDTH","HEIGHT","TOP","LEFT","RIGHT","BOTTOM","CENTER","START","END","UP","DOWN","TITLE","HORIZONTAL","ABSOLUTE","FIXED","TRANSITION","TELEPORT","BUTTON","CLASS","STYLE","ROLE","CONFIRM","CANCEL","BEFORE","AFTER","MOUSE","CLICK","HOVER","FOCUS","SCROLL","HIDE","HIDDEN","SHOW","SHOWN","APPEAR","TARGET","AVAILABLE","AVAILABLE_WIDTH","AVAILABLE_HEIGHT","ANCHOR","MODAL","CONTENT","ITEM","BACKDROP","POPOVER","TOOLTIP","TOGGLER","TRIGGER","DROPDOWN","ARROW","PROGRESS","DISMISS","FLOATING","DIALOG","FLIP","SHRINK","STICKY","PLACEMENT","PADDING","OFFSET","BOUNDARY_OFFSET","CLIP_PATH","ARROW_OFFSET","ARROW_PADDING","ARROW_WIDTH","ARROW_HEIGHT","TRUE","FALSE","doc","document","body","ROOT_ELEM","documentElement","BODY","ENTER","LEAVE","ENTER_ACTIVE","ENTER_FROM","ENTER_TO","LEAVE_ACTIVE","LEAVE_FROM","LEAVE_TO","HIDE_MODE","DURATION","ACTION_INIT","ACTION_DESTROY","ACTION_TOGGLE","ACTION_SHOW","ACTION_HIDE","ACTION_REMOVE","ACTION_UPDATE","ACTION_PAUSE","ACTION_RESUME","ACTION_RESET","ACTION_ON","ACTION_OFF","ACTION_EMIT","ACTION_ONCE","INERT","AUTOFOCUS","TABINDEX","DISABLED","AUTO","FLOATING_DATA_ATTRIBUTE","POPOVER_API_MODE_MANUAL","PLACEHOLDER","EVENT_INIT","EVENT_BEFORE_INIT","EVENT_DESTROY","EVENT_BEFORE_DESTROY","EVENT_BEFORE_SHOW","EVENT_SHOW","EVENT_SHOWN","EVENT_BEFORE_HIDE","EVENT_HIDE","EVENT_HIDDEN","EVENT_PAUSE","EVENT_RESUME","EVENT_RESET","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","EVENT_MOUSEDOWN","EVENT_CHANGE","EVENT_CLICK","EVENT_KEYDOWN","EVENT_FOCUS","EVENT_FOCUSIN","EVENT_FOCUSOUT","EVENT_ACTION_OUTSIDE","EVENT_SCROLL","EVENT_BEFORE_MATCH","UNTIL_FOUND","MODE_HIDDEN_UNTIL_FOUND","ARIA","ARIA_CONTROLS","ARIA_EXPANDED","ARIA_SELECTED","ARIA_HIDDEN","ARIA_LABELLEDBY","ARIA_DESCRIBEDBY","ARIA_ORIENTATION","ARIA_LIVE","ARIA_ATOMIC","KEY_ENTER","KEY_SPACE","KEY_END","KEY_HOME","KEY_ARROW_LEFT","KEY_ARROW_UP","KEY_ARROW_RIGHT","KEY_ARROW_DOWN","A11Y","OPTION_GROUP","OPTION_PREVENT_SCROLL","OPTION_HASH_NAVIGATION","OPTION_ARIA_DESCRIBEDBY","OPTION_ARIA_HIDDEN","OPTION_ARIA_LIVE","OPTION_TOP_LAYER","OPTION_MOVE_TO_ROOT","OPTION_FLOATING_CLASS","OPTION_AUTODESTROY","CLASS_ACTIVE_SUFFIX","ROLE_SUFFIX","STATUS","ALERT","REGION","HIDDEN_CLASS","SHOWN_CLASS","CLASS_SHOWN_MODE","CLASS_HIDDEN_MODE","DEFAULT_OPTIONS","init","destroy","data","on","appear","eventDispatch","eventBubble","shown","a11y","hideMode","keepPlace","transition","awaitAnimation","DEFAULT_FLOATING_OPTIONS","placement","offset","padding","delay","boundaryOffset","shrink","flip","sticky","escapeHide","outsideHide","focusTrap","topLayer","root","moveToRoot","mode","arrow","SELECTOR_DISABLED","SELECTOR_INERT","MIRROR","x","y","CLIP_PATH_PROPERTY","CSS","supports","POPOVER_API_SUPPORTED","HTMLElement","prototype","hasOwnProperty","FOCUSABLE_ELEMENTS_SELECTOR","PRIVATE_OPTION_CANCEL_ON_HIDE","isArray","Array","isElement","value","getElementsByClassName","isFunction","isHTML","RegExp","test","bind","isString","isIterable","Symbol","iterator","isNumber","isObject","constructor","Object","isDialog","elem","tagName","strToArray","separator","split","filter","Boolean","toggleClass","classes","s","join","cls","classList","contains","forEach","el","camelToKebab","toLowerCase","addStyle","name","key","style","setProperty","arrayFrom","from","is","selector","matches","includes","returnArray","undefined","arrayUnique","array","length","Set","fragment","html","findSelectors","children","DOMParser","parseFromString","querySelectorAll","getElements","context","findSelf","result","querySelector","trim","window","item","flat","unshift","closest","selectors","find","t","dir","property","until","utilIsFn","elems","fn","push","isFn","i","list","map","each","focus","opts","preventScroll","getElement","inDOM","next","nextAll","parents","removeAttribute","names","removeClass","setAttribute","getAttribute","getBoundingClientRect","toJSON","getPropertyValue","callOrReturn","checkHash","id","location","hash","substring","createElement","type","props","content","class","entries","addClass","append","createInset","input","top","right","bottom","left","getDataSelector","values","getOption","multiply","instance","option","params","getOptionElem","getOptionElems","min","max","Math","isOverflowElement","overflow","overflowX","overflowY","display","getComputedStyle","UNFOCUSABLE_SELECTORS","isUnfocusable","mergeDeep","objects","object","normalizeToggleParameters","animated","resizeObserver","ResizeObserver","borderBoxSize","target","blockSize","inlineSize","__resizeCallback__","uuidGenerator","prefix","random","toString","updateOptsByData","dataset","booleanOptions","optionName","attributeName","JSON","parse","getEventsPrefix","getClassActive","getDefaultToggleSelector","registerProperty","valuesToArray","parseFloat","isShown","hasAttribute","getBooleanDataAttrValue","getDatasetValue","datasetValue","isDataObject","awaitPromise","async","promise","callback","EventHandler","this","eventsSet","_id","getNamespaces","eventFullName","event","namespace","events","deligate","_handler","_opts","capture","e","detail","handler","once","offId","isSelector","deligateTarget","addEventListener","add","args","newOpts","optsPosition","getOptsObj","arguments","removeSets","sets","set","removeEventListener","delete","off","emit","dispatchEvent","CustomEvent","Breakpoints","breakpoints","_onResize","sort","a","b","mql","width","media","mq","matchMedia","checkBreakpoints","breakpoint","newBreakpoint","currentData","onUpdate","getDataValue","_data","dataName","Base","static","BASE_NODE_NAME","Default","_templates","allInstances","base","components","baseElemName","template","_fromTemplate","_fromHTML","baseOpts","uuid","eventHandler","action","_initBreakpoints","dataValue","keepInstance","isInit","_update","eventName","eventPrefix","any","bubbles","update","instances","get","getOrCreate","initAll","updateDefault","dispatchTopLayer","Toast","toast","forceTopLayer","ToggleMixin","Map","isAnimating","initialPlaceNode","teleport","placeholder","hide","toggle","show","Transition","css","cssVariables","defaultOpts","promises","toggleVariables","offsetWidth","offsetHeight","rect","prop","removeProperty","toggleAnimationClasses","setClasses","animations","styles","hasStyle","hasClass","state","collectPromises","duration","promisesEvent","promisesAnimation","Promise","resolve","getAnimations","allSettled","finished","promisesDuration","isNaN","setTimeout","cancel","animation","getAwaitPromise","run","createOrUpdate","Teleport","to","position","disableAttributes","move","toParameters","createComment","before","insertAdjacentElement","reset","replaceWith","addDismiss","preventDefault","stopPropagation","eventParams","trigger","addEscapeHide","keyCode","stop","callAutofocus","autofocus","focusElem","activeElement","baseDestroy","remove","keepState","stateElem","destroyInstance","PREFIX","toggleOnInterection","toggler","triggerClick","triggerHover","triggerFocus","hoverTimer","pointerType","isMouseDown","isOpen","floating","floatings","size","clearTimeout","requestAnimationFrame","isFocus","entered","d","FOCUS_GUARD","FocusGuards","onFocus","returnElem","anchor","focusFirst","isGuardBefore","focusAfterAnchor","globalReturnElems","findIndex","onFocusOut","relatedTarget","at","focusGuards","methodName","focusGuard","strategy","syntax","inherits","head","appendChild","ResetFloatingCssVariables","OPTIONS","Floating","assign","anchorScrollParents","anchorStyles","targetStyles","options","variableName","v","usePopoverApi","inTopLayer","useFocusGuards","wrapper","createWrapper","shiftKey","wrapperStyle","arrowOffset","arrowPadding","arrowWidth","arrowHeight","wrapperComputedStyle","polygonValues","valueEnd","splice","computedValues","collectCssVariables","anchorRect","targetRect","arrowData","minHeight","minWidth","prevTop","pendingUpdate","updatePosition","offsetLeft","offsetTop","height","baseM","baseS","hor","dirS","minRect","useFlipM","useFlipS","viewRect","visualViewport","hasScale","scale","abs","innerWidth","calculate","m","isStart","isEnd","isCenter","isMainDir","sumPadding","mirrorSize","mirrorDirS","anchorSpace","pageOffset","awailableSizesOffset","awailableSizes","currentSize","mo","so","staticSo","shift","transformOrigin","arrowPosition","getPosition","scrollY","scrollX","translate","observe","box","observeResize","_toggleApi","passive","parentFloating","wrapperIsDialog","isModal","isPopover","popover","onTopLayer","open","close","showModal","showPopover","zIndex","margin","background","maxWidth","maxHeight","pointerEvents","justifyContent","alignItems","willChange","inset","attributes","interactive","after","unobserve","hidePopover","toggleHideModeState","subInstance","_floatingParent","parent","parentElement","toggleAttribute","floatingTransition","silent","togglePreventScroll","callShowInit","hashNavigation","ignoreConditions","ignoreAutofocus","__initial","toggleConfirm","EVENT_HASHCHANGE","addHashNavigation","DEFAULT_PREFIX","updateModule","defaults","defaultValue","FLOATING_IS_INTERACTED","checkFloatings","childFloating","PROPERTY_ROOT_SCROLLBAR_WIDTH","hasPreventScrollInstances","clientWidth","updateBodyScrollbarWidth","COLLAPSE","Collapse","dismiss","super","updateTriggers","destroyOpts","togglers","otherTogglers","flatMap","replaceWord","word","w","concat","DIRECTIONS","Dropdown","itemClickHide","arrowActivation","items","_onKeydown","focusableElems","updateToggler","dropdown","isControl","textContent","startsWith","lastIndex","currentIndex","nextIndex","prevIndex","prevCode","horizontal","nextCode","click","ARIA_SUFFIX","Dialog","awaitPrevious","hidePrevious","backdropHide","returnFocus","preventHide","confirm","title","description","group","modal","backdrop","isDialogElem","_togglers","updateAriaTargets","rightClick","_mousedownTarget","suffix","optReturnFocusAwait","await","groupClosingFinish","groupClosing","backdropIsOpen","openGroupDialogs","groupDialogs","returnFocusElem","baseIsDialog","TABLIST","TAB","TABS","TABPANEL","ACCORDION","ELEMS","OPTION_TAB_ROLE","OPTION_TABPANEL_ROLE","OPTION_TABPANEL_TABINDEX","OPTION_ARIA_ORIENTRATION","OPTION_STATE_ATTRIBUTE","OPTION_ALWAYS_EXPANDED","OPTION_MULTI_EXPAND","ACTION_INIT_TAB","TABLIST_SECONDARY_METHODS","DEFAULT_ACCORDION_OPTIONS","A11Y_DEFAULTS","Tablist","siblings","keyboard","rtl","focusFilter","tabs","lastShownTab","index","tabWithState","tabObj","tab","tabpanel","isOpenTabpanel","nodeName","some","val","hasSelected","tabInstance","initTabs","_updateTabIndex","tablist","getTab","initTab","shownTabs","tabpanelId","getElementById","_onTabFocus","_onTabKeydown","cleanStyles","source","without","toggleDisabled","disabled","isDisabled","firstActiveTabIndex","isTab","currentTarget","currentTabIndex","indexOf","firstIndex","lastActiveTabIndex","_switchTab","activeIndex","findLast","animatedOrShownTabs","elemName","Autoaction","progressElem","decimal","durationUpdate","pauseOnMouse","resetOnMouse","pauseOnFocus","resetOnFocus","visibilityControl","cssVariable","hidden","toggleInterections","resume","pause","interactedMouse","interactedFocus","checkTime","paused","_prevProgress","current","performance","now","timeCurrent","round","timeBegin","time","progress","toFixed","autoaction","TOAST","positions","wrappers","_containers","container","limit","limitAnimateEnter","limitAnimateLeave","autohide","keepTopLayer","preventAnimation","nots","getContainer","rootWrappers","containerParams","addPosition","p","UI_TOOLTIP","Tooltip","removeTitle","tooltipClass","tooltip","_cache","Popover"],"mappings":"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"}