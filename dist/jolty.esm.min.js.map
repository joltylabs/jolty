{"version":3,"file":"jolty.esm.min.js","sources":["../src/helpers/utils/kebabToCamel.js","../src/helpers/utils/upperFirst.js","../src/helpers/constants/index.js","../src/helpers/is/isArray.js","../src/helpers/is/isElement.js","../src/helpers/is/isFunction.js","../src/helpers/is/isHTML.js","../src/helpers/is/isString.js","../src/helpers/is/isIterable.js","../src/helpers/is/isNumber.js","../src/helpers/is/isObject.js","../src/helpers/is/isDialog.js","../src/helpers/is/isModal.js","../src/helpers/utils/strToArray.js","../src/helpers/dom/toggleClass.js","../src/helpers/utils/camelToKebab.js","../src/helpers/dom/addStyle.js","../src/helpers/utils/arrayFrom.js","../src/helpers/dom/is.js","../src/helpers/utils/returnArray.js","../src/helpers/utils/arrayUnique.js","../src/helpers/dom/fragment.js","../src/helpers/dom/getElements.js","../src/helpers/dom/closest.js","../src/helpers/dom/dir.js","../src/helpers/dom/map.js","../src/helpers/dom/filter.js","../src/helpers/dom/each.js","../src/helpers/dom/focus.js","../src/helpers/dom/getElement.js","../src/helpers/dom/inDOM.js","../src/helpers/dom/next.js","../src/helpers/dom/nextAll.js","../src/helpers/dom/parents.js","../src/helpers/dom/removeAttribute.js","../src/helpers/dom/removeClass.js","../src/helpers/dom/setAttribute.js","../src/helpers/utils/without.js","../src/helpers/dom/animateClass.js","../src/helpers/dom/getBoundingClientRect.js","../src/helpers/dom/getPropertyValue.js","../src/helpers/dom/isRtl.js","../src/helpers/utils/callOrReturn.js","../src/helpers/utils/checkHash.js","../src/helpers/utils/createElement.js","../src/helpers/dom/addClass.js","../src/helpers/utils/floating/createInset.js","../src/helpers/utils/getDataSelector.js","../src/helpers/utils/getOption.js","../src/helpers/utils/getOptionElem.js","../src/helpers/utils/getOptionElems.js","../src/helpers/utils/floating/getPosition.js","../src/helpers/utils/isOverflowElement.js","../src/helpers/utils/isUnfocusable.js","../src/helpers/utils/mergeDeep.js","../src/helpers/utils/normalizeToggleParameters.js","../src/helpers/utils/observeResize.js","../src/helpers/utils/replaceWord.js","../src/helpers/utils/uuidGenerator.js","../src/helpers/utils/updateOptsByData.js","../src/helpers/utils/getEventsPrefix.js","../src/helpers/utils/getClassActive.js","../src/helpers/utils/getDefaultToggleSelector.js","../src/helpers/utils/floating/ResetFloatingCssVariables.js","../src/helpers/utils/valuesToArray.js","../src/helpers/utils/isShown.js","../src/helpers/utils/getBooleanDataAttrValue.js","../src/helpers/utils/getDatasetValue.js","../src/helpers/utils/awaitPromise.js","../src/helpers/utils/isClickOutsideElem.js","../src/helpers/utils/resetTransition.js","../src/helpers/utils/addStatusClasses.js","../src/helpers/EventHandler.js","../src/helpers/Breakpoints.js","../src/helpers/Base.js","../src/helpers/ToggleMixin.js","../src/helpers/Transition.js","../src/helpers/Teleport.js","../src/helpers/modules/addDismiss.js","../src/helpers/CloseWatcher.js","../src/helpers/modules/toggleBackDismiss.js","../src/helpers/modules/callAutofocus.js","../src/helpers/modules/baseDestroy.js","../src/helpers/modules/toggleOnInterection.js","../src/helpers/modules/FocusGuards.js","../src/helpers/modules/toggleTopLayer.js","../src/helpers/Floating.js","../src/helpers/utils/floating/collectCssVariables.js","../src/helpers/modules/toggleStateMode.js","../src/helpers/modules/floatingTransition.js","../src/helpers/modules/callShowInit.js","../src/helpers/modules/toggleConfirm.js","../src/helpers/modules/addHashNavigation.js","../src/helpers/modules/updateModule.js","../src/helpers/modules/checkFloatings.js","../src/helpers/modules/destroyInstance.js","../src/helpers/modules/togglePreventScroll.js","../src/helpers/modules/toggleInitClass.js","../src/helpers/modules/toggleLightDismiss.js","../src/helpers/modules/addLightDismiss.js","../src/helpers/modules/addAriaTargets.js","../src/helpers/modules/addFrameState.js","../src/Collapse.js","../src/Dropdown.js","../src/helpers/Autoaction.js","../src/Dialog.js","../src/Tablist.js","../src/Toast.js","../src/Tooltip.js","../src/Popover.js"],"sourcesContent":["const cache = {};\nexport default (str = \"\") =>\n  cache[str] ||\n  (cache[str] = str.replace(/-./g, (match) => match[1].toUpperCase()));\n","const cache = {};\nexport default (str = \"\") =>\n  cache[str] || (cache[str] = str[0].toUpperCase() + str.slice(1));\n","import kebabToCamel from \"../utils/kebabToCamel\";\nimport upperFirst from \"../utils/upperFirst\";\n\nexport const UI = \"ui\";\nexport const UI_PREFIX = UI + \"-\";\nexport const UI_EVENT_PREFIX = \".\" + UI;\nexport const VAR_UI_PREFIX = \"--\" + UI_PREFIX;\nexport const PRIVATE_PREFIX = \"_\";\nexport const DATA_PREFIX = \"data-\";\nexport const DATA_UI_PREFIX = DATA_PREFIX + UI_PREFIX;\nexport const ACTIVE = \"active\";\nexport const CLASS_ACTIVE = UI_PREFIX + ACTIVE;\n\nexport const DEFAULT = \"default\";\nexport const NAME = \"name\";\nexport const MODE = \"mode\";\n\nexport const PX = \"px\";\nexport const NONE = \"none\";\nexport const ID = \"id\";\n\nexport const WIDTH = \"width\";\nexport const HEIGHT = \"height\";\nexport const TOP = \"top\";\nexport const LEFT = \"left\";\nexport const RIGHT = \"right\";\nexport const BOTTOM = \"bottom\";\nexport const CENTER = \"center\";\nexport const START = \"start\";\nexport const END = \"end\";\nexport const UP = \"up\";\nexport const DOWN = \"down\";\nexport const IN = \"in\";\nexport const OUT = \"out\";\nexport const MOVE = \"move\";\nexport const TITLE = \"title\";\n\nexport const HORIZONTAL = \"horizontal\";\nexport const VERTICAL = \"vertical\";\nexport const ABSOLUTE = \"absolute\";\nexport const FIXED = \"fixed\";\nexport const TRANSITION = \"transition\";\nexport const TELEPORT = \"teleport\";\n\nexport const DIV = \"div\";\nexport const BUTTON = \"button\";\nexport const WINDOW = \"window\";\nexport const DOCUMENT = \"document\";\nexport const CLASS = \"class\";\nexport const STYLE = \"style\";\nexport const KEY = \"key\";\nexport const ROLE = \"role\";\nexport const ROOT = \"root\";\nexport const CONFIRM = \"confirm\";\nexport const CANCEL = \"cancel\";\n\nexport const BEFORE = \"before\";\nexport const AFTER = \"after\";\n\nexport const MOUSE = \"mouse\";\n\nexport const CLICK = \"click\";\nexport const HOVER = \"hover\";\nexport const FOCUS = \"focus\";\nexport const SCROLL = \"scroll\";\n\nexport const HIDE = \"hide\";\nexport const HIDDEN = \"hidden\";\nexport const SHOW = \"show\";\nexport const SHOWN = \"shown\";\nexport const APPEAR = \"appear\";\n\nexport const TARGET = \"target\";\nexport const AVAILABLE = \"available\";\nexport const AVAILABLE_WIDTH = AVAILABLE + \"-\" + WIDTH;\nexport const AVAILABLE_HEIGHT = AVAILABLE + \"-\" + HEIGHT;\nexport const ANCHOR = \"anchor\";\nexport const ANCHOR_WIDTH = ANCHOR + \"-\" + WIDTH;\nexport const ANCHOR_HEIGHT = ANCHOR + \"-\" + HEIGHT;\n\nexport const MODAL = \"modal\";\nexport const CONTENT = \"content\";\nexport const ITEM = \"item\";\nexport const BACKDROP = \"backdrop\";\nexport const POPOVER = \"popover\";\nexport const TOOLTIP = \"tooltip\";\nexport const TOGGLER = \"toggler\";\nexport const TRIGGER = \"trigger\";\nexport const DELAY = \"delay\";\nexport const DROPDOWN = \"dropdown\";\nexport const ARROW = \"arrow\";\nexport const PROGRESS = \"progress\";\nexport const DISMISS = \"dismiss\";\nexport const FLOATING = \"floating\";\nexport const DIALOG = \"dialog\";\n\nexport const FLIP = \"flip\";\nexport const SHRINK = \"shrink\";\nexport const STICKY = \"sticky\";\nexport const PLACEMENT = \"placement\";\nexport const PADDING = \"padding\";\nexport const OFFSET = \"offset\";\nexport const BOUNDARY_OFFSET = \"boundary-\" + OFFSET;\nexport const WEBKIT_PREFIX = \"-webkit-\";\nexport const CLIP_PATH = \"clip-path\";\nexport const ARROW_OFFSET = ARROW + \"-\" + OFFSET;\nexport const ARROW_PADDING = ARROW + \"-\" + PADDING;\nexport const ARROW_WIDTH = ARROW + \"-\" + WIDTH;\nexport const ARROW_HEIGHT = ARROW + \"-\" + HEIGHT;\nexport const TRUE = \"true\";\nexport const FALSE = \"false\";\n\nexport const doc = document;\nexport const body = doc.body;\nexport const ROOT_ELEM = doc.documentElement;\nexport const BODY = \"body\";\n\nexport const ENTER = \"enter\";\nexport const LEAVE = \"leave\";\nexport const BEFORE_ENTER = BEFORE + upperFirst(ENTER);\nexport const ENTER_ACTIVE = ENTER + upperFirst(ACTIVE);\nexport const ENTER_FROM = ENTER + \"From\";\nexport const ENTER_TO = ENTER + \"To\";\nexport const AFTER_ENTER = AFTER + upperFirst(ENTER);\nexport const BEFORE_LEAVE = BEFORE + upperFirst(LEAVE);\nexport const LEAVE_ACTIVE = LEAVE + upperFirst(ACTIVE);\nexport const LEAVE_FROM = LEAVE + \"From\";\nexport const LEAVE_TO = LEAVE + \"To\";\nexport const AFTER_LEAVE = AFTER + upperFirst(LEAVE);\nexport const STATE_MODE = \"stateMode\";\nexport const DURATION = \"duration\";\nexport const DURATION_ENTER = DURATION + upperFirst(ENTER);\nexport const DURATION_LEAVE = DURATION + upperFirst(LEAVE);\n\nexport const ACTION_INIT = \"init\";\nexport const ACTION_DESTROY = \"destroy\";\nexport const ACTION_TOGGLE = \"toggle\";\nexport const ACTION_SHOW = SHOW;\nexport const ACTION_HIDE = HIDE;\nexport const ACTION_ADD = \"add\";\nexport const ACTION_REMOVE = \"remove\";\nexport const ACTION_UPDATE = \"update\";\nexport const ACTION_PAUSE = \"pause\";\nexport const ACTION_RESUME = \"resume\";\nexport const ACTION_RESET = \"reset\";\nexport const ACTION_ON = \"on\";\nexport const ACTION_OFF = \"off\";\nexport const ACTION_EMIT = \"emit\";\nexport const ACTION_ONCE = \"once\";\nexport const ACTION_PREVENT = \"prevent\";\n\nexport const INERT = \"inert\";\nexport const AUTOFOCUS = \"autofocus\";\nexport const TABINDEX = \"tabindex\";\nexport const DISABLED = \"disabled\";\nexport const AUTO = \"auto\";\nexport const POPOVER_DATA_ATTRIBUTE = DATA_UI_PREFIX + POPOVER + \"-wrapper\";\nexport const FLOATING_DATA_ATTRIBUTE = DATA_UI_PREFIX + FLOATING;\nexport const DATA_PREVENT_INERT = DATA_UI_PREFIX + ACTION_PREVENT + \"-\" + INERT;\nexport const POPOVER_API_MODE_MANUAL = \"manual\";\n\nexport const PLACEHOLDER = \"placeholder\";\n\nexport const EVENT_INIT = ACTION_INIT;\nexport const EVENT_BEFORE_INIT = BEFORE + \"Init\";\nexport const EVENT_DESTROY = ACTION_DESTROY;\nexport const EVENT_BEFORE_DESTROY = BEFORE + \"Destroy\";\nexport const EVENT_BEFORE_SHOW = BEFORE + \"Show\";\nexport const EVENT_SHOW = SHOW;\nexport const EVENT_SHOWN = SHOWN;\nexport const EVENT_BEFORE_HIDE = BEFORE + \"Hide\";\nexport const EVENT_HIDE = HIDE;\nexport const EVENT_HIDDEN = HIDDEN;\nexport const EVENT_PAUSE = ACTION_PAUSE;\nexport const EVENT_RESUME = ACTION_RESUME;\nexport const EVENT_RESET = ACTION_RESET;\nexport const EVENT_MOUSEENTER = MOUSE + ENTER;\nexport const EVENT_MOUSELEAVE = MOUSE + LEAVE;\nexport const EVENT_MOUSEMOVE = MOUSE + MOVE;\nexport const EVENT_MOUSEDOWN = MOUSE + DOWN;\nexport const EVENT_MOUSEUP = MOUSE + UP;\nexport const EVENT_MOUSEOVER = MOUSE + \"over\";\nexport const EVENT_MOUSEOUT = MOUSE + OUT;\nexport const EVENT_CHANGE = \"change\";\nexport const EVENT_BREAKPOINT = \"breakpoint\";\nexport const EVENT_CLOSE = \"close\";\nexport const EVENT_CLICK = CLICK;\nexport const EVENT_KEYDOWN = KEY + DOWN;\nexport const EVENT_KEYUP = KEY + UP;\nexport const EVENT_FOCUS = FOCUS;\nexport const EVENT_FOCUSIN = FOCUS + IN;\nexport const EVENT_FOCUSOUT = FOCUS + OUT;\nexport const EVENT_CONTEXT_MENU_CLICK = \"contextmenu\";\nexport const EVENT_VISIBILITY_CHANGE = \"visibilitychange\";\n\nexport const EVENT_HIDE_PREVENTED = \"hidePrevented\";\nexport const EVENT_SCROLL = SCROLL;\nexport const EVENT_RESIZE = \"resize\";\nexport const EVENT_DISABLED = DISABLED;\nexport const EVENT_ENABLED = \"enabled\";\nexport const EVENT_BEFORE_MATCH = BEFORE + \"match\";\n\nexport const UNTIL_FOUND = \"until-found\";\nexport const MODE_HIDDEN_UNTIL_FOUND = HIDDEN + \"-\" + UNTIL_FOUND;\n\nexport const ARIA = \"aria\";\nexport const ARIA_CONTROLS = ARIA + \"-controls\";\nexport const ARIA_EXPANDED = ARIA + \"Expanded\";\nexport const ARIA_SELECTED = ARIA + \"Selected\";\nexport const ARIA_HIDDEN = ARIA + \"Hidden\";\nexport const ARIA_LABELLEDBY = ARIA + \"-labelledby\";\nexport const ARIA_DESCRIBEDBY = ARIA + \"-describedby\";\nexport const ARIA_ORIENTATION = ARIA + \"Orientation\";\nexport const ARIA_LIVE = ARIA + \"Live\";\nexport const ARIA_ATOMIC = ARIA + \"Atomic\";\n\nexport const KEY_ENTER = 13;\nexport const KEY_ESC = 27;\nexport const KEY_SPACE = 32;\nexport const KEY_END = 35;\nexport const KEY_HOME = 36;\nexport const KEY_TAB = 9;\nexport const KEY_ARROW_LEFT = 37;\nexport const KEY_ARROW_UP = 38;\nexport const KEY_ARROW_RIGHT = 39;\nexport const KEY_ARROW_DOWN = 40;\n\nexport const A11Y = \"a11y\";\nexport const OPTION_GROUP = \"group\";\n\nexport const PREVENT = \"prevent\";\n\nexport const OPTION_PREVENT_SCROLL = PREVENT + \"Scroll\";\nexport const OPTION_HASH_NAVIGATION = \"hashNavigation\";\nexport const POSITION = \"position\";\nexport const OPTION_ARIA_DESCRIBEDBY = kebabToCamel(ARIA_DESCRIBEDBY);\nexport const OPTION_TOP_LAYER = \"topLayer\";\nexport const OPTION_MOVE_TO_ROOT = \"moveToRoot\";\nexport const OPTION_LIGHT_DISMISS = \"lightDismiss\";\nexport const OPTION_BACK_DISMISS = \"backDismiss\";\nexport const EVENT_LIGHT_DISMISS_PREVENTED = \"lightDismissPrevented\";\nexport const EVENT_BACK_DISMISS_PREVENTED = \"backDismissPrevented\";\n\nexport const OPTION_PREVENT_DISMISS = \"preventDismiss\";\nexport const EVENT_DISMISS_PREVENTED = \"dismissPrevented\";\n\nexport const OPTION_AUTODESTROY = AUTO + ACTION_DESTROY;\nexport const CLASS_ACTIVE_SUFFIX = \"ClassActive\";\nexport const ROLE_SUFFIX = \"Role\";\n\nexport const STATUS = \"status\";\nexport const ALERT = \"alert\";\nexport const REGION = \"region\";\n\nexport const HIDDEN_CLASS = UI_PREFIX + HIDDEN;\nexport const SHOWN_CLASS = UI_PREFIX + SHOWN;\nexport const CLASS_SHOWN_MODE = CLASS + \"-\" + SHOWN;\nexport const CLASS_HIDDEN_MODE = CLASS + \"-\" + HIDDEN;\nexport const TRANSITION_REMOVE_MODE = { [STATE_MODE]: ACTION_REMOVE };\n\nexport const EVENT_SUFFIX_LIGHT_DISMISS = \".\" + OPTION_LIGHT_DISMISS;\n\nexport const TOP_LAYER_OPTIONS_NAMES = [\n  OPTION_PREVENT_SCROLL,\n  OPTION_TOP_LAYER,\n  OPTION_MOVE_TO_ROOT,\n  OPTION_LIGHT_DISMISS,\n  OPTION_BACK_DISMISS,\n  OPTION_PREVENT_DISMISS,\n  MODAL,\n];\n\nexport const TOP_LAYER_OPTIONS = {\n  root: BODY,\n  [OPTION_TOP_LAYER]: true,\n  [OPTION_MOVE_TO_ROOT]: false,\n  [MODAL]: false,\n};\n\nexport const DEFAULT_OPTIONS = {\n  init: true,\n  destroy: false,\n  data: \"\",\n  on: null,\n  appear: null,\n  eventDispatch: true,\n  eventBubble: true,\n  shown: null,\n  a11y: true,\n  stateMode: HIDDEN,\n  keepPlace: true,\n  transition: true,\n  awaitAnimation: false,\n  dismiss: true,\n};\n\nexport const DEFAULT_FLOATING_OPTIONS = {\n  awaitAnimation: false,\n  placement: BOTTOM,\n  offset: 0,\n  padding: 0,\n  delay: 150,\n  boundaryOffset: 0,\n  shrink: false,\n  flip: true,\n  sticky: true,\n  focusTrap: \"auto\",\n  shown: false,\n  arrow: null,\n  [OPTION_LIGHT_DISMISS]: true,\n  [OPTION_BACK_DISMISS]: true,\n  ...TOP_LAYER_OPTIONS,\n};\n\nexport const SELECTOR_AUTOFOCUS = `[${AUTOFOCUS}]`;\nexport const SELECTOR_DISABLED = `[${DISABLED}]`;\nexport const SELECTOR_INERT = `[${INERT}]`;\n\nexport const SELECTOR_ROOT = \":\" + ROOT;\nexport const SELECTOR_FOCUS_WITHIN = \":focus-within\";\nexport const SELECTOR_HOVER = \":\" + HOVER;\n\nexport const MIRROR = {\n  [TOP]: BOTTOM,\n  [BOTTOM]: TOP,\n  [LEFT]: RIGHT,\n  [RIGHT]: LEFT,\n  [START]: END,\n  [END]: START,\n  [WIDTH]: HEIGHT,\n  [HEIGHT]: WIDTH,\n  [CENTER]: CENTER,\n  x: \"y\",\n  y: \"x\",\n};\n\nexport const CLIP_PATH_PROPERTY = CSS.supports(CLIP_PATH + \":\" + NONE)\n  ? CLIP_PATH\n  : WEBKIT_PREFIX + CLIP_PATH;\n\nexport const POPOVER_API_SUPPORTED =\n  // eslint-disable-next-line no-prototype-builtins\n  HTMLElement.prototype.hasOwnProperty(POPOVER);\n\nexport const FOCUSABLE_ELEMENTS_SELECTOR = `:is(:is(a,area)[href],:is(select,textarea,button,input:not([type=\"hidden\"])):not(disabled),details:not(:has(>summary)),iframe,:is(audio,video)[controls],[contenteditable],[tabindex]):not([inert],[inert] *,[tabindex^=\"-\"],[${DATA_UI_PREFIX}focus-guard])`;\n\nexport const PRIVATE_OPTION_CANCEL_ON_HIDE = PRIVATE_PREFIX + \"cancelOnHide\";\n\nexport const ARIA_SUFFIX = {\n  [ARIA_LABELLEDBY]: TITLE,\n  [ARIA_DESCRIBEDBY]: \"description\",\n};\n\nexport const AUTOHIDE = \"autohide\";\n","export default Array.isArray;\n","export default (value) => value && !!value.getElementsByClassName;\n","export default (value) => typeof value === \"function\";\n","export default RegExp.prototype.test.bind(/(<([^>]+)>)/i);\n","export default (value) => typeof value === \"string\";\n","import isString from \"./isString.js\";\n\nexport default (value) => value && !!value[Symbol.iterator] && !isString(value);\n","export default (value) => typeof value === \"number\";\n","export default (value) => value && value.constructor === Object;\n","export default (elem) => elem?.tagName === \"DIALOG\";\n","import { MODAL } from \"../constants/index.js\";\n\nexport default (elem) => elem && elem.matches(\":\" + MODAL);\n","import { isArray } from \"../is\";\nexport default (str = \"\", separator = \" \") =>\n  str ? (isArray(str) ? str : str.split(separator)).filter(Boolean) : [];\n","import { ACTION_ADD, ACTION_REMOVE } from \"../constants\";\nimport isArray from \"../is/isArray.js\";\nimport isElement from \"../is/isElement.js\";\nimport isIterable from \"../is/isIterable.js\";\nimport strToArray from \"../utils/strToArray.js\";\n\nexport default function toggleClass(elem, classes, s) {\n  if (isArray(classes)) {\n    classes = classes.filter(Boolean).join(\" \");\n  }\n  const cls = strToArray(classes);\n  if (isElement(elem)) {\n    s ??= !elem.classList.contains(cls[0]);\n    elem.classList[s ? ACTION_ADD : ACTION_REMOVE](...cls);\n  } else if (isIterable(elem)) {\n    elem.forEach((el) => toggleClass(el, cls, s));\n  }\n}\n","const cache = {};\nexport default (str = \"\") =>\n  cache[str] ||\n  (cache[str] = str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase());\n","import isIterable from \"../is/isIterable.js\";\nimport isObject from \"../is/isObject.js\";\nimport camelToKebab from \"../utils/camelToKebab.js\";\n\nexport default function addStyle(elem, name, value) {\n  if (isIterable(elem)) {\n    elem.forEach((elem) => addStyle(elem, name, value));\n  } else {\n    if (isObject(name)) {\n      for (const key in name) addStyle(elem, key, name[key]);\n    } else {\n      elem.style.setProperty(camelToKebab(name), value);\n    }\n  }\n}\n","export default Array.from;\n","import isString from \"../is/isString.js\";\nimport isIterable from \"../is/isIterable.js\";\nimport isFunction from \"../is/isFunction.js\";\nimport arrayFrom from \"../utils/arrayFrom.js\";\n\nexport default (elem, selector) =>\n  elem === selector\n    ? true\n    : isString(selector)\n    ? elem.matches(selector)\n    : isIterable(selector)\n    ? arrayFrom(selector).includes(elem)\n    : isFunction(selector) && selector(elem);\n","import arrayFrom from \"./arrayFrom\";\nimport { isIterable } from \"../is\";\nexport default (elem) =>\n  elem !== undefined ? (isIterable(elem) ? arrayFrom(elem) : [elem]) : [];\n","import arrayFrom from \"./arrayFrom\";\nexport default (array) =>\n  array.length > 1 ? arrayFrom(new Set(array)) : array;\n","import isString from \"../is/isString.js\";\nimport arrayFrom from \"../utils/arrayFrom.js\";\n\nexport default (html, findSelectors) => {\n  let children = html;\n  if (isString(html)) {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, \"text/html\");\n    if (findSelectors) {\n      return arrayFrom(doc.querySelectorAll(findSelectors));\n    }\n    children = doc.body.children;\n  }\n  return children\n    ? children.length > 1\n      ? arrayFrom(children)\n      : children[0]\n    : \"\";\n};\n","import { doc, DOCUMENT, WINDOW } from \"../constants/index.js\";\nimport isElement from \"../is/isElement.js\";\nimport isString from \"../is/isString.js\";\nimport isHTML from \"../is/isHTML.js\";\nimport isIterable from \"../is/isIterable.js\";\nimport is from \"./is.js\";\nimport arrayFrom from \"../utils/arrayFrom.js\";\nimport returnArray from \"../utils/returnArray.js\";\nimport arrayUnique from \"../utils/arrayUnique.js\";\nimport fragment from \"./fragment.js\";\n\nexport default function getElements(selector, context = doc, findSelf = false) {\n  if (isElement(selector)) {\n    return [selector];\n  }\n  let result = selector;\n  if (isString(context)) {\n    context = doc.querySelector(context);\n  }\n  if (!isElement(context) || !selector) return [];\n  if (isString(selector)) {\n    selector = selector.trim();\n    if (selector === DOCUMENT) {\n      result = doc;\n    } else if (selector === WINDOW) {\n      result = window;\n    } else if (isHTML(selector)) {\n      result = fragment(selector);\n    } else {\n      result = context.querySelectorAll(selector);\n    }\n  } else if (isIterable(selector)) {\n    result = arrayFrom(selector, (item) => getElements(item, context)).flat();\n  }\n\n  result = returnArray(result);\n\n  if (findSelf && is(context, selector)) {\n    result.unshift(context);\n  }\n  return arrayUnique(result).filter(Boolean);\n}\n","import getElements from \"./getElements.js\";\n\nexport default (elem, selectors) =>\n  getElements(selectors).find((t) => t === elem || t.contains(elem));\n","import isFunction from \"../is/isFunction.js\";\nimport is from \"./is.js\";\nimport map from \"./map.js\";\nimport filter from \"./filter.js\";\n\nexport default (elem, property, selector, until) => {\n  const utilIsFn = isFunction(until);\n  return map(elem, (el) => {\n    const elems = [];\n    while (el) {\n      el = el[property];\n      if (el) {\n        if (until && (utilIsFn ? until(el) : is(el, until))) break;\n        elems.push(el);\n      }\n    }\n    return filter(elems, selector);\n  }).flat();\n};\n","import getElements from \"./getElements.js\";\n\nexport default (elems, fn) => getElements(elems).map(fn);\n","import isFunction from \"../is/isFunction.js\";\nimport is from \"./is.js\";\nimport arrayFrom from \"../utils/arrayFrom.js\";\n\nexport default (elems, selector) => {\n  const isFn = isFunction(selector);\n  elems = arrayFrom(elems);\n  return selector\n    ? elems.filter((elem, i, list) =>\n        isFn ? selector(elem, i, list) : is(elem, selector),\n      )\n    : elems;\n};\n","import getElements from \"./getElements.js\";\n\nexport default (elems, fn) => {\n  elems = getElements(elems);\n  elems.forEach(fn);\n  return elems;\n};\n","export default (elem, opts = { preventScroll: true }) =>\n  elem && elem.focus(opts);\n","import getElements from \"./getElements.js\";\n\nexport default (selector, context, findSelf) =>\n  getElements(selector, context, findSelf)[0];\n","import { body } from \"../constants\";\nexport default (elem) => elem && body.contains(elem);\n","import nextAll from \"./nextAll.js\";\n\nexport default (elem, selector) => nextAll(elem, selector)[0];\n","import dir from \"./dir.js\";\n\nexport default (elem, selector, until) =>\n  dir(elem, \"nextElementSibling\", selector, until);\n","import dir from \"./dir.js\";\n\nexport default (elem, selector, until) =>\n  dir(elem, \"parentElement\", selector, until);\n","import isArray from \"../is/isArray.js\";\nimport camelToKebab from \"../utils/camelToKebab.js\";\n\nexport default (elem, ...names) => {\n  if (isArray(elem)) {\n    elem.forEach((elem) =>\n      names.forEach((name) => elem && elem.removeAttribute(camelToKebab(name))),\n    );\n  } else {\n    names.forEach((name) => elem && elem.removeAttribute(camelToKebab(name)));\n  }\n};\n","import toggleClass from \"./toggleClass.js\";\n\nexport default (elem, classes) => toggleClass(elem, classes, false);\n","import isArray from \"../is/isArray.js\";\nimport isFunction from \"../is/isFunction.js\";\nimport camelToKebab from \"../utils/camelToKebab.js\";\n\nexport default function setAttribute(elem, name, value) {\n  if (!elem) return;\n  name = camelToKebab(name);\n  if (isArray(elem)) {\n    return elem.forEach((elem) => setAttribute(elem, name, value));\n  }\n  if (isFunction(value)) {\n    value = value(elem.name);\n  }\n  if (value === null) {\n    elem.removeAttribute(name);\n  } else if (value !== undefined) {\n    elem.setAttribute(name, value);\n  }\n}\n","import returnArray from \"./returnArray\";\nexport default (source, ...values) =>\n  returnArray(source).filter((elem) => !values.includes(elem));\n","export default (elem, className) => {\n  elem.classList.remove(className);\n  elem.offsetWidth;\n  elem.classList.add(className);\n  const animations = elem.getAnimations();\n  Promise.allSettled(animations.map(({ finished }) => finished)).then(() => {\n    elem.classList.remove(className);\n  });\n};\n","export default (elem) => elem.getBoundingClientRect().toJSON();\n","export default (style, name) => style.getPropertyValue(name).trim();\n","const supportsDir = CSS.supports(\"selector(:dir(rtl))\");\nexport default (elem) =>\n  supportsDir\n    ? elem.matches(\":dir(rtl)\")\n    : elem.closest(\"[dir]\")?.dir === \"rtl\";\n","import { isFunction } from \"../is\";\nexport default (value, ...data) => (isFunction(value) ? value(...data) : value);\n","export default (id) => location.hash.substring(1) === id;\n","import { isString } from \"../is\";\nimport { addClass, addStyle, setAttribute } from \"../dom\";\nimport { CLASS, STYLE, DIV, doc } from \"../constants\";\nimport camelToKebab from \"./camelToKebab\";\nexport default (type = DIV, props, ...content) => {\n  const elem = doc.createElement(type);\n  if (props) {\n    if (isString(props)) {\n      props = { class: props };\n    }\n    Object.entries(props).forEach(([name, value]) => {\n      if (name === CLASS) {\n        addClass(elem, value);\n      } else if (name === STYLE) {\n        if (isString(value)) {\n          elem.style = value;\n        } else {\n          addStyle(elem, value);\n        }\n      } else {\n        setAttribute(elem, camelToKebab(name), value);\n      }\n    });\n  }\n  content.forEach((item) => item && elem.append(item));\n  return elem;\n};\n","import toggleClass from \"./toggleClass.js\";\n\nexport default (elem, classes) => toggleClass(elem, classes, true);\n","import { isArray, isObject, isNumber } from \"../../is/index.js\";\nexport default (input, returnArray, isRtl) => {\n  let top = 0,\n    right = 0,\n    bottom = 0,\n    left = 0;\n  if (isNumber(input)) {\n    top = right = bottom = left = input;\n  } else if (isArray(input)) {\n    if (input.length === 1) {\n      top = right = bottom = left = input[0];\n    } else if (input.length === 2) {\n      top = bottom = input[0];\n      right = left = input[1];\n    } else if (input.length === 3) {\n      [top, right, bottom] = input;\n      left = right;\n    } else {\n      [top, right, bottom, left] = input;\n    }\n  } else if (isObject(input)) {\n    ({ top = 0, right = 0, bottom = 0, left = 0 } = input);\n  }\n\n  if (isRtl) {\n    [right, left] = [left, right];\n  }\n\n  return returnArray\n    ? [top, right, bottom, left]\n    : { top, right, bottom, left };\n};\n","import { DATA_UI_PREFIX } from \"../constants\";\nexport default (...values) => `[${DATA_UI_PREFIX + values.join(\"-\")}]`;\n","import { doc } from \"../constants\";\nimport isString from \"../is/isString.js\";\nimport returnArray from \"./returnArray.js\";\nimport callOrReturn from \"./callOrReturn.js\";\n\nexport default function (multiply, instance, option, root = doc, ...params) {\n  if (!option) return;\n  option = callOrReturn(option, instance, ...params);\n  if (isString(option)) {\n    option = root[multiply ? \"querySelectorAll\" : \"querySelector\"](option);\n  }\n  return multiply ? returnArray(option).filter(Boolean) : option;\n}\n","import getOption from \"./getOption.js\";\nexport default (...params) => getOption(false, ...params);\n","import getOption from \"./getOption.js\";\nexport default (...params) => getOption(true, ...params);\n","import {\n  WIDTH,\n  HEIGHT,\n  TOP,\n  LEFT,\n  RIGHT,\n  BOTTOM,\n  AVAILABLE_WIDTH,\n  AVAILABLE_HEIGHT,\n  START,\n  CENTER,\n  END,\n  MIRROR,\n} from \"../../constants/index.js\";\nimport isArray from \"../../is/isArray.js\";\nimport createInset from \"./createInset.js\";\n\nconst { min, max } = Math;\nconst viewRect = visualViewport;\n\nexport default function ({\n  anchorRect,\n  targetRect,\n  arrow,\n  placement,\n  boundaryOffset = 0,\n  offset = 0,\n  padding = 0,\n  shrink = false,\n  flip = false,\n  sticky = false,\n  minWidth = 0,\n  minHeight = 0,\n  border,\n  isRtl = false,\n}) {\n  boundaryOffset = createInset(boundaryOffset, false, isRtl);\n\n  flip = isArray(flip) ? flip : [flip];\n  flip[1] ??= flip[0];\n\n  padding = isArray(padding) ? padding : [padding];\n  padding[1] ??= padding[0];\n\n  if (sticky) {\n    flip[1] = false;\n  }\n\n  let [baseM, baseS = CENTER] = placement.split(\"-\");\n\n  if (baseM === START) {\n    baseM = isRtl ? RIGHT : LEFT;\n  } else if (baseM === END) {\n    baseM = isRtl ? LEFT : RIGHT;\n  }\n\n  const hor = baseM === LEFT || baseM === RIGHT;\n\n  if (isRtl && !hor) {\n    baseS = MIRROR[baseS];\n  }\n\n  const size = hor ? WIDTH : HEIGHT;\n  const dir = hor ? LEFT : TOP;\n  const dirS = hor ? TOP : LEFT;\n\n  const minRect = { [WIDTH]: minWidth, [HEIGHT]: minHeight };\n\n  let useFlipM = null;\n  let useFlipS = null;\n\n  const hasScale =\n    viewRect.scale !== 1 && Math.abs(window.innerWidth - viewRect.width) > 2;\n\n  function calculate() {\n    const m = (useFlipM && MIRROR[baseM]) || baseM;\n    const s = (useFlipS && MIRROR[baseS]) || baseS;\n\n    const isStart = s === START;\n    const isEnd = s === END;\n    const isCenter = s === CENTER;\n    const isMainDir = m === dir;\n    const sumPadding = padding[0] + padding[1];\n    const mirrorSize = MIRROR[size];\n    const mirrorDirS = MIRROR[dirS];\n\n    const anchorSpace = {\n      [TOP]: anchorRect[TOP],\n      [LEFT]: anchorRect[LEFT],\n      [RIGHT]: viewRect[WIDTH] - anchorRect[LEFT] - anchorRect[WIDTH],\n      [BOTTOM]: viewRect[HEIGHT] - anchorRect[TOP] - anchorRect[HEIGHT],\n    };\n\n    if (hasScale) {\n      anchorSpace[TOP] -= viewRect.offsetTop;\n      anchorSpace[LEFT] -= viewRect.offsetLeft;\n      anchorSpace[RIGHT] += viewRect.offsetLeft;\n      anchorSpace[BOTTOM] += viewRect.offsetTop;\n    }\n\n    const pageOffset = hasScale\n      ? hor\n        ? viewRect.offsetTop\n        : viewRect.offsetLeft\n      : 0;\n\n    anchorSpace[m] -= offset + boundaryOffset[m];\n    anchorSpace[MIRROR[m]] -= boundaryOffset[dirS] + boundaryOffset[mirrorDirS];\n\n    const sumBoundaryOffsetS =\n      boundaryOffset[mirrorDirS] + boundaryOffset[dirS];\n\n    let availableSizesOffset;\n    if (sticky) {\n      availableSizesOffset = viewRect[mirrorSize] - sumBoundaryOffsetS;\n    } else {\n      availableSizesOffset = viewRect[mirrorSize] - anchorRect[mirrorSize] / 2;\n      if (isStart) {\n        availableSizesOffset =\n          anchorSpace[mirrorDirS] +\n          anchorRect[mirrorSize] -\n          sumPadding -\n          boundaryOffset[mirrorDirS];\n      } else if (isEnd) {\n        availableSizesOffset =\n          anchorSpace[dirS] +\n          anchorRect[mirrorSize] -\n          sumPadding -\n          boundaryOffset[dirS];\n      }\n    }\n\n    const availableSizes = {\n      [size]: max(minRect[size], anchorSpace[m]),\n      [mirrorSize]: max(minRect[mirrorSize], availableSizesOffset),\n    };\n\n    const currentSize = {\n      [size]: shrink\n        ? min(targetRect[size], availableSizes[size])\n        : targetRect[size],\n      [mirrorSize]: shrink\n        ? min(targetRect[mirrorSize], availableSizes[mirrorSize])\n        : targetRect[mirrorSize],\n    };\n\n    if ((flip[0] || flip[1]) && useFlipM === null && useFlipS === null) {\n      if (\n        flip[0] &&\n        targetRect[size] > anchorSpace[m] &&\n        anchorSpace[m] < anchorSpace[MIRROR[m]]\n      ) {\n        useFlipM = true;\n      }\n\n      const targetOffset =\n        anchorSpace[isStart ? mirrorDirS : dirS] +\n        anchorRect[mirrorSize] -\n        targetRect[mirrorSize] -\n        padding[isStart ? 0 : 1] -\n        boundaryOffset[isStart ? mirrorDirS : dirS];\n\n      if (flip[1] && targetOffset < 0) {\n        useFlipS = true;\n      }\n\n      if (useFlipM || useFlipS) {\n        return calculate();\n      }\n    }\n\n    let mo;\n    if (isMainDir) {\n      mo = anchorRect[dir] - currentSize[size] - offset;\n    } else {\n      mo = anchorRect[MIRROR[dir]] + offset;\n    }\n\n    let so;\n    if (isStart) {\n      so = anchorRect[dirS] + padding[0];\n    } else if (isCenter) {\n      so =\n        anchorRect[dirS] -\n        (targetRect[mirrorSize] - anchorRect[mirrorSize]) / 2;\n    } else {\n      so = anchorRect[mirrorDirS] - targetRect[mirrorSize] - padding[1];\n    }\n\n    const staticSo = so;\n\n    if (sticky) {\n      if (so < boundaryOffset[dirS] + pageOffset) {\n        if (!isStart) {\n          so = boundaryOffset[dirS] + pageOffset;\n          if (\n            anchorRect[dirS] - pageOffset <\n            boundaryOffset[dirS] - padding[0]\n          ) {\n            so = anchorRect[dirS] + padding[0];\n          }\n        }\n      } else if (\n        so + currentSize[mirrorSize] + boundaryOffset[mirrorDirS] >\n        viewRect[mirrorSize] + pageOffset\n      ) {\n        if (!isEnd) {\n          so -=\n            so +\n            currentSize[mirrorSize] -\n            viewRect[mirrorSize] -\n            pageOffset +\n            boundaryOffset[mirrorDirS];\n          if (\n            anchorSpace[mirrorDirS] <\n            -padding[1] + boundaryOffset[mirrorDirS]\n          ) {\n            so -=\n              anchorSpace[mirrorDirS] + padding[1] - boundaryOffset[mirrorDirS];\n          }\n        }\n      }\n    }\n\n    const shift = staticSo - so;\n\n    let arrowPosition = {};\n    if (arrow) {\n      // eslint-disable-next-line prefer-const\n      let { padding = 0, offset = 0 } = arrow;\n      padding = isArray(padding) ? padding : [padding];\n      padding[1] ??= padding[0];\n\n      let so;\n      if (isStart) {\n        so = padding[0];\n      } else if (isCenter) {\n        so = currentSize[mirrorSize] / 2 - arrow[mirrorSize] / 2;\n      } else {\n        so = currentSize[mirrorSize] - padding[1] - arrow[mirrorSize];\n      }\n\n      so += shift + max(0, -currentSize[mirrorSize] / 2);\n\n      let mo = -arrow[mirrorSize] / 2 + (isMainDir ? -offset : offset);\n\n      if (isMainDir) {\n        mo += currentSize[size];\n        mo = mo - border[dir] - border[MIRROR[dir]] - 0.1;\n      }\n\n      arrowPosition = hor ? [mo, so] : [so, mo];\n    }\n\n    let transformOrigin;\n    if (arrow) {\n      transformOrigin = arrowPosition;\n    } else {\n      const mo = isStart\n        ? padding[0]\n        : isEnd\n        ? currentSize[mirrorSize] - padding[1]\n        : currentSize[MIRROR[size]] / 2;\n      const so = isMainDir ? currentSize[size] : 0;\n      transformOrigin = hor ? [so, mo] : [mo, so];\n    }\n\n    return {\n      [dir]: mo,\n      [dirS]: so,\n      [AVAILABLE_WIDTH]: availableSizes[WIDTH],\n      [AVAILABLE_HEIGHT]: availableSizes[HEIGHT],\n      arrow: arrowPosition,\n      placement: useFlipM ? MIRROR[placement] : placement,\n      transformOrigin,\n    };\n  }\n  return calculate();\n}\n","export default (elem) => {\n  const { overflow, overflowX, overflowY, display } = getComputedStyle(elem);\n  return (\n    !/inline|contents/.test(display) &&\n    /auto|hidden|scroll|overlay|clip/.test(overflow + overflowY + overflowX)\n  );\n};\n","import { SELECTOR_DISABLED, SELECTOR_INERT } from \"../constants\";\nconst UNFOCUSABLE_SELECTORS = `${SELECTOR_DISABLED},${SELECTOR_INERT}`;\nexport default (elem) => elem.matches(UNFOCUSABLE_SELECTORS);\n","import { isArray, isObject } from \"../is\";\nexport default function mergeDeep(...objects) {\n  const result = {};\n  for (const object of objects.filter(Boolean)) {\n    for (const [key, value] of Object.entries(object)) {\n      if (isObject(result[key])) {\n        result[key] = isObject(value) ? mergeDeep(result[key], value) : value;\n      } else if (isArray(result[key])) {\n        result[key] = isArray(value) ? [...result[key], ...value] : value;\n      } else if (value !== undefined) {\n        result[key] = value;\n      }\n    }\n  }\n  return result;\n}\n","import { isObject } from \"../is\";\nexport default (animated = true) =>\n  isObject(animated) ? { animated: true, ...animated } : { animated };\n","const resizeObserver = new ResizeObserver((entries) => {\n  for (const { borderBoxSize, target } of entries) {\n    const { blockSize, inlineSize } = borderBoxSize[0];\n    target.__resizeCallback__(inlineSize, blockSize);\n  }\n});\nfunction observeResize(target, fn) {\n  target.__resizeCallback__ = fn;\n  resizeObserver.observe(target, { box: \"border-box\" });\n}\nexport { resizeObserver, observeResize };\n","export default (str, word) =>\n  str\n    .split(\" \")\n    .filter((w) => w !== word)\n    .join(\" \");\n","import { UI_PREFIX } from \"../constants/index.js\";\n\nexport default (prefix = UI_PREFIX) =>\n  prefix + Math.random().toString(36).substring(2, 12);\n","import {\n  UI,\n  TRUE,\n  FALSE,\n  OPTION_PREVENT_SCROLL,\n  AUTO,\n  PREVENT,\n} from \"../constants\";\nimport upperFirst from \"./upperFirst.js\";\nimport isArray from \"../is/isArray.js\";\n\nexport default (opts, { dataset }, names, booleanOptions) => {\n  names.forEach((name) => {\n    let optionName = name;\n    let attributeName = name;\n    if (isArray(name)) {\n      optionName = name[0];\n      attributeName = name[1];\n    }\n    let value = dataset[UI + upperFirst(attributeName)];\n    const hasAttribute = value !== undefined;\n    if (hasAttribute) {\n      if (booleanOptions?.includes(optionName)) {\n        const isTrue = value === \"\" || value === TRUE;\n        const isFalse = value === FALSE;\n        const isAuto = value === AUTO;\n        const isPrevent = value === PREVENT;\n        value = isTrue\n          ? true\n          : isFalse\n          ? false\n          : isAuto || isPrevent\n          ? value\n          : undefined;\n      } else if (value && value[0] === \"{\") {\n        value = JSON.parse(value);\n      }\n\n      if (value !== undefined) {\n        opts[optionName] = value;\n      }\n    }\n  });\n  return opts;\n};\n","import { UI_PREFIX } from \"../constants\";\nexport default (name) => UI_PREFIX + name + \":\";\n","import { UI_PREFIX, ACTIVE } from \"../constants\";\nexport default (name) => UI_PREFIX + (name ? name + \"-\" : \"\") + ACTIVE;\n","import { DATA_UI_PREFIX, ACTION_TOGGLE } from \"../constants\";\nexport default (id, multiply) =>\n  `[${DATA_UI_PREFIX + ACTION_TOGGLE}${\n    multiply ? \"~\" : \"\"\n  }=\"${id}\"],[href=\"#${id}\"]`;\n","import {\n  BOUNDARY_OFFSET,\n  doc,\n  DROPDOWN,\n  FLIP,\n  OFFSET,\n  PADDING,\n  PLACEMENT,\n  POPOVER,\n  SHRINK,\n  STICKY,\n  STYLE,\n  TOOLTIP,\n  VAR_UI_PREFIX,\n} from \"../../constants/index.js\";\nimport createElement from \"../createElement.js\";\n\nconst registerProperty = CSS.registerProperty;\n\nexport default () => {\n  let css = \"\";\n  [TOOLTIP, DROPDOWN, POPOVER].forEach((name) => {\n    const PREFIX = VAR_UI_PREFIX + name + \"-\";\n    [STICKY, FLIP, SHRINK, PLACEMENT, PADDING, OFFSET, BOUNDARY_OFFSET].forEach(\n      (prop) => {\n        if (registerProperty) {\n          registerProperty({\n            name: PREFIX + prop,\n            syntax: \"*\",\n            inherits: false,\n          });\n        } else {\n          css += PREFIX + prop + \":;\";\n        }\n      },\n    );\n  });\n\n  if (!registerProperty) {\n    doc.head.appendChild(createElement(STYLE, false, `*{${css}}`));\n  }\n};\n","export default ({ value }) => value.trim().split(\" \").map(parseFloat);\n","import {\n  ACTION_REMOVE,\n  CLASS_HIDDEN_MODE,\n  CLASS_SHOWN_MODE,\n  HIDDEN,\n  HIDDEN_CLASS,\n  MODE_HIDDEN_UNTIL_FOUND,\n  SHOWN_CLASS,\n} from \"../constants/index.js\";\nimport { inDOM } from \"../dom/index.js\";\n\nexport default (elem, stateMode) => {\n  return stateMode === ACTION_REMOVE\n    ? inDOM(elem)\n    : stateMode === CLASS_HIDDEN_MODE\n    ? !elem.classList.contains(HIDDEN_CLASS)\n    : stateMode === CLASS_SHOWN_MODE\n    ? elem.classList.contains(SHOWN_CLASS)\n    : !elem.hasAttribute(\n        stateMode === MODE_HIDDEN_UNTIL_FOUND ? HIDDEN : stateMode,\n      );\n};\n","import { DATA_UI_PREFIX, FALSE } from \"../constants/index.js\";\n\nexport default (elem, name) => {\n  const value = elem.getAttribute(DATA_UI_PREFIX + name);\n  return value === null ? value : value !== FALSE;\n};\n","import { DATA_UI_PREFIX } from \"../constants/index.js\";\n\nexport default (elem, name, property) => {\n  let datasetValue = elem.getAttribute(DATA_UI_PREFIX + name)?.trim() || \"\";\n  const isDataObject = datasetValue[0] === \"{\";\n  if (datasetValue) {\n    if (isDataObject) {\n      datasetValue = JSON.parse(datasetValue);\n    } else if (property) {\n      datasetValue = { [property]: datasetValue };\n    }\n  }\n  return property ? datasetValue : [datasetValue, isDataObject];\n};\n","export default async (promise, callback) => {\n  await promise;\n  callback();\n};\n","import getBoundingClientRect from \"../dom/getBoundingClientRect.js\";\n\nexport default (elem, { clientX, clientY }) => {\n  if (!clientX && !clientY) return false;\n  const rect = getBoundingClientRect(elem);\n  return (\n    clientX < rect.left ||\n    clientX > rect.right ||\n    clientY < rect.top ||\n    clientY > rect.bottom\n  );\n};\n","import { NONE } from \"../constants/index.js\";\n\nexport default (elem, after) => {\n  const cache = elem.style.transition;\n  elem.style.transition = NONE;\n  after?.();\n  elem.offsetWidth;\n  elem.style.transition = cache;\n};\n","import {\n  AUTO,\n  BACKDROP,\n  MODAL,\n  OPTION_MOVE_TO_ROOT,\n  OPTION_PREVENT_SCROLL,\n  OPTION_TOP_LAYER,\n  UI_PREFIX,\n} from \"../constants/index.js\";\n\nexport default (instance, ...statuses) => {\n  const { opts } = instance;\n  const base = instance[instance.constructor.NAME];\n  statuses.forEach((status) => {\n    let s, className;\n    if (status === BACKDROP) {\n      s = !!instance[BACKDROP];\n      className = \"has-\" + BACKDROP;\n    } else if (status === MODAL) {\n      s = opts[MODAL];\n      className = MODAL;\n    } else if (status === OPTION_PREVENT_SCROLL) {\n      s =\n        opts[OPTION_PREVENT_SCROLL] === AUTO\n          ? opts[MODAL]\n          : opts[OPTION_PREVENT_SCROLL];\n      className = \"prevents-scroll\";\n    } else if (status === OPTION_TOP_LAYER) {\n      s = opts[OPTION_TOP_LAYER] || opts[OPTION_MOVE_TO_ROOT];\n      className = \"root-relative\";\n    }\n    base.classList.toggle(UI_PREFIX + className, s);\n  });\n};\n","import { ACTION_ON, ACTION_OFF, ACTION_EMIT, ACTION_ONCE } from \"./constants\";\nimport { isString, isObject } from \"./is\";\nimport { closest, each } from \"./dom\";\nimport { strToArray, arrayFrom } from \"./utils\";\nimport getElements from \"./dom/getElements.js\";\n\nconst getOptsObj = (args, newOpts) => {\n  args = arrayFrom(args);\n  const optsPosition = isString(args[2]) ? 4 : 3;\n  let opts = args[optsPosition];\n  opts = isObject(opts) ? opts : { capture: !!opts };\n  args[optsPosition] = { ...opts, ...newOpts };\n  return args;\n};\n\nclass EventHandler {\n  constructor() {\n    this.eventsSet = new Set();\n    for (const name of [ACTION_ON, ACTION_OFF, ACTION_EMIT, ACTION_ONCE]) {\n      this[name] = this[name].bind(this);\n    }\n    this._id = 0;\n  }\n  getNamespaces(eventFullName) {\n    let [event, ...namespace] = eventFullName.split(/\\.(?![^([]*[\\]])/);\n    namespace = namespace?.join(\".\");\n    event = event.replace(/[[\\]']+/g, \"\");\n    return { eventFullName, event, namespace };\n  }\n  on(elems, events, ...params) {\n    let [_handler, _opts] = params;\n    let deligate;\n\n    if (isString(_handler)) {\n      [deligate, _handler, _opts] = params;\n    }\n    if (!isObject(_opts)) {\n      _opts = { capture: !!_opts };\n    }\n\n    _handler = ((fn) => (e) => {\n      fn(e, e.detail);\n    })(_handler);\n\n    elems = each(elems, (elem) => {\n      events = isString(events)\n        ? strToArray(events)\n        : isObject(events)\n        ? [events]\n        : events;\n      events.forEach((eventFullName) => {\n        const id = this._id++;\n        const opts = { ..._opts };\n        let handler = _handler;\n\n        const { event, namespace } = isString(eventFullName)\n          ? this.getNamespaces(eventFullName)\n          : eventFullName;\n\n        if (opts.once) {\n          handler = ((fn) => (e) => {\n            this.offId(id);\n            fn(e);\n          })(handler);\n        }\n        opts.once = false;\n\n        if (deligate) {\n          const isSelector = isString(deligate);\n          handler = ((fn) => (e) => {\n            e.deligateTarget = isSelector\n              ? e.target.closest(deligate)\n              : closest(e.target, deligate);\n            if (e.deligateTarget) {\n              fn(e);\n            }\n          })(handler);\n        }\n\n        elem.addEventListener(event, handler, opts);\n        this.eventsSet.add({\n          id,\n          elem,\n          eventFullName,\n          event,\n          namespace,\n          handler,\n          opts,\n        });\n      });\n    });\n    return elems;\n  }\n  once() {\n    return this.on(...getOptsObj(arguments, { once: true }));\n  }\n  offId(id) {\n    this.removeSets([arrayFrom(this.eventsSet).find((s) => s.id === id)]);\n  }\n  removeSets(sets, opts) {\n    sets.forEach((set) => {\n      if (!set) return;\n      set.elem.removeEventListener(set.event, set.handler, opts);\n      this.eventsSet.delete(set);\n    });\n  }\n  off(elems, events, handler, opts) {\n    const eventsSet = this.eventsSet;\n    if (!arguments.length) {\n      this.removeSets(eventsSet, opts);\n    } else {\n      if (elems === \"*\") {\n        elems = arrayFrom(eventsSet).map((set) => set.elem);\n      } else {\n        elems = getElements(elems);\n      }\n      elems.forEach((elem) => {\n        if (events) {\n          strToArray(events).forEach((eventFullName) => {\n            const { event, namespace } = this.getNamespaces(eventFullName);\n            const sets = arrayFrom(eventsSet).filter(\n              (set) =>\n                set.elem === elem &&\n                (!namespace || set.namespace === namespace) &&\n                (!event || set.event === event) &&\n                (!handler || set.handler === handler),\n            );\n\n            this.removeSets(sets, opts);\n          });\n        } else {\n          this.removeSets(\n            [...eventsSet].filter((e) => e.elem === elem),\n            opts,\n          );\n        }\n      });\n    }\n  }\n  emit(elems, events, opts) {\n    each(elems, (elem) => {\n      strToArray(events).forEach((event) => {\n        elem.dispatchEvent(new CustomEvent(event, opts));\n      });\n    });\n  }\n}\n\nexport { EventHandler };\n","import { EVENT_CHANGE } from \"./constants\";\nimport { mergeDeep } from \"./utils\";\n\nclass Breakpoints {\n  constructor(breakpoints, opts) {\n    this._onResize = this._onResize.bind(this);\n\n    breakpoints = Object.entries(breakpoints).sort((a, b) => +a[0] - +b[0]);\n\n    this.mql = breakpoints.map(([width, data], i) => {\n      let media;\n      if (i === 0) {\n        media = `(max-width:${breakpoints[1][0] - 1}px)`;\n      } else if (i === breakpoints.length - 1) {\n        media = `(min-width:${width}px)`;\n      } else {\n        media = `(min-width:${width}px) and (max-width:${\n          breakpoints[i + 1][0] - 1\n        }px)`;\n      }\n\n      const mq = window.matchMedia(media);\n\n      mq.addEventListener(EVENT_CHANGE, this._onResize);\n      return { mq, width: +width, data };\n    });\n    this.breakpoints = breakpoints;\n    this.opts = opts;\n    this._onResize();\n  }\n  _onResize(e) {\n    if (!e || e.matches) {\n      this.checkBreakpoints();\n    }\n  }\n  checkBreakpoints() {\n    const { opts, breakpoint, mql } = this;\n\n    let currentData = {},\n      newBreakpoint;\n    for (const { width, data, mq } of mql) {\n      if (width && !mq.matches) break;\n      newBreakpoint = [data, width];\n      currentData = mergeDeep(currentData, data);\n    }\n\n    if (!breakpoint || breakpoint[1] !== newBreakpoint[1]) {\n      this.breakpoint = newBreakpoint;\n      opts.onUpdate && opts.onUpdate(newBreakpoint, currentData);\n    }\n\n    return this.breakpoint;\n  }\n  destroy() {\n    this.mql.forEach(({ mq }) =>\n      mq.removeEventListener(EVENT_CHANGE, this._onResize),\n    );\n  }\n}\n\nexport default Breakpoints;\n","import {\n  EVENT_BREAKPOINT,\n  ACTION_TOGGLE,\n  ACTION_SHOW,\n  ACTION_HIDE,\n  ACTION_INIT,\n  ACTION_DESTROY,\n  ACTION_UPDATE,\n  ACTION_ON,\n  ACTION_OFF,\n  ACTION_EMIT,\n  ACTION_ONCE,\n  doc,\n  POPOVER_API_SUPPORTED,\n  UI_PREFIX,\n  POPOVER,\n  ROOT_ELEM,\n} from \"./constants\";\nimport { isArray, isFunction, isHTML, isObject, isString } from \"./is\";\nimport { getElement, fragment } from \"./dom\";\nimport {\n  mergeDeep,\n  uuidGenerator,\n  callOrReturn,\n  getDataSelector,\n  arrayFrom,\n  getDatasetValue,\n} from \"./utils\";\nimport { EventHandler } from \"./EventHandler\";\nimport Breakpoints from \"./Breakpoints\";\n\nif (!POPOVER_API_SUPPORTED) {\n  ROOT_ELEM.classList.add(UI_PREFIX + \"no-\" + POPOVER);\n}\n\nfunction getDataValue(_data, dataName, elem) {\n  const value = callOrReturn(_data[dataName], elem);\n  if (!isObject(value)) return {};\n  return _data[value.data]\n    ? { ...getDataValue(_data, value.data, elem), ...value }\n    : value;\n}\n\nclass Base {\n  static allInstances = new Set();\n  static components = {};\n  constructor(elem, opts) {\n    if (isFunction(opts)) {\n      opts = opts(elem);\n    }\n    opts ??= {};\n    const { NAME, BASE_NODE_NAME, Default, _data, _templates, allInstances } =\n      this.constructor;\n\n    if (\n      elem?.id &&\n      arrayFrom(allInstances).find(\n        (instance) =>\n          instance.base === elem && instance.constructor.NAME === NAME,\n      )\n    )\n      return;\n\n    Base.components[NAME] = this.constructor;\n\n    const baseElemName = BASE_NODE_NAME ?? NAME;\n\n    let dataName = opts.data;\n\n    if (elem == null) {\n      opts = mergeDeep(Default, getDataValue(_data, dataName, elem), opts);\n      elem = isString(opts.template)\n        ? callOrReturn(_templates[opts.template], opts)\n        : opts.template?.(opts);\n      this._fromTemplate = true;\n    } else if (elem) {\n      if (isHTML(elem)) {\n        elem = fragment(elem);\n        this._fromHTML = true;\n      } else if (isString(elem)) {\n        elem = doc.querySelector(elem);\n      }\n\n      if (!elem) return;\n\n      const [datasetValue, isDataObject] = getDatasetValue(elem, NAME);\n\n      dataName ||= !isDataObject && datasetValue;\n\n      if (dataName && !_data[dataName]) return;\n\n      opts = mergeDeep(\n        Default,\n        getDataValue(_data, dataName, elem),\n        isDataObject && datasetValue,\n        opts,\n      );\n    }\n    elem = getElement(elem);\n\n    if (!elem) return;\n\n    this[baseElemName] = elem;\n\n    this._events = {};\n\n    this.baseOpts = this.opts = opts;\n\n    this.uuid = uuidGenerator();\n\n    this.id = elem.id || this.uuid;\n\n    const eventHandler = new EventHandler();\n    [ACTION_ON, ACTION_OFF, ACTION_ONCE].forEach((name) => {\n      this[`_${name}`] = (...params) => {\n        eventHandler[name](...params);\n        return this;\n      };\n    });\n\n    [\n      ACTION_TOGGLE,\n      ACTION_SHOW,\n      ACTION_HIDE,\n      ACTION_INIT,\n      ACTION_DESTROY,\n      ACTION_UPDATE,\n      ACTION_ON,\n      ACTION_OFF,\n      \"_\" + ACTION_EMIT,\n    ].forEach((action) => (this[action] = this[action]?.bind(this)));\n\n    allInstances.add(this);\n\n    if (this.baseOpts.breakpoints) {\n      this._initBreakpoints();\n    } else {\n      this.init();\n    }\n\n    return this;\n  }\n  _initBreakpoints() {\n    this.breakpoints = new Breakpoints(\n      { 0: this.baseOpts, ...this.baseOpts.breakpoints },\n      {\n        onUpdate: (breakpoint, opts) => {\n          this._emit(EVENT_BREAKPOINT, breakpoint, this.breakpoint);\n          if (breakpoint[0].data) {\n            const dataValue = getDataValue(\n              this.constructor._data,\n              breakpoint[0].data,\n            );\n            if (dataValue) {\n              breakpoint[0] = { ...breakpoint[0], ...dataValue };\n            }\n          }\n          this.opts = breakpoint[1]\n            ? mergeDeep(opts, breakpoint[0])\n            : { ...opts };\n          delete this.opts.breakpoints;\n\n          if (opts.destroy) {\n            this.destroy({ keepInstance: true });\n          } else if (this.isInit) {\n            this._update?.();\n          } else {\n            Base.allInstances.forEach((instance) => {\n              if (\n                instance.breakpoints &&\n                instance.base === this.base &&\n                instance !== this &&\n                instance.isInit &&\n                instance.breakpoints.checkBreakpoints()[0].destroy\n              ) {\n                instance.destroy({ keepInstance: true });\n              }\n            });\n            this.init();\n          }\n          this.breakpoint = breakpoint;\n        },\n      },\n    );\n  }\n  _emit(eventName, ...detail) {\n    const { opts, base } = this;\n    const { on, eventDispatch, eventBubble, eventPrefix } = opts;\n    detail = [this, ...detail];\n\n    this._events[eventName]?.(...detail);\n    if (on) {\n      on[eventName] && on[eventName](...detail);\n      on.any && on.any(eventName, ...detail);\n    }\n\n    if (\n      isArray(eventDispatch) ? eventDispatch.includes(eventName) : eventDispatch\n    ) {\n      const bubbles =\n        (isArray(eventBubble) && eventBubble.includes(eventName)) ||\n        !!eventBubble;\n      base.dispatchEvent(\n        new CustomEvent(eventPrefix + eventName, { detail, bubbles }),\n      );\n    }\n    return this;\n  }\n  on(name, handler) {\n    this._events[name] = handler;\n    return this;\n  }\n  off(name) {\n    if (name) {\n      delete this._events[name];\n    } else {\n      this._events = {};\n    }\n    return this;\n  }\n  update(opts) {\n    if (opts) {\n      this.baseOpts = mergeDeep(this.baseOpts, opts);\n      if (this.breakpoints || this.baseOpts.breakpoints) {\n        this.breakpoints?.destroy();\n        this.breakpoints = false;\n        this._initBreakpoints();\n      } else {\n        this._update?.();\n      }\n    }\n    return this;\n  }\n  get base() {\n    return this[this.constructor.BASE_NODE_NAME ?? this.constructor.NAME];\n  }\n  get instances() {\n    return this.constructor.instances;\n  }\n  get Default() {\n    return this.constructor.Default;\n  }\n  static get(elem) {\n    const instances = this === Base ? Base.allInstances : this.instances;\n    if (elem === undefined) return [...instances.values()];\n    const entries =\n      this === Base\n        ? [...instances].map((instance) => [instance.id, instance])\n        : instances.entries();\n    for (const [id, instance] of entries) {\n      if ([id, instance.base].includes(elem)) {\n        return instance;\n      }\n    }\n  }\n  static getOrCreate(elem, opts) {\n    return this.get(elem, opts) || new this(elem, opts);\n  }\n  static initAll(root = doc) {\n    return arrayFrom(root.querySelectorAll(getDataSelector(this.NAME))).map(\n      (elem) => this.getOrCreate(elem),\n    );\n  }\n  static updateDefault(opts) {\n    return mergeDeep(this.Default, opts);\n  }\n  static data(name, opts) {\n    if (!opts) {\n      opts = name;\n      name = \"\";\n    }\n    if (!opts) return this._data[name];\n    this._data[name] = opts;\n    return this;\n  }\n  static dispatchTopLayer(type) {\n    const Toast = this.components.toast;\n    if (Toast) {\n      Toast.forceTopLayer(type);\n    }\n  }\n}\nexport default Base;\n","export default (Base, NAME) =>\n  class extends Base {\n    static _data = {};\n    static instances = new Map();\n    static get NAME() {\n      return NAME;\n    }\n    get isAnimating() {\n      return this.transition?.isAnimating;\n    }\n    get initialPlaceNode() {\n      return (\n        this.teleport?.placeholder ??\n        this.placeholder ??\n        this[this.constructor.NAME]\n      );\n    }\n    hide(opts) {\n      return this.toggle(false, opts);\n    }\n    show(opts) {\n      return this.toggle(true, opts);\n    }\n    static toggle(id, s, opts) {\n      return this.instances.get(id)?.toggle(s, opts);\n    }\n    static show(id, opts) {\n      return this.instances.get(id)?.show(opts);\n    }\n    static hide(id, opts) {\n      return this.instances.get(id)?.hide(opts);\n    }\n  };\n","import {\n  UI,\n  VAR_UI_PREFIX,\n  WIDTH,\n  HEIGHT,\n  PX,\n  ACTION_ADD,\n  ACTION_REMOVE,\n  ENTER,\n  ENTER_ACTIVE,\n  ENTER_FROM,\n  ENTER_TO,\n  LEAVE,\n  LEAVE_ACTIVE,\n  LEAVE_FROM,\n  LEAVE_TO,\n  DURATION,\n  TRANSITION,\n  NAME,\n  AUTO,\n} from \"./constants\";\n\nimport { isString, isFunction, isObject } from \"./is\";\nimport {\n  callOrReturn,\n  camelToKebab,\n  resetTransition,\n  updateOptsByData,\n} from \"./utils\";\n\nexport default class Transition {\n  static Default = {\n    enabled: AUTO,\n    name: UI,\n    css: true,\n    cssVariables: false,\n    [ENTER]: null,\n    [ENTER_ACTIVE]: null,\n    [ENTER_FROM]: null,\n    [ENTER_TO]: null,\n    [LEAVE]: null,\n    [LEAVE_FROM]: null,\n    [LEAVE_ACTIVE]: null,\n    [LEAVE_TO]: null,\n    [DURATION]: null,\n  };\n\n  constructor(elem, opts, defaultOpts) {\n    this.elem = elem;\n    this.update(opts, defaultOpts);\n    this.promises = [];\n\n    this.isInit = true;\n  }\n  update(opts, defaultOpts = {}) {\n    opts = isString(opts) ? { name: opts } : opts;\n\n    opts = {\n      ...Transition.Default,\n      ...defaultOpts,\n      ...opts,\n    };\n\n    this.opts = updateOptsByData(opts, this.elem, [\n      ENTER_ACTIVE,\n      ENTER_FROM,\n      ENTER_TO,\n      LEAVE_ACTIVE,\n      LEAVE_FROM,\n      LEAVE_TO,\n      [NAME, TRANSITION + \"Name\"],\n    ]);\n\n    return this;\n  }\n\n  toggleVariables(s) {\n    const { offsetWidth, offsetHeight, style } = this.elem;\n    [WIDTH, HEIGHT].forEach((name, i) => {\n      const prop = VAR_UI_PREFIX + TRANSITION + \"-\" + name;\n      if (s) {\n        style.setProperty(prop, (i ? offsetHeight : offsetWidth) + PX);\n      } else {\n        style.removeProperty(prop);\n      }\n    });\n  }\n\n  toggleAnimationClasses(s) {\n    resetTransition(this.elem, () =>\n      this.setClasses([s ? ENTER_FROM : LEAVE_FROM]),\n    );\n    this.setClasses([s ? ENTER_ACTIVE : LEAVE_ACTIVE, s ? ENTER_TO : LEAVE_TO]);\n    return this;\n  }\n\n  setClasses(animations) {\n    const { elem, opts } = this;\n    const classes = [\"\", \"\"];\n    const styles = [{}, {}];\n    let hasStyle = false;\n    let hasClass = false;\n    [\n      ENTER_ACTIVE,\n      ENTER_FROM,\n      ENTER_TO,\n      LEAVE_ACTIVE,\n      LEAVE_FROM,\n      LEAVE_TO,\n    ].forEach((state) => {\n      const s = animations?.includes(state) | 0;\n      if (isObject(opts[state])) {\n        hasStyle = true;\n        styles[s] = { ...styles[s], ...opts[state] };\n      } else {\n        hasClass = true;\n        classes[s] +=\n          (opts[state] ??\n            (opts.name ? opts.name + \"-\" + camelToKebab(state) : \"\")) + \" \";\n      }\n    });\n    if (hasClass) {\n      classes.forEach((classes, s) =>\n        elem.classList[s ? ACTION_ADD : ACTION_REMOVE](\n          ...classes.split(\" \").filter(Boolean),\n        ),\n      );\n    }\n    if (hasStyle) {\n      styles.forEach((styles, s) => {\n        Object.entries(styles).forEach(([name, value]) => {\n          if (name[0] !== \"-\") {\n            name = camelToKebab(name);\n          }\n          if (s) {\n            elem.style.setProperty(name, value);\n          } else {\n            elem.style.removeProperty(name);\n          }\n        });\n      });\n    }\n  }\n  collectPromises(s) {\n    const { elem, promises, opts } = this;\n    const state = s ? ENTER : LEAVE;\n    const duration = opts.duration?.[state] ?? opts.duration;\n\n    promises.length = 0;\n    let promisesEvent, promisesAnimation;\n    if (isFunction(opts[state])) {\n      promisesEvent = new Promise((resolve) => opts[state](elem, resolve));\n    }\n    let animations;\n    if (opts.css) {\n      animations = elem.getAnimations();\n      promisesAnimation =\n        animations.length &&\n        Promise.allSettled(animations.map(({ finished }) => finished));\n    }\n\n    if (!duration && !promisesEvent && !promisesAnimation) return promises;\n\n    const promisesDuration =\n      !isNaN(duration) && duration != null\n        ? new Promise((resolve) => setTimeout(resolve, duration))\n        : null;\n\n    promisesDuration && promises.push(promisesDuration);\n    promisesEvent && promises.push(promisesEvent);\n    promisesAnimation && promises.push(promisesAnimation);\n\n    this.animations = animations;\n\n    return promises;\n  }\n  get isAnimating() {\n    return !!this.promises.length;\n  }\n  cancel() {\n    this.animations?.forEach((animation) => animation.cancel());\n    return Promise.allSettled([this.getAwaitPromise()]);\n  }\n  getAwaitPromise() {\n    return Promise.allSettled(this.promises);\n  }\n\n  async run(s, animated = true) {\n    const { elem, opts } = this;\n    if (!elem) return;\n\n    let isEnabled = callOrReturn(opts.enabled, elem);\n    if (opts.enabled === AUTO) {\n      isEnabled = window.matchMedia(\n        \"(prefers-reduced-motion:no-preference)\",\n      ).matches;\n    }\n\n    if (isEnabled && animated) {\n      if (opts.css) {\n        opts.cssVariables && this.toggleVariables(true);\n        this.toggleAnimationClasses(s);\n      }\n\n      this.collectPromises(s);\n      if (this.promises.length) {\n        await this.getAwaitPromise();\n      }\n      if (opts.css) {\n        opts.cssVariables && this.toggleVariables(false);\n      }\n    }\n\n    this.setClasses(null);\n    this.promises.length = 0;\n  }\n  destroy() {\n    this.setClasses(null);\n    this.isInit = false;\n  }\n  static createOrUpdate(transition, elem, opts, defaultOpts) {\n    if (!opts) {\n      transition?.destroy();\n      return;\n    }\n    return transition\n      ? transition.update(opts, defaultOpts)\n      : new Transition(elem, opts, defaultOpts);\n  }\n}\n","import {\n  UI_PREFIX,\n  POSITION,\n  TELEPORT,\n  doc,\n  DATA_UI_PREFIX,\n} from \"./constants\";\nimport { isString, isObject } from \"./is\";\nimport { mergeDeep, callOrReturn, getDatasetValue } from \"./utils\";\n\nclass Teleport {\n  static Default = {\n    to: false,\n    [POSITION]: \"beforeend\",\n    disableAttributes: false,\n  };\n  constructor(elem, opts = {}, defaultOpts) {\n    this.elem = elem;\n    this.update(opts, defaultOpts);\n  }\n  update(opts, defaultOpts = {}) {\n    opts = isObject(opts) ? opts : { to: opts };\n    opts = mergeDeep(\n      this.constructor.Default,\n      defaultOpts,\n      opts,\n      getDatasetValue(this.elem, TELEPORT, \"to\"),\n    );\n\n    this.opts = opts;\n\n    if (!opts.to) {\n      return this.destroy();\n    }\n\n    return this;\n  }\n  move(...toParameters) {\n    const { opts, elem } = this;\n    const { position } = opts;\n    let to = callOrReturn(opts.to, ...toParameters);\n    to = isString(to) ? doc.querySelector(to) : to;\n\n    if (!to) return;\n    this.placeholder = doc.createComment(UI_PREFIX + TELEPORT + \":\" + elem.id);\n\n    if (this.placeholder) {\n      elem.before(this.placeholder);\n    }\n    to.insertAdjacentElement(position, elem);\n\n    return this;\n  }\n  destroy() {\n    this.reset();\n  }\n  reset() {\n    this.placeholder?.replaceWith(this.elem);\n    this.placeholder = null;\n    return this;\n  }\n  static createOrUpdate(teleport, elem, opts, defaultOpts) {\n    return teleport\n      ? teleport.update(opts, defaultOpts)\n      : opts !== false ||\n        (!opts.disableAttributes &&\n          elem.getAttribute(DATA_UI_PREFIX + TELEPORT))\n      ? new Teleport(elem, opts, defaultOpts)\n      : null;\n  }\n}\nexport default Teleport;\n","import {\n  CANCEL,\n  DATA_UI_PREFIX,\n  DISMISS,\n  EVENT_CLICK,\n  PRIVATE_OPTION_CANCEL_ON_HIDE,\n  UI_EVENT_PREFIX,\n} from \"../constants\";\nimport { isString } from \"../is\";\nconst eventName = EVENT_CLICK + UI_EVENT_PREFIX + \"-\" + DISMISS;\nexport default function (\n  instance,\n  elem = instance.base,\n  action = instance.hide,\n) {\n  instance._on(\n    elem,\n    eventName,\n    isString(instance.opts[DISMISS])\n      ? instance.opts[DISMISS]\n      : `[${DATA_UI_PREFIX + DISMISS}=\"\"],[${DATA_UI_PREFIX + DISMISS}=\"${\n          instance.constructor.NAME\n        }\"]`,\n    (event) => {\n      if (event.__dismissTriggered) return;\n      event.preventDefault();\n      event.__dismissTriggered = true;\n      const eventParams = { event, trigger: event.deligateTarget };\n      action(eventParams);\n      if (instance.constructor[PRIVATE_OPTION_CANCEL_ON_HIDE]) {\n        instance._emit(CANCEL, eventParams);\n      }\n    },\n  );\n}\n","import { doc, EVENT_CLOSE, EVENT_KEYDOWN, KEY_ESC } from \"./constants/index.js\";\n\nconst stack = [];\n\nconst CloseWatcher =\n  window.CloseWatcher ||\n  class CloseWatcher extends EventTarget {\n    isActive = true;\n    oncloseHandler = null;\n    constructor() {\n      super();\n      stack.push(this);\n    }\n\n    destroy() {\n      this.deactivate();\n    }\n\n    close() {\n      if (!this.isActive || !document.defaultView) return;\n\n      this.dispatchEvent(new Event(EVENT_CLOSE));\n      this.deactivate();\n    }\n\n    deactivate() {\n      this.isActive = false;\n      const index = stack.indexOf(this);\n      if (index !== -1) {\n        stack.splice(index, 1);\n      }\n    }\n\n    set onclose(handler) {\n      if (this.oncloseHandler && handler === null) {\n        this.removeEventListener(EVENT_CLOSE, this.oncloseHandler);\n        this.oncloseHandler = null;\n      } else {\n        this.oncloseHandler = handler;\n        this.addEventListener(EVENT_CLOSE, this.oncloseHandler);\n      }\n    }\n  };\n\nif (!window.CloseWatcher) {\n  doc.addEventListener(EVENT_KEYDOWN, (event) => {\n    if (!event.isTrusted || event.keyCode !== KEY_ESC) return;\n\n    const closeWatcher = stack.at(-1);\n\n    if (!closeWatcher) return;\n\n    setTimeout(() => {\n      if (event.defaultPrevented) return;\n      closeWatcher.close();\n    }, 0);\n  });\n}\n\nexport default CloseWatcher;\n","import {\n  AUTO,\n  CANCEL,\n  MODAL,\n  OPTION_BACK_DISMISS,\n  UI_EVENT_PREFIX,\n} from \"../constants\";\nimport { isDialog } from \"../is/index.js\";\nimport CloseWatcher from \"../CloseWatcher.js\";\n\nexport default function (s, instance) {\n  const { base, _on, _off, opts } = instance;\n\n  if (isDialog(base)) {\n    if (s) {\n      _on(base, CANCEL + UI_EVENT_PREFIX, (event) => {\n        event.preventDefault();\n      });\n    } else {\n      _off(base, CANCEL + UI_EVENT_PREFIX);\n    }\n  }\n  if (s) {\n    if (\n      opts[OPTION_BACK_DISMISS] === AUTO\n        ? opts[MODAL]\n        : opts[OPTION_BACK_DISMISS]\n    ) {\n      instance._closeWatcher = new CloseWatcher();\n      instance._closeWatcher.onclose = (event) => {\n        instance.hide({ event });\n      };\n    }\n  } else {\n    instance._closeWatcher?.destroy();\n    instance._closeWatcher = null;\n  }\n}\n","import {\n  FOCUSABLE_ELEMENTS_SELECTOR,\n  doc,\n  AUTOFOCUS,\n  DATA_UI_PREFIX,\n} from \"../constants\";\nimport { getOptionElem } from \"../utils/index.js\";\nimport { isDialog } from \"../is/index.js\";\nimport { focus } from \"../dom/index.js\";\n\nexport default (instance, elem = instance.base) => {\n  const autofocus = instance.opts.autofocus;\n  let focusElem = getOptionElem(\n    instance,\n    autofocus === true\n      ? `[${AUTOFOCUS}],[${DATA_UI_PREFIX + AUTOFOCUS}=\"\"],[${\n          DATA_UI_PREFIX + AUTOFOCUS\n        }=\"${instance.constructor.NAME}\"]`\n      : autofocus,\n    elem,\n  );\n\n  focusElem ||= elem.contains(doc.activeElement) && doc.activeElement;\n\n  if (!focusElem && !isDialog(elem)) {\n    focusElem = elem.querySelector(FOCUSABLE_ELEMENTS_SELECTOR) ?? elem;\n  }\n\n  focus(focusElem);\n};\n","import {\n  EVENT_DESTROY,\n  FLOATING,\n  HIDDEN,\n  HIDDEN_CLASS,\n  INERT,\n  PLACEHOLDER,\n  SHOWN_CLASS,\n  TELEPORT,\n  TRANSITION,\n} from \"../constants\";\nimport { removeAttribute, removeClass } from \"../dom/index.js\";\nimport { destroyInstance, toggleInitClass } from \"./index.js\";\n\nexport default (\n  instance,\n  { remove = false, keepInstance = false, keepState = false } = {},\n) => {\n  const { base, _off, _emit, constructor } = instance;\n\n  const stateElem = instance[constructor.NAME];\n\n  instance[PLACEHOLDER]?.replaceWith(base);\n\n  [\"autohide\", FLOATING, TRANSITION, TELEPORT].forEach((key) => {\n    if (instance[key]) {\n      instance[key].destroy();\n      instance[key] = null;\n    }\n  });\n\n  _off();\n\n  if (!keepInstance) {\n    destroyInstance(instance);\n  }\n  if (remove) {\n    base.remove();\n  } else if (!keepState) {\n    removeClass(stateElem, [HIDDEN_CLASS, SHOWN_CLASS]);\n    removeAttribute(stateElem, HIDDEN, INERT);\n  }\n\n  instance.isInit = false;\n\n  toggleInitClass(instance, false);\n\n  _emit(EVENT_DESTROY);\n\n  return instance;\n};\n","import {\n  HOVER,\n  FOCUS,\n  CLICK,\n  EVENT_CLICK,\n  EVENT_MOUSEENTER,\n  EVENT_MOUSELEAVE,\n  EVENT_FOCUSOUT,\n  EVENT_FOCUSIN,\n  EVENT_MOUSEDOWN,\n  UI_EVENT_PREFIX,\n  TRIGGER,\n  MODAL,\n  PRIVATE_PREFIX,\n  MOUSE,\n} from \"../constants\";\nimport { isArray } from \"../is\";\n\nconst PREFIX = UI_EVENT_PREFIX + \"-\" + TRIGGER;\n\nexport default (\n  instance,\n  toggler = instance.toggler,\n  target = instance.base,\n) => {\n  let {\n    opts: { trigger, delay, mode },\n    toggle,\n    _on,\n  } = instance;\n\n  if (instance[PRIVATE_PREFIX + TRIGGER]) {\n    instance.off(\"*\", PREFIX);\n    instance[PRIVATE_PREFIX + TRIGGER] = false;\n  }\n\n  if (!trigger) return;\n\n  const triggerClick = trigger.includes(CLICK);\n  const triggerHover = mode !== MODAL && trigger.includes(HOVER);\n  const triggerFocus = mode !== MODAL && trigger.includes(FOCUS);\n  const events = [];\n  let isMouseDown = false;\n  let hoverTimer;\n  if (triggerHover) {\n    delay = isArray(delay) ? delay : [delay, delay];\n  }\n\n  let pointerType;\n  _on(toggler, \"pointerdown\" + PREFIX, (event) => {\n    pointerType = event.pointerType;\n  });\n\n  if (triggerClick) {\n    _on(toggler, EVENT_CLICK + PREFIX, (event) => {\n      if (\n        (pointerType === MOUSE && triggerHover) ||\n        (instance.isOpen &&\n          instance.transition?.isAnimating &&\n          instance.floating.floatings.size)\n      ) {\n        pointerType = null;\n        return;\n      }\n\n      toggle(null, { event, trigger: toggler });\n    });\n  }\n  if (triggerHover) {\n    events.push(EVENT_MOUSEENTER + PREFIX, EVENT_MOUSELEAVE + PREFIX);\n  }\n  if (triggerFocus) {\n    events.push(EVENT_FOCUSIN + PREFIX, EVENT_FOCUSOUT + PREFIX);\n\n    (triggerClick || triggerFocus) &&\n      _on(toggler, EVENT_MOUSEDOWN, () => {\n        isMouseDown = true;\n        if (instance.isOpen) {\n          clearTimeout(hoverTimer);\n        }\n        requestAnimationFrame(() => (isMouseDown = false));\n      });\n  }\n\n  if (triggerHover || triggerFocus) {\n    _on([toggler, target], events, (event) => {\n      const { type } = event;\n      if (pointerType === \"touch\") return;\n      const isFocus = type === EVENT_FOCUSIN || type === EVENT_FOCUSOUT;\n\n      if (\n        (type === EVENT_FOCUSIN && isMouseDown) ||\n        (type === EVENT_FOCUSOUT &&\n          triggerHover &&\n          toggler.matches(\":\" + HOVER))\n      ) {\n        return;\n      }\n\n      const entered =\n        (triggerHover && type === EVENT_MOUSEENTER) ||\n        (triggerFocus && type === EVENT_FOCUSIN);\n      const d = isFocus ? 0 : delay[entered ? 0 : 1];\n      clearTimeout(hoverTimer);\n\n      if (d) {\n        hoverTimer = setTimeout(() => {\n          toggle(entered, { trigger: toggler, event });\n        }, d);\n      } else {\n        toggle(entered, { trigger: event.target, event });\n      }\n    });\n  }\n\n  instance[PRIVATE_PREFIX + TRIGGER] = true;\n};\n","import { arrayFrom, createElement } from \"../utils/index.js\";\nimport {\n  AFTER,\n  BEFORE,\n  DATA_UI_PREFIX,\n  doc,\n  FIXED,\n  FOCUS,\n  FOCUSABLE_ELEMENTS_SELECTOR,\n  TABINDEX,\n} from \"../constants/index.js\";\n\nimport focus from \"../dom/focus.js\";\n\nconst FOCUS_GUARD = FOCUS + \"-guard\";\n\nexport default class FocusGuards {\n  constructor(target, opts = {}) {\n    this.target = target;\n    this.opts = opts;\n    this.init();\n  }\n  init() {\n    const { target, opts } = this;\n\n    this.onFocus = (e) => {\n      let returnElem = opts.anchor;\n      let focusFirst = false;\n      const isGuardBefore =\n        e.target.getAttribute(DATA_UI_PREFIX + FOCUS_GUARD) === BEFORE;\n\n      if (opts.focusAfterAnchor && returnElem) {\n        if (!isGuardBefore) {\n          const globalReturnElems = [\n            ...doc.querySelectorAll(FOCUSABLE_ELEMENTS_SELECTOR),\n          ];\n          returnElem =\n            globalReturnElems[\n              globalReturnElems.findIndex((el) => el === returnElem) + 1\n            ];\n        }\n        opts.onFocusOut && opts.onFocusOut();\n        return focus(returnElem);\n      }\n\n      if (e.relatedTarget === returnElem) {\n        focusFirst = true;\n      }\n\n      (\n        arrayFrom(target.querySelectorAll(FOCUSABLE_ELEMENTS_SELECTOR)).at(\n          !focusFirst && isGuardBefore ? -1 : 0,\n        ) || target\n      )?.focus();\n    };\n\n    this.focusGuards = [BEFORE, AFTER].map((methodName) => {\n      const focusGuard = createElement(\"span\", {\n        [TABINDEX]: 0,\n        [DATA_UI_PREFIX + FOCUS_GUARD]: methodName,\n        style: `outline:none;opacity:0;position:fixed;pointer-events:none;`,\n      });\n      target[methodName](focusGuard);\n      focusGuard.addEventListener(FOCUS, this.onFocus);\n      return focusGuard;\n    });\n  }\n  destroy() {\n    this.focusGuards.forEach((focusGuard) => {\n      focusGuard.remove();\n      focusGuard.removeEventListener(FOCUS, this.onFocus);\n    });\n  }\n}\n","import { isDialog } from \"../is/index.js\";\nimport {\n  MODAL,\n  POPOVER,\n  POPOVER_API_MODE_MANUAL,\n  POPOVER_API_SUPPORTED,\n} from \"../constants/index.js\";\n\nexport const destroyTopLayer = (elem) => {\n  elem.popover && elem.hidePopover?.();\n  elem.close?.();\n  elem.popover = null;\n};\n\nexport const addPopoverAttribute = (instance, elem = instance.base) => {\n  elem.popover =\n    instance.opts.topLayer &&\n    (!instance.opts[MODAL] || !isDialog(elem)) &&\n    POPOVER_API_SUPPORTED\n      ? POPOVER_API_MODE_MANUAL\n      : null;\n};\n\nexport const toggleTopLayer = (instance, s) => {\n  const { constructor, opts } = instance;\n  const target = instance[constructor.NAME];\n  const targetIsDialog = isDialog(target);\n  const targetIsModal = targetIsDialog && opts[MODAL] && opts.topLayer;\n  const targetIsPopover =\n    opts.topLayer && POPOVER_API_SUPPORTED && target.popover;\n\n  if (s) {\n    if (targetIsDialog) {\n      if (targetIsModal) {\n        if (target.open) target.close();\n        target.showModal();\n        constructor.dispatchTopLayer(MODAL);\n      } else {\n        if (targetIsPopover) {\n          target.close?.();\n          target.showPopover();\n          constructor.dispatchTopLayer(POPOVER);\n        } else {\n          target.show();\n        }\n      }\n    } else if (targetIsPopover) {\n      target.showPopover();\n      constructor.dispatchTopLayer(POPOVER);\n    }\n  } else {\n    target.close?.();\n    target[POPOVER] && target.hidePopover?.();\n  }\n};\n","import {\n  VAR_UI_PREFIX,\n  WIDTH,\n  HEIGHT,\n  ANCHOR,\n  TOP,\n  LEFT,\n  PX,\n  AVAILABLE_WIDTH,\n  AVAILABLE_HEIGHT,\n  EVENT_SCROLL,\n  EVENT_RESIZE,\n  DATA_UI_PREFIX,\n  DIALOG,\n  FLIP,\n  SHRINK,\n  STICKY,\n  PLACEMENT,\n  PADDING,\n  OFFSET,\n  ARROW,\n  POPOVER_API_SUPPORTED,\n  OPTION_TOP_LAYER,\n  EVENT_KEYDOWN,\n  FOCUSABLE_ELEMENTS_SELECTOR,\n  KEY_TAB,\n  OPTION_MOVE_TO_ROOT,\n  FLOATING,\n  MODAL,\n  RIGHT,\n  BOTTOM,\n  body,\n  AUTO,\n} from \"./constants\";\nimport {\n  getPosition,\n  returnArray,\n  isOverflowElement,\n  observeResize,\n  resizeObserver,\n  ResetFloatingCssVariables,\n  collectCssVariables,\n  arrayFrom,\n  camelToKebab,\n} from \"./utils\";\nimport { EventHandler } from \"./EventHandler\";\nimport {\n  getBoundingClientRect,\n  getPropertyValue,\n  parents,\n  setAttribute,\n  focus,\n  isRtl,\n  removeAttribute,\n} from \"./dom\";\n\nimport { isDialog } from \"./is/index.js\";\nimport FocusGuards from \"./modules/FocusGuards.js\";\nimport { toggleTopLayer } from \"./modules/toggleTopLayer.js\";\n\nResetFloatingCssVariables();\n\nconst OPTIONS = [\n  FLIP,\n  STICKY,\n  SHRINK,\n  PLACEMENT,\n  OPTION_TOP_LAYER,\n  OPTION_MOVE_TO_ROOT,\n];\n\nconst CURRENT_PLACEMENT_ATTRIBUTE = DATA_UI_PREFIX + \"current-\" + PLACEMENT;\nconst TRANSFORM_ORIGIN = \"transform-origin\";\nconst CSS_VARIABLES = [\n  LEFT,\n  TOP,\n  AVAILABLE_WIDTH,\n  AVAILABLE_HEIGHT,\n  WIDTH,\n  HEIGHT,\n  ARROW + \"-\" + LEFT,\n  ARROW + \"-\" + TOP,\n  ANCHOR + \"-\" + WIDTH,\n  ANCHOR + \"-\" + HEIGHT,\n  TRANSFORM_ORIGIN,\n].map((name) => VAR_UI_PREFIX + FLOATING + \"-\" + name);\n\nexport default class Floating {\n  static instances = new Set();\n  constructor({ target, anchor, arrow, opts, name = \"\", base, instance }) {\n    const { on, off } = new EventHandler();\n\n    Object.assign(this, {\n      target,\n      anchor,\n      arrow,\n      opts,\n      name,\n      on,\n      off,\n      base,\n      instance,\n      floatings: new Set(),\n    });\n  }\n  init() {\n    const { target, anchor, arrow, opts, base, name, on, instance } = this;\n    const PREFIX = VAR_UI_PREFIX + name + \"-\";\n    const FLOATING_PREFIX = VAR_UI_PREFIX + FLOATING + \"-\";\n\n    target.setAttribute(DATA_UI_PREFIX + FLOATING, name);\n\n    const anchorScrollParents = parents(anchor, isOverflowElement, body);\n    const anchorStyles = getComputedStyle(anchor);\n    const targetStyles = getComputedStyle(target);\n\n    const options = {};\n    OPTIONS.forEach((name) => {\n      const variableName = camelToKebab(name);\n      return (options[name] =\n        getPropertyValue(anchorStyles, PREFIX + variableName) ||\n        getPropertyValue(targetStyles, PREFIX + variableName));\n    });\n\n    const border = Object.fromEntries(\n      [TOP, RIGHT, BOTTOM, LEFT].map((side) => [\n        side,\n        parseFloat(getPropertyValue(targetStyles, `border-${side}-width`)),\n      ]),\n    );\n\n    OPTIONS.forEach((name) => {\n      if (name === FLIP) {\n        options[FLIP] = options[FLIP]\n          ? options[FLIP].split(\" \").map((v) => v === \"1\")\n          : returnArray(opts[FLIP]);\n      } else if (name === PLACEMENT) {\n        options[name] =\n          base.getAttribute(DATA_UI_PREFIX + camelToKebab(name)) ||\n          options[name] ||\n          opts[name];\n      } else {\n        options[name] =\n          options[name] === \"1\"\n            ? true\n            : options[name] === \"0\"\n            ? false\n            : opts[name];\n      }\n      this[name] = options[name];\n    });\n\n    let { shrink, sticky, topLayer, moveToRoot, flip, placement } = this;\n\n    const targetIsModal = opts[MODAL] && isDialog(target);\n\n    const usePopoverApi = topLayer && !targetIsModal && POPOVER_API_SUPPORTED;\n\n    const inTopLayer =\n      (topLayer && POPOVER_API_SUPPORTED) || targetIsModal || moveToRoot;\n\n    const focusTrap = opts.focusTrap === AUTO ? opts[MODAL] : opts.focusTrap;\n\n    const useFocusGuards =\n      (focusTrap && !targetIsModal) || (usePopoverApi && moveToRoot);\n\n    if (moveToRoot && !targetIsModal && !opts.focusTrap) {\n      on(anchor, EVENT_KEYDOWN, (e) => {\n        if (e.keyCode === KEY_TAB && !e.shiftKey) {\n          const focusElem = target.querySelector(FOCUSABLE_ELEMENTS_SELECTOR);\n          if (focusElem) {\n            e.preventDefault();\n            focus(focusElem);\n          }\n        }\n      });\n    }\n\n    if (useFocusGuards) {\n      this.focusGuards = new FocusGuards(target, {\n        focusAfterAnchor: !opts.focusTrap,\n        anchor,\n        topLayer,\n        onFocusOut:\n          isDialog(target) &&\n          (() => {\n            instance.hide?.();\n          }),\n      });\n    }\n\n    if (placement === DIALOG) {\n      setAttribute(target, CURRENT_PLACEMENT_ATTRIBUTE, DIALOG);\n      toggleTopLayer(instance, true);\n      return this;\n    }\n\n    const {\n      padding,\n      offset = opts.offset,\n      boundaryOffset = opts.boundaryOffset,\n      arrowOffset,\n      arrowPadding,\n      arrowWidth,\n      arrowHeight,\n    } = collectCssVariables(anchorStyles, targetStyles, target, PREFIX);\n\n    let anchorRect = getBoundingClientRect(anchor);\n\n    const targetRect = {\n      [WIDTH]: target.offsetWidth,\n      [HEIGHT]: target.offsetHeight,\n    };\n    [WIDTH, HEIGHT].forEach((size) => {\n      target.style.setProperty(FLOATING_PREFIX + size, targetRect[size] + PX);\n      target.style.setProperty(\n        FLOATING_PREFIX + ANCHOR + \"-\" + size,\n        anchorRect[size] + PX,\n      );\n    });\n\n    let arrowData;\n    if (arrow || arrowWidth || arrowHeight) {\n      arrowData = {\n        [WIDTH]: arrowWidth?.[0] || arrow?.offsetWidth,\n        [HEIGHT]: arrowHeight?.[0] || arrow?.offsetHeight,\n      };\n      arrowData[PADDING] = arrowPadding ?? opts[ARROW]?.padding ?? 0;\n      arrowData[OFFSET] = arrowOffset ?? opts[ARROW]?.offset ?? 0;\n    }\n\n    if (!inTopLayer) {\n      shrink = false;\n      flip = false;\n      sticky = false;\n    }\n\n    const params = {\n      anchorRect,\n      targetRect,\n      arrow: arrowData,\n      placement,\n      inTopLayer,\n      flip,\n      sticky,\n      shrink,\n      offset,\n      boundaryOffset,\n      padding,\n      border,\n      minHeight: parseFloat(targetStyles.minHeight) || 0,\n      minWidth: parseFloat(targetStyles.minWidth) || 0,\n      isRtl: isRtl(anchor),\n    };\n\n    let prevTop = 0;\n    const updatePosition = () => {\n      anchorRect = getBoundingClientRect(anchor);\n\n      if (!inTopLayer) {\n        anchorRect.left = anchorRect.x = anchor.offsetLeft;\n        anchorRect.top = anchorRect.y = anchor.offsetTop;\n        anchorRect.right = anchor.offsetLeft + anchorRect.width;\n        anchorRect.bottom = anchor.offsetTop + anchorRect.height;\n      }\n\n      const position = getPosition({ ...params, anchorRect });\n\n      if (inTopLayer) {\n        position.top += window.scrollY;\n        position.left += window.scrollX;\n      }\n\n      if (prevTop && Math.abs(prevTop - position.top) > 50) {\n        prevTop = position.top;\n\n        return updatePosition();\n      }\n      prevTop = position.top;\n\n      setAttribute(target, CURRENT_PLACEMENT_ATTRIBUTE, position[PLACEMENT]);\n\n      if (shrink) {\n        [AVAILABLE_WIDTH, AVAILABLE_HEIGHT].forEach((name) =>\n          target.style.setProperty(FLOATING_PREFIX + name, position[name] + PX),\n        );\n      }\n\n      [LEFT, TOP].forEach((dir, i) => {\n        target.style.setProperty(FLOATING_PREFIX + dir, position[dir] + PX);\n        if (arrowData) {\n          target.style.setProperty(\n            FLOATING_PREFIX + ARROW + \"-\" + dir,\n            position.arrow[i] + PX,\n          );\n        }\n      });\n\n      target.style.setProperty(\n        FLOATING_PREFIX + TRANSFORM_ORIGIN,\n        `${position.transformOrigin[0]}px ${position.transformOrigin[1]}px`,\n      );\n    };\n\n    observeResize(target, (width, height) => {\n      targetRect[WIDTH] = width;\n      targetRect[HEIGHT] = height;\n      updatePosition();\n    });\n\n    updatePosition();\n\n    toggleTopLayer(instance, true);\n\n    on(\n      [...anchorScrollParents, window, visualViewport],\n      EVENT_SCROLL,\n      updatePosition,\n      {\n        passive: true,\n      },\n    );\n\n    on(visualViewport, EVENT_RESIZE, updatePosition, {\n      passive: true,\n    });\n\n    this.updatePosition = updatePosition.bind(this);\n\n    Floating.instances.add(this);\n\n    this.parentFloating = arrayFrom(Floating.instances).find(\n      (floating) => floating !== this && anchor.closest(\"#\" + floating.base.id),\n    );\n    this.parentFloating?.floatings?.add(this);\n\n    return this;\n  }\n\n  destroy() {\n    const { target } = this;\n    this.off();\n    resizeObserver.unobserve(target);\n\n    removeAttribute(\n      target,\n      DATA_UI_PREFIX + FLOATING,\n      CURRENT_PLACEMENT_ATTRIBUTE,\n    );\n\n    toggleTopLayer(this.instance, false);\n\n    CSS_VARIABLES.forEach((name) => target.style.removeProperty(name));\n\n    this.focusGuards?.destroy();\n\n    Floating.instances.delete(this);\n    this.parentFloating?.floatings?.delete(this);\n  }\n}\n","import {\n  ARROW_HEIGHT,\n  ARROW_OFFSET,\n  ARROW_PADDING,\n  ARROW_WIDTH,\n  BOUNDARY_OFFSET,\n  CLIP_PATH_PROPERTY,\n  OFFSET,\n  PADDING,\n} from \"../../constants/index.js\";\n\nimport { getPropertyValue } from \"../../dom/index.js\";\nimport createInset from \"./createInset.js\";\nimport valuesToArray from \"../valuesToArray.js\";\nimport kebabToCamel from \"../kebabToCamel.js\";\n\nexport default (anchorStyles, targetStyles, target, PREFIX) => {\n  const valuesNames = [\n    PADDING,\n    OFFSET,\n    BOUNDARY_OFFSET,\n    ARROW_OFFSET,\n    ARROW_PADDING,\n    ARROW_WIDTH,\n    ARROW_HEIGHT,\n  ];\n  const values = valuesNames\n    .map((name) => {\n      let value =\n        getPropertyValue(anchorStyles, PREFIX + name) ||\n        getPropertyValue(targetStyles, PREFIX + name);\n      if (!value) return;\n\n      value = value.replace(/\\n/g, \"\").split(\" \").filter(Boolean);\n\n      if (name === BOUNDARY_OFFSET) {\n        value = createInset(value, true);\n      } else {\n        value[1] ??= value[0];\n      }\n      return { name, value };\n    })\n    .filter(Boolean);\n\n  const polygonValues = values\n    .map(({ name, value }) => {\n      if (name === BOUNDARY_OFFSET) {\n        const valueEnd = value.splice(2).join(\" \");\n        value = value.join(\" \");\n        return [value, valueEnd].join(\",\");\n      }\n      return value.join(\" \");\n    })\n    .join(\",\");\n\n  target.style.setProperty(CLIP_PATH_PROPERTY, `polygon(${polygonValues})`);\n\n  const targetComputedStyle = getComputedStyle(target);\n\n  const computedValues = targetComputedStyle[CLIP_PATH_PROPERTY].slice(8, -1)\n    .split(\",\")\n    .values();\n\n  const result = { targetComputedStyle };\n\n  if (values.length) {\n    values.forEach(({ name }) => {\n      let value = valuesToArray(computedValues.next());\n      if (name === BOUNDARY_OFFSET) {\n        value = [...value, ...valuesToArray(computedValues.next())];\n      } else if (name === OFFSET || name === ARROW_OFFSET) {\n        value = value[0];\n      }\n      result[kebabToCamel(name)] = value;\n    });\n  }\n\n  if (values.length) {\n    target.style.removeProperty(CLIP_PATH_PROPERTY);\n  }\n\n  return result;\n};\n","import {\n  ACTION_REMOVE,\n  CLASS_HIDDEN_MODE,\n  CLASS_SHOWN_MODE,\n  doc,\n  EVENT_BEFORE_MATCH,\n  FLOATING_DATA_ATTRIBUTE,\n  HIDDEN,\n  HIDDEN_CLASS,\n  STATE_MODE,\n  MODE_HIDDEN_UNTIL_FOUND,\n  PLACEHOLDER,\n  SHOWN_CLASS,\n  UI_PREFIX,\n  UNTIL_FOUND,\n} from \"../constants/index.js\";\n\nexport default (\n  s,\n  instance,\n  target = instance.base,\n  subInstance = instance,\n) => {\n  const opts = instance.opts;\n  const mode = opts[STATE_MODE];\n\n  if (mode === ACTION_REMOVE) {\n    if (s) {\n      if (opts.keepPlace) {\n        subInstance[PLACEHOLDER]?.replaceWith(target);\n        subInstance[PLACEHOLDER] = null;\n      } else {\n        subInstance._floatingParent?.append(target);\n      }\n    } else {\n      if (opts.keepPlace) {\n        target.replaceWith(\n          (subInstance[PLACEHOLDER] ||= doc.createComment(\n            UI_PREFIX + PLACEHOLDER + \":\" + target.id,\n          )),\n        );\n      } else {\n        const parent = target.parentElement;\n        if (parent) {\n          subInstance._floatingParent = parent.hasAttribute(\n            FLOATING_DATA_ATTRIBUTE,\n          )\n            ? parent.parentElement\n            : parent;\n          target.remove();\n        }\n      }\n    }\n  } else if (mode !== CLASS_HIDDEN_MODE && mode !== CLASS_SHOWN_MODE) {\n    if (mode === MODE_HIDDEN_UNTIL_FOUND) {\n      if (s) {\n        target[HIDDEN] = null;\n        instance.off(target, EVENT_BEFORE_MATCH);\n      } else {\n        target.setAttribute(HIDDEN, UNTIL_FOUND);\n        instance._on(target, EVENT_BEFORE_MATCH, (event) => {\n          instance.show(target, { animated: false, event });\n        });\n      }\n    } else {\n      target.toggleAttribute(mode, !s);\n    }\n  }\n\n  target.classList.toggle(HIDDEN_CLASS, !s && mode === CLASS_HIDDEN_MODE);\n  target.classList.toggle(SHOWN_CLASS, s && mode === CLASS_SHOWN_MODE);\n\n  if (s) {\n    target[HIDDEN] = false;\n  }\n};\n","import {\n  EVENT_SHOW,\n  EVENT_HIDE,\n  ARROW,\n  doc,\n  EVENT_SHOWN,\n  EVENT_HIDDEN,\n  FLOATING,\n  TOOLTIP,\n  EVENT_KEYDOWN,\n  OPTION_BACK_DISMISS,\n  KEY_ESC,\n  EVENT_MOUSEENTER,\n} from \"../constants\";\nimport { getDataSelector } from \"../utils\";\nimport Floating from \"../Floating.js\";\nimport { focus } from \"../dom/index.js\";\nimport toggleBackDismiss from \"./toggleBackDismiss.js\";\nimport callAutofocus from \"./callAutofocus.js\";\nimport toggleStateMode from \"./toggleStateMode.js\";\nimport {\n  addFrameState,\n  toggleLightDismiss,\n  togglePreventScroll,\n} from \"./index.js\";\n\nexport default (instance, { s, animated, silent, eventParams }) => {\n  const { transition, base, opts, toggler, _emit, constructor, teleport } =\n    instance;\n  const name = constructor.NAME;\n  const target = instance[name];\n  const anchor = toggler ?? base;\n\n  s && toggleStateMode(true, instance, target);\n\n  if (s) {\n    teleport.move(instance);\n    instance[FLOATING] = new Floating({\n      base,\n      anchor,\n      target,\n      name,\n      arrow: target.querySelector(getDataSelector(name, ARROW)),\n      opts,\n      instance,\n    }).init();\n    togglePreventScroll(instance, true);\n  }\n\n  addFrameState(instance, s);\n\n  !silent && _emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams);\n\n  const promise = transition?.run(s, animated);\n\n  toggleLightDismiss(instance, s);\n\n  if (name === TOOLTIP) {\n    if (s) {\n      instance._on(doc, EVENT_KEYDOWN + \".\" + OPTION_BACK_DISMISS, (event) => {\n        if (!event.isTrusted || event.keyCode !== KEY_ESC) return;\n        instance.hide({ event });\n      });\n    } else {\n      instance._off(doc, EVENT_KEYDOWN + \".\" + OPTION_BACK_DISMISS);\n    }\n  } else {\n    toggleBackDismiss(s, instance);\n  }\n\n  if (s) {\n    (opts.autofocus || opts.focusTrap) &&\n      eventParams?.event?.type !== EVENT_MOUSEENTER &&\n      callAutofocus(instance);\n  } else {\n    !s && target.contains(doc.activeElement) && focus(toggler);\n  }\n\n  (async () => {\n    if (!s) {\n      if (animated) {\n        await promise;\n      }\n      if (instance.placeholder) {\n        target.replaceWith(instance.placeholder);\n      }\n      teleport.reset();\n      instance[FLOATING]?.destroy();\n      instance[FLOATING] = null;\n      toggleStateMode(false, instance, target);\n      togglePreventScroll(instance, false);\n    }\n    _emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams);\n  })();\n\n  return promise;\n};\n","import { APPEAR, EVENT_INIT } from \"../constants\";\nimport {\n  callOrReturn,\n  checkHash,\n  getBooleanDataAttrValue,\n  isShown,\n} from \"../utils\";\nimport toggleStateMode from \"./toggleStateMode.js\";\nimport { toggleInitClass } from \"./index.js\";\n\nexport default (instance, target = instance.base, stateElem = target) => {\n  const { opts, show, id } = instance;\n\n  instance.instances.set(id, instance);\n  instance.isInit = true;\n  toggleInitClass(instance, true);\n  instance._emit(EVENT_INIT);\n\n  const shown =\n    callOrReturn(\n      (opts.hashNavigation && checkHash(id)) || opts.shown,\n      instance,\n    ) ?? isShown(stateElem, opts.stateMode);\n\n  if (shown) {\n    show({\n      animated: !!(\n        getBooleanDataAttrValue(target, APPEAR) ??\n        opts.appear ??\n        instance._fromHTML\n      ),\n      __initial: true,\n    });\n  } else {\n    toggleStateMode(false, instance, stateElem);\n  }\n\n  return instance;\n};\n","import { CONFIRM, EVENT_CLICK, UI_EVENT_PREFIX } from \"../constants/index.js\";\nimport { closest } from \"../dom/index.js\";\n\nexport default (instance) => {\n  instance._on(instance.base, EVENT_CLICK + UI_EVENT_PREFIX, (event) => {\n    const trigger = closest(event.target, instance.opts[CONFIRM]);\n    trigger && instance._emit(CONFIRM, { event, trigger });\n  });\n};\n","import { UI_EVENT_PREFIX } from \"../constants/index.js\";\nimport { checkHash } from \"../utils/index.js\";\n\nexport default (instance) => {\n  instance._on(window, \"hashchange\" + UI_EVENT_PREFIX, (event) => {\n    if (checkHash(instance.id)) {\n      instance.show({ event });\n    }\n  });\n};\n","import { DEFAULT } from \"../constants/index.js\";\nimport { isObject, isString } from \"../is/index.js\";\nimport { upperFirst } from \"../utils/index.js\";\nconst DEFAULT_PREFIX = upperFirst(DEFAULT);\nexport default ({ opts, constructor }, name, property = false, defaults) => {\n  const defaultValue = constructor[DEFAULT_PREFIX + upperFirst(name)];\n  let value = opts[name];\n  if (defaults && value && isString(value)) {\n    value = defaults[value];\n  }\n  if (isObject(value)) {\n    opts[name] = { ...defaultValue, ...value };\n  } else if (value) {\n    opts[name] = { ...defaultValue };\n    if (property) {\n      opts[name][property] = value;\n    }\n  }\n  return opts;\n};\n","import { arrayFrom } from \"../utils/index.js\";\n\nconst FLOATING_IS_INTERACTED = \":is(:hover,:focus-within)\";\nexport default function (instance, s) {\n  const floating = instance.floating;\n\n  if (!floating) return;\n  let parentFloating = floating.parentFloating;\n\n  if (s) {\n    while (parentFloating) {\n      parentFloating.instance.show();\n      parentFloating = parentFloating.parentFloating;\n    }\n  } else {\n    if (\n      parentFloating &&\n      !parentFloating.base.matches(FLOATING_IS_INTERACTED) &&\n      !parentFloating.anchor.matches(FLOATING_IS_INTERACTED)\n    ) {\n      parentFloating.instance.hide();\n    }\n\n    let floatings = arrayFrom(floating.floatings);\n    while (floatings.length) {\n      for (const childFloating of floatings) {\n        if (childFloating.base.matches(FLOATING_IS_INTERACTED)) {\n          instance.isOpen = true;\n          return true;\n        }\n        floatings = arrayFrom(childFloating.floatings);\n      }\n    }\n  }\n}\n","import Base from \"../Base.js\";\nexport default (instance) => {\n  instance.breakpoints?.destroy();\n  instance.instances.delete(instance.id);\n  Base.allInstances.delete(instance);\n};\n","import {\n  ACTION_PREVENT,\n  AUTO,\n  MODAL,\n  OPTION_PREVENT_SCROLL,\n  PX,\n  ROOT,\n  ROOT_ELEM,\n  SCROLL,\n  UI_PREFIX,\n  VAR_UI_PREFIX,\n  WIDTH,\n} from \"../constants/index.js\";\nimport { arrayFrom } from \"../utils/index.js\";\nimport Base from \"../Base.js\";\n\nconst PROPERTY_ROOT_SCROLLBAR_WIDTH =\n  VAR_UI_PREFIX + ROOT + \"-scrollbar-\" + WIDTH;\n\nconst PREVENT_SCROLL_CLASS = UI_PREFIX + ACTION_PREVENT + \"-\" + SCROLL;\nconst updateBodyScrollbarWidth = (s) => {\n  return s\n    ? ROOT_ELEM.style.setProperty(\n        PROPERTY_ROOT_SCROLLBAR_WIDTH,\n        window.innerWidth - ROOT_ELEM.clientWidth + PX,\n      )\n    : ROOT_ELEM.style.removeProperty(PROPERTY_ROOT_SCROLLBAR_WIDTH);\n};\n\nconst checkPreventScroll = (instance) => {\n  const preventScrollOption = instance.opts[OPTION_PREVENT_SCROLL];\n  if (!instance.isOpen) return;\n  return preventScrollOption === AUTO\n    ? instance.opts[MODAL]\n    : preventScrollOption;\n};\n\nexport default (instance, s) => {\n  if (\n    (s &&\n      checkPreventScroll(instance) &&\n      !ROOT_ELEM.classList.contains(PREVENT_SCROLL_CLASS)) ||\n    (!s && !arrayFrom(Base.allInstances).find(checkPreventScroll))\n  ) {\n    updateBodyScrollbarWidth(s);\n    ROOT_ELEM.classList.toggle(PREVENT_SCROLL_CLASS, s);\n  }\n};\n","import { ACTION_INIT, UI_PREFIX } from \"../constants/index.js\";\n\nexport default (instance, s) => {\n  instance.base.classList.toggle(\n    UI_PREFIX + instance.constructor.NAME + \"-\" + ACTION_INIT,\n    s,\n  );\n};\n","import {\n  AUTO,\n  EVENT_SUFFIX_LIGHT_DISMISS,\n  MODAL,\n  OPTION_LIGHT_DISMISS,\n} from \"../constants/index.js\";\nimport { addLightDismiss } from \"./index.js\";\n\nexport default (instance, s) => {\n  if (s) {\n    if (\n      instance.opts[OPTION_LIGHT_DISMISS] === AUTO\n        ? instance.opts[MODAL]\n        : instance.opts[OPTION_LIGHT_DISMISS]\n    ) {\n      addLightDismiss(instance);\n    }\n  } else {\n    instance._off(\"*\", EVENT_SUFFIX_LIGHT_DISMISS);\n    instance._mousedownEvent = null;\n  }\n};\n","import {\n  CANCEL,\n  DIALOG,\n  EVENT_CLICK,\n  EVENT_CONTEXT_MENU_CLICK,\n  EVENT_DISMISS_PREVENTED,\n  EVENT_KEYUP,\n  EVENT_LIGHT_DISMISS_PREVENTED,\n  EVENT_MOUSEDOWN,\n  EVENT_SUFFIX_LIGHT_DISMISS,\n  FLOATING_DATA_ATTRIBUTE,\n  OPTION_LIGHT_DISMISS,\n  OPTION_PREVENT_DISMISS,\n  PREVENT,\n  PRIVATE_OPTION_CANCEL_ON_HIDE,\n  UI_PREFIX,\n} from \"../constants/index.js\";\nimport { animateClass, parents } from \"../dom/index.js\";\nimport Base from \"../Base.js\";\nimport { camelToKebab, isClickOutsideElem } from \"../utils/index.js\";\nimport { isModal } from \"../is/index.js\";\n\nexport default (instance) => {\n  const { constructor, opts, _on, _emit } = instance;\n  const base = instance[constructor.NAME];\n  const contentElem = instance.main || base;\n\n  const events = [\n    EVENT_CLICK + EVENT_SUFFIX_LIGHT_DISMISS,\n    EVENT_KEYUP + EVENT_SUFFIX_LIGHT_DISMISS,\n    (opts[OPTION_LIGHT_DISMISS]?.contextMenuClick ?? true) &&\n      EVENT_CONTEXT_MENU_CLICK + EVENT_SUFFIX_LIGHT_DISMISS,\n  ];\n\n  _on(contentElem, EVENT_MOUSEDOWN + EVENT_SUFFIX_LIGHT_DISMISS, (e) => {\n    instance._mousedownEvent = e;\n  });\n\n  _on(document, events, (event) => {\n    const target = event.target;\n    if (\n      !instance.isOpen ||\n      instance._isOpening ||\n      (opts.awaitAnimation && instance.transition?.isAnimating)\n    )\n      return;\n\n    const _mousedownEvent = instance._mousedownEvent;\n    const isBaseModal = isModal(base);\n\n    let isClickOutside;\n\n    if (\n      !_mousedownEvent &&\n      (target === instance.toggler || target === instance.anchor)\n    ) {\n      instance._mousedownEvent = null;\n      return;\n    }\n\n    const backdrop = instance.backdrop;\n    const isBackdropClick = !_mousedownEvent && target === backdrop;\n    const isTargetNotInside =\n      (!backdrop || !base.contains(backdrop)) &&\n      !_mousedownEvent &&\n      !base.contains(target);\n    const targetIsBase = !backdrop && target === base;\n\n    if (\n      isBackdropClick ||\n      isTargetNotInside ||\n      (targetIsBase &&\n        (!_mousedownEvent\n          ? isClickOutsideElem(contentElem, event)\n          : isClickOutsideElem(contentElem, _mousedownEvent)))\n    ) {\n      isClickOutside = true;\n    }\n\n    if (isClickOutside && (target === backdrop || isBaseModal)) {\n      if (opts[OPTION_PREVENT_DISMISS]) {\n        instance._mousedownEvent = null;\n        animateClass(\n          contentElem,\n          camelToKebab(UI_PREFIX + EVENT_DISMISS_PREVENTED),\n        );\n        _emit(EVENT_DISMISS_PREVENTED, { event });\n        return;\n      }\n    }\n\n    if (!isClickOutside && !opts.modal && !target.closest(\"#\" + instance.id)) {\n      const targetInstance =\n        constructor.get(target) ||\n        parents(\n          target,\n          `[${FLOATING_DATA_ATTRIBUTE}],.${UI_PREFIX + DIALOG}-init`,\n        ).find((parent) => Base.get(parent));\n\n      if ((!targetInstance || instance.floating) && !_mousedownEvent) {\n        isClickOutside = true;\n      }\n\n      if (\n        instance.floating &&\n        (instance.floating.anchor === target ||\n          instance.floating.anchor.contains(target))\n      ) {\n        return;\n      }\n    }\n\n    if (isClickOutside) {\n      instance.hide({ event });\n      if (constructor[PRIVATE_OPTION_CANCEL_ON_HIDE]) {\n        _emit(CANCEL, { event });\n      }\n    }\n\n    instance._mousedownEvent = null;\n  });\n};\n","import {\n  ARIA_DESCRIBEDBY,\n  ARIA_LABELLEDBY,\n  ARIA_SUFFIX,\n} from \"../constants/index.js\";\nimport { isElement, isString } from \"../is/index.js\";\nimport { getOptionElem, uuidGenerator } from \"../utils/index.js\";\nimport { setAttribute } from \"../dom/index.js\";\n\nexport default (instance) => {\n  const { base, opts } = instance;\n  for (const name of [ARIA_LABELLEDBY, ARIA_DESCRIBEDBY]) {\n    const suffix = ARIA_SUFFIX[name];\n    let elem = opts[suffix];\n    if (isString(elem)) {\n      elem = getOptionElem(instance, elem, base);\n    }\n    if (!isElement(elem)) {\n      elem = null;\n    }\n\n    instance[suffix] = elem;\n    if (!elem) return;\n    const id = elem ? (elem.id ||= uuidGenerator()) : elem;\n    setAttribute(base, name, id);\n  }\n};\n","export default (instance, s) => {\n  if (s) {\n    instance._isOpening = true;\n    requestAnimationFrame(() => (instance._isOpening = false));\n  } else {\n    instance._isClosing = true;\n    requestAnimationFrame(() => (instance._isClosing = false));\n  }\n};\n","import {\n  ROLE,\n  BUTTON,\n  ARIA_CONTROLS,\n  ARIA_EXPANDED,\n  DEFAULT_OPTIONS,\n  EVENT_BEFORE_INIT,\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDE,\n  EVENT_HIDDEN,\n  EVENT_CLICK,\n  CLASS_ACTIVE,\n  CLASS_ACTIVE_SUFFIX,\n  TOGGLER,\n  STATE_MODE,\n  ACTION_REMOVE,\n  HIDDEN,\n  TRANSITION,\n  OPTION_HASH_NAVIGATION,\n  OPTION_AUTODESTROY,\n  UNTIL_FOUND,\n  MODE_HIDDEN_UNTIL_FOUND,\n  DISMISS,\n} from \"./helpers/constants\";\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\nimport {\n  removeAttribute,\n  removeClass,\n  setAttribute,\n  toggleClass,\n} from \"./helpers/dom\";\nimport {\n  normalizeToggleParameters,\n  replaceWord,\n  arrayUnique,\n  arrayFrom,\n  getEventsPrefix,\n  getOptionElems,\n  getDefaultToggleSelector,\n  updateOptsByData,\n  awaitPromise,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  callShowInit,\n  addHashNavigation,\n  toggleStateMode,\n} from \"./helpers/modules\";\n\nconst COLLAPSE = \"collapse\";\n\nclass Collapse extends ToggleMixin(Base, COLLAPSE) {\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    eventPrefix: getEventsPrefix(COLLAPSE),\n    [OPTION_HASH_NAVIGATION]: false,\n    [OPTION_AUTODESTROY]: false,\n    [TOGGLER]: ({ id }) => getDefaultToggleSelector(id, true),\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [COLLAPSE + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  init() {\n    if (this.isInit) return;\n\n    this.base.id = this.id;\n\n    this._emit(EVENT_BEFORE_INIT);\n\n    this._update();\n\n    this.opts[OPTION_HASH_NAVIGATION] && addHashNavigation(this);\n    this.opts[DISMISS] && addDismiss(this);\n\n    return callShowInit(this);\n  }\n  _update() {\n    const { base, opts } = this;\n\n    if (opts[STATE_MODE] === HIDDEN && base[HIDDEN] === UNTIL_FOUND) {\n      opts[STATE_MODE] = MODE_HIDDEN_UNTIL_FOUND;\n    }\n\n    updateOptsByData(\n      opts,\n      base,\n      [TRANSITION, STATE_MODE, OPTION_HASH_NAVIGATION, OPTION_AUTODESTROY],\n      [OPTION_HASH_NAVIGATION, OPTION_AUTODESTROY],\n    );\n\n    this.teleport = Teleport.createOrUpdate(\n      this.teleport,\n      base,\n      opts.teleport,\n    )?.move(this);\n\n    if (opts[STATE_MODE] === ACTION_REMOVE && base[HIDDEN]) {\n      toggleStateMode(false, this);\n    }\n\n    this.transition = Transition.createOrUpdate(\n      this.transition,\n      base,\n      opts.transition,\n      { cssVariables: true },\n    );\n\n    this.updateTriggers();\n  }\n  destroy(destroyOpts) {\n    // eslint-disable-next-line prefer-const\n    let { opts, togglers, base } = this;\n\n    if (!this.isInit) return;\n\n    this._emit(EVENT_BEFORE_DESTROY);\n\n    if (opts.a11y) {\n      const otherTogglers = arrayFrom(this.instances.values())\n        .filter((item) => item !== this)\n        .flatMap((item) => item.togglers.filter((t) => togglers.includes(t)));\n      if (otherTogglers.length) {\n        togglers = togglers.filter((toggler) => {\n          if (!otherTogglers.includes(toggler)) {\n            return true;\n          } else {\n            setAttribute(toggler, ARIA_CONTROLS, (v) =>\n              replaceWord(v, this.id),\n            );\n          }\n        });\n      }\n    }\n\n    opts.a11y && removeAttribute(togglers, ARIA_CONTROLS, ARIA_EXPANDED, ROLE);\n    removeClass(base, opts[COLLAPSE + CLASS_ACTIVE_SUFFIX]);\n\n    baseDestroy(this, destroyOpts);\n\n    return this;\n  }\n\n  updateTriggers() {\n    const { opts, id } = this;\n\n    return (this.togglers = getOptionElems(this, opts[TOGGLER]).map(\n      (toggler) => {\n        if (!this.togglers?.includes(toggler)) {\n          if (opts.a11y) {\n            setAttribute(toggler, ARIA_CONTROLS, (v) =>\n              v ? arrayUnique(v.split(\" \").concat(id)).join(\" \") : id,\n            );\n            if (toggler.tagName !== BUTTON.toLowerCase()) {\n              toggler[ROLE] = BUTTON;\n            }\n          }\n          toggleClass(\n            toggler,\n            opts[TOGGLER + CLASS_ACTIVE_SUFFIX],\n            !!this.isOpen,\n          );\n          this._on(toggler, EVENT_CLICK, (event) => {\n            event.preventDefault();\n            this.toggle(null, { trigger: toggler, event });\n          });\n        }\n        return toggler;\n      },\n    ));\n  }\n  async toggle(s, params) {\n    const { base, togglers, opts, _emit, isOpen, isAnimating } = this;\n    const { awaitAnimation, a11y } = opts;\n    const { animated, silent, trigger, event } =\n      normalizeToggleParameters(params);\n\n    s ??= !isOpen;\n\n    if ((awaitAnimation && isAnimating) || s === isOpen) return;\n\n    this.isOpen = s;\n\n    if (isAnimating && !awaitAnimation) {\n      await this.transition.cancel();\n    }\n\n    const eventParams = { trigger, event };\n\n    !silent && _emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    s && toggleStateMode(true, this);\n\n    !silent && _emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams);\n\n    const promise = this.transition?.run(s, animated);\n\n    a11y && setAttribute(togglers, ARIA_EXPANDED, !!s);\n    toggleClass(togglers, opts[TOGGLER + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(base, opts[COLLAPSE + CLASS_ACTIVE_SUFFIX], s);\n\n    awaitPromise(promise, () => {\n      !s && toggleStateMode(false, this);\n      !silent && _emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams);\n      if (!s && opts[OPTION_AUTODESTROY]) {\n        opts[OPTION_AUTODESTROY] && this.destroy({ remove: true });\n      }\n    });\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Collapse;\n","import {\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_BEFORE_HIDE,\n  EVENT_CLICK,\n  EVENT_KEYDOWN,\n  CLASS_ACTIVE,\n  ARIA_CONTROLS,\n  DROPDOWN,\n  CLICK,\n  KEY_ENTER,\n  KEY_SPACE,\n  KEY_END,\n  KEY_HOME,\n  KEY_ARROW_LEFT,\n  KEY_ARROW_UP,\n  KEY_ARROW_RIGHT,\n  KEY_ARROW_DOWN,\n  DEFAULT_FLOATING_OPTIONS,\n  DEFAULT_OPTIONS,\n  ARIA_EXPANDED,\n  KEY_TAB,\n  TOGGLER,\n  CLASS_ACTIVE_SUFFIX,\n  doc,\n  STATE_MODE,\n  TRANSITION,\n  TRIGGER,\n  ITEM,\n  LEFT,\n  RIGHT,\n  DOWN,\n  UP,\n  OPTION_PREVENT_SCROLL,\n  TOP_LAYER_OPTIONS_NAMES,\n  body,\n  AUTO,\n  DISMISS,\n  MODAL,\n  OPTION_TOP_LAYER,\n} from \"./helpers/constants\";\n\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport {\n  toggleClass,\n  removeClass,\n  removeAttribute,\n  setAttribute,\n  closest,\n  is,\n} from \"./helpers/dom\";\nimport Transition from \"./helpers/Transition.js\";\nimport {\n  normalizeToggleParameters,\n  isUnfocusable,\n  getDataSelector,\n  getDefaultToggleSelector,\n  getOptionElems,\n  getOptionElem,\n  getEventsPrefix,\n  updateOptsByData,\n  addStatusClasses,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  toggleOnInterection,\n  floatingTransition,\n  callShowInit,\n  checkFloatings,\n  togglePreventScroll,\n} from \"./helpers/modules\";\nimport Teleport from \"./helpers/Teleport.js\";\nimport { isFunction } from \"./helpers/is/index.js\";\nimport {\n  addPopoverAttribute,\n  destroyTopLayer,\n} from \"./helpers/modules/toggleTopLayer.js\";\n\nconst DIRECTIONS = {\n  [KEY_ARROW_LEFT]: LEFT,\n  [KEY_ARROW_UP]: UP,\n  [KEY_ARROW_RIGHT]: RIGHT,\n  [KEY_ARROW_DOWN]: DOWN,\n  x: [LEFT, RIGHT],\n  y: [UP, DOWN],\n};\n\nclass Dropdown extends ToggleMixin(Base, DROPDOWN) {\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    ...DEFAULT_FLOATING_OPTIONS,\n    eventPrefix: getEventsPrefix(DROPDOWN),\n    itemClickHide: true,\n    arrowActivation: \"y\",\n    autofocus: false,\n    items: getDataSelector(DROPDOWN + \"-\" + ITEM),\n    trigger: CLICK,\n    [TOGGLER]: null,\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [DROPDOWN + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [OPTION_PREVENT_SCROLL]: AUTO,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  init() {\n    if (this.isInit) return;\n\n    const { base, show, _on, opts } = this;\n\n    base.id = this.id;\n\n    this.teleport = new Teleport(base, { disableAttributes: true });\n\n    this._update();\n\n    _on(base, EVENT_KEYDOWN, this._onKeydown.bind(this));\n    _on(this.toggler, EVENT_KEYDOWN, async (event) => {\n      let arrowActivation = opts.arrowActivation;\n      const { keyCode } = event;\n\n      if (DIRECTIONS[arrowActivation]) {\n        arrowActivation = DIRECTIONS[arrowActivation];\n      }\n\n      const arrowActivated = arrowActivation.includes(DIRECTIONS[keyCode]);\n\n      if (arrowActivated) {\n        event.preventDefault();\n        if (!this.isOpen) {\n          await show({ event, trigger: this.toggler });\n        }\n        if (this.isAnimating && !this.isOpen) return;\n        this.focusableElems\n          .at(keyCode === KEY_ARROW_UP || keyCode === KEY_ARROW_LEFT ? -1 : 0)\n          ?.focus();\n      }\n    });\n\n    opts[DISMISS] && addDismiss(this);\n\n    return callShowInit(this);\n  }\n  _update() {\n    const { base, opts, _on, _off, hide } = this;\n    updateOptsByData(\n      opts,\n      base,\n      [TRANSITION, STATE_MODE, TRIGGER, ...TOP_LAYER_OPTIONS_NAMES],\n      TOP_LAYER_OPTIONS_NAMES,\n    );\n\n    this.transition = Transition.createOrUpdate(\n      this.transition,\n      base,\n      opts.transition,\n    );\n\n    this.teleport.opts.to = opts.moveToRoot ? body : null;\n\n    this.updateToggler();\n\n    if (opts.itemClickHide) {\n      _on(base, EVENT_CLICK, async (event) => {\n        const trigger = closest(event.target, this.focusableElems);\n        if (\n          !trigger ||\n          (opts.itemClickHide !== true &&\n            (isFunction(opts.itemClickHide)\n              ? await !opts.itemClickHide(this, {\n                  trigger,\n                  event,\n                })\n              : !is(trigger, opts.itemClickHide)))\n        )\n          return;\n        hide({ event, trigger });\n      });\n    } else {\n      _off(base, EVENT_CLICK);\n    }\n\n    addPopoverAttribute(this);\n    toggleOnInterection(this);\n\n    addStatusClasses(this, MODAL, OPTION_TOP_LAYER, OPTION_PREVENT_SCROLL);\n  }\n  updateToggler() {\n    const { opts, id } = this;\n    const toggler = (this.toggler = getOptionElem(\n      this,\n      opts.toggler ?? getDefaultToggleSelector(id),\n    ));\n\n    if (!toggler) return;\n    opts.a11y && setAttribute(toggler, ARIA_CONTROLS, id);\n    return this;\n  }\n  get focusableElems() {\n    return getOptionElems(this, this.opts.items, this.dropdown).filter(\n      (elem) => !isUnfocusable(elem),\n    );\n  }\n  _onKeydown(event) {\n    const isControl = [\n      KEY_ENTER,\n      KEY_SPACE,\n      KEY_END,\n      KEY_HOME,\n      KEY_ARROW_LEFT,\n      KEY_ARROW_UP,\n      KEY_ARROW_RIGHT,\n      KEY_ARROW_DOWN,\n    ].includes(event.keyCode);\n    const { focusableElems, opts } = this;\n\n    if (!isControl && event.keyCode !== KEY_TAB) {\n      focusableElems\n        .find((elem) => elem.textContent.toLowerCase().startsWith(event.key))\n        ?.focus();\n      return;\n    }\n\n    const rtl = false;\n    const firstIndex = 0;\n    const lastIndex = focusableElems.length - 1;\n    const currentIndex = focusableElems.findIndex(\n      (elem) => elem === doc.activeElement,\n    );\n\n    const nextIndex = currentIndex + 1 > lastIndex ? 0 : currentIndex + 1;\n    const prevIndex = currentIndex > 0 ? currentIndex - 1 : lastIndex;\n\n    const prevCode = opts.horizontal ? KEY_ARROW_LEFT : KEY_ARROW_UP;\n    const nextCode = opts.horizontal ? KEY_ARROW_RIGHT : KEY_ARROW_DOWN;\n\n    if (isControl) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    switch (event.keyCode) {\n      case KEY_ENTER:\n      case KEY_SPACE:\n        focusableElems[currentIndex].click();\n        // hide({ event, trigger: event.target });\n        break;\n      case KEY_END:\n        focusableElems[rtl ? firstIndex : lastIndex].focus();\n        break;\n      case KEY_HOME:\n        focusableElems[rtl ? lastIndex : firstIndex].focus();\n        break;\n      case prevCode:\n        focusableElems[rtl ? nextIndex : prevIndex].focus();\n        break;\n      case nextCode:\n        focusableElems[rtl ? prevIndex : nextIndex].focus();\n        break;\n    }\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n    const { opts, toggler, base } = this;\n    this.emit(EVENT_BEFORE_DESTROY);\n    opts.a11y && removeAttribute(toggler, ARIA_CONTROLS, ARIA_EXPANDED);\n    removeClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX]);\n    removeClass(base, opts[DROPDOWN + CLASS_ACTIVE_SUFFIX]);\n    togglePreventScroll(this, false);\n    destroyTopLayer(base);\n    return baseDestroy(this, destroyOpts);\n  }\n\n  async toggle(s, params) {\n    const { isOpen, isAnimating, toggler, base, opts, _emit } = this;\n    const { awaitAnimation, a11y } = opts;\n    const { animated, silent, trigger, event } =\n      normalizeToggleParameters(params);\n\n    s ??= !isOpen;\n\n    if ((awaitAnimation && isAnimating) || s === isOpen) return;\n\n    this.isOpen = s;\n\n    if (checkFloatings(this, s)) return;\n\n    if (isAnimating && !awaitAnimation) {\n      await this.transition.cancel();\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && _emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    a11y && (toggler[ARIA_EXPANDED] = !!s);\n\n    const promise = floatingTransition(this, {\n      s,\n      animated,\n      silent,\n      eventParams,\n    });\n\n    toggleClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(base, opts[DROPDOWN + CLASS_ACTIVE_SUFFIX], s);\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Dropdown;\n","import {\n  UI_PREFIX,\n  PROGRESS,\n  EVENT_MOUSEENTER,\n  EVENT_FOCUSIN,\n  EVENT_FOCUSOUT,\n  EVENT_PAUSE,\n  EVENT_RESUME,\n  EVENT_RESET,\n  ACTION_PAUSE,\n  ACTION_RESUME,\n  ACTION_RESET,\n  ACTION_TOGGLE,\n  EVENT_VISIBILITY_CHANGE,\n  doc,\n  AUTOHIDE,\n  EVENT_MOUSEOVER,\n  EVENT_MOUSEOUT,\n  EVENT_MOUSELEAVE,\n  SELECTOR_FOCUS_WITHIN,\n  SELECTOR_HOVER,\n} from \"./constants\";\nimport { callOrReturn, getOption, mergeDeep, getDataSelector } from \"./utils\";\nimport { EventHandler } from \"./EventHandler\";\nimport { isNumber } from \"./is\";\n\nclass Autoaction {\n  static Default = {\n    progress: getDataSelector(AUTOHIDE, PROGRESS),\n    safeArea: getDataSelector(AUTOHIDE, \"safe-area\"),\n    duration: 5000,\n    durationUpdate: null,\n    pauseOnMouseEnter: true,\n    resetOnMouseEnter: true,\n    pauseOnFocusEnter: true,\n    resetOnFocusEnter: true,\n    visibilityControl: false,\n    cssVariable: UI_PREFIX + AUTOHIDE + \"-\" + PROGRESS,\n  };\n  constructor(elem, action, opts, defaultOpts) {\n    const Default = this.constructor.Default;\n    opts = isNumber(opts)\n      ? { ...Default, duration: opts }\n      : mergeDeep(Default, defaultOpts, opts);\n    const { on, off, emit } = new EventHandler();\n    Object.assign(this, { elem, action, on, off, emit, opts });\n    [\n      \"checkTime\",\n      ACTION_PAUSE,\n      ACTION_RESUME,\n      ACTION_RESET,\n      ACTION_TOGGLE,\n    ].forEach((action) => (this[action] = this[action].bind(this)));\n\n    this.progressElem = getOption(false, this, opts.progress, elem);\n    this.safeAreaElem = getOption(false, this, opts.safeArea, elem);\n\n    if (opts.visibilityControl) {\n      on(doc, EVENT_VISIBILITY_CHANGE, () => this.toggle(!doc.hidden));\n    }\n  }\n  toggleInterections(s) {\n    const { opts, elem, on, off, resume, pause, reset, safeAreaElem } = this;\n    const {\n      pauseOnMouseEnter,\n      resetOnMouseEnter,\n      pauseOnFocusEnter,\n      resetOnFocusEnter,\n    } = opts;\n\n    if (\n      !pauseOnMouseEnter &&\n      !resetOnMouseEnter &&\n      !pauseOnFocusEnter &&\n      !resetOnFocusEnter\n    ) {\n      reset();\n      return;\n    }\n\n    const actionsElem = safeAreaElem || elem;\n\n    if (s) {\n      reset();\n      let interactedMouse, interactedFocus;\n      if (pauseOnFocusEnter || resetOnFocusEnter) {\n        interactedFocus = actionsElem.matches(SELECTOR_FOCUS_WITHIN);\n\n        if (interactedFocus) pause();\n\n        on(actionsElem, [EVENT_FOCUSIN, EVENT_FOCUSOUT], ({ type }) => {\n          interactedFocus = safeAreaElem\n            ? actionsElem.matches(SELECTOR_FOCUS_WITHIN)\n            : type === EVENT_FOCUSIN;\n\n          if (interactedFocus) {\n            resetOnFocusEnter && reset();\n            pauseOnFocusEnter && pause();\n          } else if (!interactedMouse) {\n            pauseOnFocusEnter && resume();\n          }\n        });\n      }\n      if (pauseOnMouseEnter || resetOnMouseEnter) {\n        if (actionsElem.matches(SELECTOR_HOVER)) pause();\n\n        const events = safeAreaElem\n          ? [EVENT_MOUSEOVER, EVENT_MOUSEOUT]\n          : [EVENT_MOUSEENTER, EVENT_MOUSELEAVE];\n\n        on(actionsElem, events, ({ type }) => {\n          interactedMouse = safeAreaElem\n            ? actionsElem.matches(SELECTOR_HOVER)\n            : type === EVENT_MOUSEENTER;\n\n          if (interactedMouse) {\n            resetOnMouseEnter && reset();\n            pauseOnMouseEnter && pause();\n          } else if (!interactedFocus) {\n            pauseOnMouseEnter && resume();\n          }\n        });\n      }\n    } else {\n      off();\n    }\n    return this;\n  }\n  checkTime() {\n    const { opts, elem, progressElem, paused, _prevProgress } = this;\n    if (paused) return;\n    const current = performance.now();\n    this.timeCurrent = Math.round(current - this.timeBegin);\n    const time = opts.duration - this.timeCurrent;\n    const progress = +Math.max(time / opts.duration, 0).toFixed(4);\n    this._prevProgress = progress;\n    if (progress && progress === _prevProgress) {\n      return requestAnimationFrame(this.checkTime);\n    }\n\n    if (opts.cssVariable) {\n      progressElem?.style.setProperty(\"--\" + opts.cssVariable, progress);\n    }\n\n    callOrReturn(opts.durationUpdate, { elem, time, progress });\n\n    if (progress <= 0) {\n      this.action();\n    } else {\n      requestAnimationFrame(this.checkTime);\n    }\n  }\n  toggle(s = this.paused) {\n    return s ? this.resume() : this.pause();\n  }\n  pause() {\n    this.paused = true;\n    this.emit(EVENT_PAUSE);\n    return this;\n  }\n  resume() {\n    this.paused = false;\n    this.timeBegin = performance.now() - this.timeCurrent;\n    this.checkTime();\n    this.emit(EVENT_RESUME);\n    return this;\n  }\n  reset() {\n    this.paused = false;\n    this.timeBegin = performance.now();\n    this.checkTime();\n    this.emit(EVENT_RESET);\n    return this;\n  }\n  destroy() {\n    this.paused = true;\n    this.off();\n  }\n  static createOrUpdate(autoaction, elem, action, opts, defaultOpts) {\n    if (autoaction) {\n      return autoaction.destroy();\n    } else if (opts) {\n      return new Autoaction(elem, action, opts, defaultOpts);\n    }\n  }\n}\n\nexport default Autoaction;\n","import {\n  DEFAULT_OPTIONS,\n  ROLE,\n  CONTENT,\n  BACKDROP,\n  ARIA_LABELLEDBY,\n  ARIA_DESCRIBEDBY,\n  TABINDEX,\n  STATE_MODE,\n  EVENT_SHOW,\n  EVENT_HIDE,\n  EVENT_CLICK,\n  EVENT_HIDE_PREVENTED,\n  EVENT_BEFORE_INIT,\n  EVENT_HIDDEN,\n  EVENT_SHOWN,\n  OPTION_GROUP,\n  NAME,\n  EVENT_BEFORE_HIDE,\n  EVENT_BEFORE_SHOW,\n  CONFIRM,\n  CLASS_ACTIVE,\n  TOGGLER,\n  CLASS_ACTIVE_SUFFIX,\n  DIALOG,\n  doc,\n  UI_EVENT_PREFIX,\n  OPTION_PREVENT_SCROLL,\n  DATA_UI_PREFIX,\n  ACTION_REMOVE,\n  HIDDEN,\n  TRANSITION,\n  PRIVATE_OPTION_CANCEL_ON_HIDE,\n  OPTION_HASH_NAVIGATION,\n  OPTION_AUTODESTROY,\n  OPTION_LIGHT_DISMISS,\n  UI_PREFIX,\n  TOP_LAYER_OPTIONS,\n  TOP_LAYER_OPTIONS_NAMES,\n  AUTO,\n  DISMISS,\n  MODAL,\n  OPTION_BACK_DISMISS,\n  ARIA_SUFFIX,\n  AUTOHIDE,\n  DURATION,\n  EVENT_CLOSE,\n  OPTION_TOP_LAYER,\n  OPTION_PREVENT_DISMISS,\n  EVENT_DISMISS_PREVENTED,\n} from \"./helpers/constants\";\nimport { isString, isFunction, isDialog, isModal } from \"./helpers/is\";\nimport {\n  getElements,\n  toggleClass,\n  removeClass,\n  focus,\n  closest,\n  removeAttribute,\n  animateClass,\n} from \"./helpers/dom\";\nimport {\n  arrayFrom,\n  getDataSelector,\n  normalizeToggleParameters,\n  getEventsPrefix,\n  getDefaultToggleSelector,\n  getOptionElem,\n  updateOptsByData,\n  awaitPromise,\n  resetTransition,\n  camelToKebab,\n  addStatusClasses,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  callAutofocus,\n  toggleBackDismiss,\n  callShowInit,\n  toggleConfirm,\n  addHashNavigation,\n  toggleStateMode,\n  updateModule,\n  togglePreventScroll,\n  FocusGuards,\n  addAriaTargets,\n  addFrameState,\n  toggleLightDismiss,\n} from \"./helpers/modules\";\nimport Base from \"./helpers/Base\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\nimport {\n  addPopoverAttribute,\n  destroyTopLayer,\n  toggleTopLayer,\n} from \"./helpers/modules/toggleTopLayer.js\";\nimport Autoaction from \"./helpers/Autoaction.js\";\n\nclass Dialog extends ToggleMixin(Base, DIALOG) {\n  static [PRIVATE_OPTION_CANCEL_ON_HIDE] = true;\n  static DefaultGroup = {\n    name: \"\",\n    awaitPrevious: true,\n    hidePrevious: true,\n  };\n  static DefaultAutohide = {\n    pauseOnMouseEnter: false,\n    resetOnMouseEnter: false,\n    pauseOnFocusEnter: false,\n    resetOnFocusEnter: false,\n  };\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    ...TOP_LAYER_OPTIONS,\n    [MODAL]: true,\n    [OPTION_LIGHT_DISMISS]: AUTO,\n    [OPTION_BACK_DISMISS]: AUTO,\n    eventPrefix: getEventsPrefix(DIALOG),\n    [OPTION_HASH_NAVIGATION]: false,\n    returnFocus: true,\n    preventHide: false,\n    [OPTION_PREVENT_DISMISS]: false,\n    [OPTION_PREVENT_SCROLL]: AUTO,\n    confirm: `[${DATA_UI_PREFIX + CONFIRM}],[${\n      DATA_UI_PREFIX + CONFIRM\n    }=\"${DIALOG}\"]`,\n    title: getDataSelector(DIALOG, ARIA_SUFFIX[ARIA_LABELLEDBY]),\n    description: getDataSelector(DIALOG, ARIA_SUFFIX[ARIA_DESCRIBEDBY]),\n    group: \"\",\n    [CONTENT]: getDataSelector(DIALOG, CONTENT),\n    [BACKDROP]: getDataSelector(DIALOG, BACKDROP),\n    [TOGGLER]: true,\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [DIALOG + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [CONTENT + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [BACKDROP + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [OPTION_AUTODESTROY]: false,\n    autohide: false,\n    autofocus: true,\n    focusTrap: AUTO,\n    moveToRoot: true,\n  };\n\n  get main() {\n    return this[CONTENT] || this.base;\n  }\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n\n  init() {\n    const { opts, isInit, _on, _emit, base, toggle } = this;\n\n    if (isInit) return;\n\n    base.id = this.id;\n\n    _emit(EVENT_BEFORE_INIT);\n\n    this._update();\n\n    _on(document, EVENT_CLICK + UI_EVENT_PREFIX, (event) => {\n      if (this._isClosing) return;\n      const togglers = this._togglers;\n      const trigger = isString(togglers)\n        ? event.target.closest(togglers)\n        : closest(event.target, togglers);\n      if (trigger) {\n        event.preventDefault();\n        toggle(null, { trigger, event });\n      }\n    });\n\n    if (opts.a11y && !isDialog(base)) {\n      base.setAttribute(TABINDEX, -1);\n      base[ROLE] = DIALOG;\n    }\n\n    opts[CONFIRM] && toggleConfirm(this);\n    opts[OPTION_HASH_NAVIGATION] && addHashNavigation(this);\n    opts[DISMISS] && addDismiss(this);\n\n    return callShowInit(this);\n  }\n  _update() {\n    const { base, opts, id } = this;\n    updateOptsByData(\n      opts,\n      base,\n      [\n        TRANSITION,\n        STATE_MODE,\n        BACKDROP,\n        OPTION_GROUP,\n        OPTION_AUTODESTROY,\n        OPTION_HASH_NAVIGATION,\n        ...TOP_LAYER_OPTIONS_NAMES,\n      ],\n      [OPTION_HASH_NAVIGATION, OPTION_AUTODESTROY, ...TOP_LAYER_OPTIONS_NAMES],\n    );\n    updateModule(this, OPTION_GROUP, NAME);\n    updateModule(this, AUTOHIDE, DURATION);\n\n    let backdrop;\n    if (isString(opts[BACKDROP])) {\n      backdrop = (opts[BACKDROP][0] === \"#\" ? doc : base).querySelector(\n        opts[BACKDROP],\n      );\n    }\n\n    opts.a11y && addAriaTargets(this);\n\n    this[BACKDROP] = backdrop;\n\n    this[CONTENT] = getOptionElem(this, opts[CONTENT], base);\n\n    this.teleport = Teleport.createOrUpdate(\n      this.teleport,\n      base,\n      opts.moveToRoot ? opts.root : false,\n      {\n        disableAttributes: true,\n      },\n    )?.move(this);\n\n    if (opts[STATE_MODE] === ACTION_REMOVE && base[HIDDEN]) {\n      toggleStateMode(false, this);\n    }\n\n    this.transition = Transition.createOrUpdate(\n      this.transition,\n      this.main,\n      opts.transition,\n    );\n    this.autohide = Autoaction.createOrUpdate(\n      this.autohide,\n      this.main,\n      this.hide,\n      opts.autohide,\n    );\n\n    this._togglers =\n      opts.toggler === true ? getDefaultToggleSelector(id) : opts.toggler;\n\n    addPopoverAttribute(this);\n    addStatusClasses(\n      this,\n      BACKDROP,\n      MODAL,\n      OPTION_TOP_LAYER,\n      OPTION_PREVENT_SCROLL,\n    );\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n\n    const { base, opts } = this;\n\n    removeClass(this._togglers, opts[TOGGLER + CLASS_ACTIVE_SUFFIX]);\n    [DIALOG, CONTENT, BACKDROP].forEach((name) =>\n      removeClass(this[name], opts[name + CLASS_ACTIVE_SUFFIX]),\n    );\n\n    this.focusGuards?.destroy();\n    this.focusGuards = null;\n    this.placeholder?.replaceWith(base);\n\n    this.isOpen = false;\n\n    destroyTopLayer(base);\n\n    togglePreventScroll(this, false);\n\n    opts.a11y &&\n      removeAttribute(base, TABINDEX, ROLE, ARIA_LABELLEDBY, ARIA_DESCRIBEDBY);\n\n    baseDestroy(this, destroyOpts);\n    return this;\n  }\n\n  async toggle(s, params) {\n    const { opts, isOpen, _emit, isAnimating, backdrop, base, autohide } = this;\n\n    let optReturnFocusAwait =\n      opts.returnFocus && (opts.returnFocus?.await ?? opts.group.awaitPrevious);\n\n    const { animated, silent, trigger, event, __initial } =\n      normalizeToggleParameters(params);\n\n    s = !!(s ?? !isOpen);\n\n    if (!s) {\n      if (opts[OPTION_PREVENT_DISMISS] && event.type === EVENT_CLOSE) {\n        animateClass(\n          this.main,\n          camelToKebab(UI_PREFIX + EVENT_DISMISS_PREVENTED),\n        );\n        _emit(EVENT_DISMISS_PREVENTED, { event });\n        toggleBackDismiss(true, this);\n        return;\n      }\n    }\n\n    if ((opts.awaitAnimation && isAnimating) || s === isOpen) return;\n\n    let groupClosingFinish;\n    if (!s && opts.group) {\n      this.groupClosing = new Promise((resolve) => {\n        groupClosingFinish = resolve;\n      });\n    }\n\n    if (isAnimating && !opts.awaitAnimation) {\n      await this.transition?.cancel();\n    }\n\n    const eventParams = { trigger, event };\n\n    !silent && _emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    if (\n      !s &&\n      opts.preventHide &&\n      (isFunction(opts.preventHide)\n        ? !(await opts.preventHide(this, eventParams))\n        : opts.preventHide)\n    ) {\n      this.groupClosing = false;\n      animateClass(this.main, camelToKebab(UI_PREFIX + EVENT_HIDE_PREVENTED));\n      return _emit(EVENT_HIDE_PREVENTED, eventParams);\n    }\n\n    addFrameState(this, s);\n\n    this.isOpen = s;\n\n    const backdropIsOpen = arrayFrom(this.instances.values()).find(\n      (instance) =>\n        instance !== this && instance.isOpen && instance[BACKDROP] === backdrop,\n    );\n\n    const openGroupDialogs = this.groupDialogs.filter(\n      ({ isOpen, opts }) => opts.group && isOpen,\n    );\n    if (s) {\n      if (openGroupDialogs.length > 1) {\n        const promises = Promise.allSettled(\n          openGroupDialogs\n            .filter((m) => m !== this)\n            .map((instance) => {\n              !instance.groupClosing && instance.hide();\n              return instance.groupClosing;\n            }),\n        );\n        if (opts.group.awaitPrevious) {\n          await promises;\n        }\n      }\n    } else if (!s && !openGroupDialogs.length) {\n      optReturnFocusAwait = false;\n    }\n\n    s && toggleStateMode(true, this);\n\n    !silent && _emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams);\n\n    const promise = this.transition?.run(s, animated);\n\n    !animated && this._toggleClasses(s, backdropIsOpen);\n\n    const focusTrap = opts.focusTrap === AUTO ? opts[MODAL] : opts.focusTrap;\n\n    if (s) {\n      if (opts.returnFocus) {\n        this.returnFocusElem ||= doc.activeElement;\n      }\n      toggleTopLayer(this, true);\n      togglePreventScroll(this, true);\n      if (focusTrap && !isModal(base)) {\n        this.focusGuards = new FocusGuards(base);\n      }\n    } else if (!optReturnFocusAwait) {\n      this.returnFocus();\n    }\n\n    animated && this._toggleClasses(s, backdropIsOpen);\n\n    if (__initial && !animated && backdrop) {\n      resetTransition(backdrop);\n    }\n\n    if (s) {\n      (opts.autofocus || focusTrap) && callAutofocus(this);\n    } else {\n      this.returnFocusElem = null;\n    }\n\n    toggleBackDismiss(s, this);\n\n    s && autohide && autohide.toggleInterections(true);\n\n    toggleLightDismiss(this, s);\n\n    awaitPromise(promise, () => {\n      if (!s) {\n        if (optReturnFocusAwait) {\n          this.returnFocus();\n        }\n        toggleTopLayer(this, false);\n        toggleStateMode(false, this);\n        togglePreventScroll(this, false);\n        autohide && autohide.toggleInterections(false);\n        this.focusGuards?.destroy();\n        this.focusGuards = null;\n      }\n\n      !silent && _emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams);\n\n      if (!s) {\n        opts[OPTION_AUTODESTROY] && this.destroy({ remove: true });\n        this.groupClosing = false;\n        groupClosingFinish?.();\n      }\n    });\n\n    animated && opts.awaitAnimation && (await promise);\n\n    return this;\n  }\n  _toggleClasses(s, backdropIsOpen) {\n    const { opts, base, content, backdrop } = this;\n    toggleClass(\n      getElements(this._togglers),\n      opts[TOGGLER + CLASS_ACTIVE_SUFFIX],\n      s,\n    );\n    toggleClass(base, opts[DIALOG + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(content, opts[CONTENT + CLASS_ACTIVE_SUFFIX], s);\n    if (!backdropIsOpen) {\n      toggleClass(backdrop, opts[BACKDROP + CLASS_ACTIVE_SUFFIX], s);\n    }\n  }\n  returnFocus() {\n    if (this.opts.returnFocus) {\n      focus(this.returnFocusElem);\n    }\n  }\n\n  get groupDialogs() {\n    return arrayFrom(this.instances.values()).filter(\n      ({ opts }) => opts.group?.name === this.opts.group?.name,\n    );\n  }\n}\n\nexport default Dialog;\n","import {\n  EVENT_INIT,\n  EVENT_BEFORE_INIT,\n  EVENT_DESTROY,\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDE,\n  EVENT_HIDDEN,\n  EVENT_CLICK,\n  EVENT_KEYDOWN,\n  EVENT_FOCUS,\n  KEY_ENTER,\n  KEY_SPACE,\n  KEY_END,\n  KEY_HOME,\n  KEY_ARROW_LEFT,\n  KEY_ARROW_UP,\n  KEY_ARROW_RIGHT,\n  KEY_ARROW_DOWN,\n  ARIA_CONTROLS,\n  ARIA_LABELLEDBY,\n  ARIA_HIDDEN,\n  ARIA_EXPANDED,\n  ARIA_SELECTED,\n  ARIA_ORIENTATION,\n  ROLE,\n  BUTTON,\n  TABINDEX,\n  HIDDEN,\n  INERT,\n  DISABLED,\n  DATA_UI_PREFIX,\n  CLASS_ACTIVE,\n  ACTION_HIDE,\n  ACTION_SHOW,\n  ACTION_TOGGLE,\n  DEFAULT_OPTIONS,\n  HORIZONTAL,\n  VERTICAL,\n  A11Y,\n  CLASS_ACTIVE_SUFFIX,\n  ROLE_SUFFIX,\n  doc,\n  UI_PREFIX,\n  STATE_MODE,\n  ACTION_REMOVE,\n  APPEAR,\n  OPTION_HASH_NAVIGATION,\n  REGION,\n  EVENT_MOUSEDOWN,\n  HIDDEN_CLASS,\n  SHOWN_CLASS,\n  UNTIL_FOUND,\n  MODE_HIDDEN_UNTIL_FOUND,\n  TRANSITION,\n  DISMISS,\n} from \"./helpers/constants\";\nimport Base from \"./helpers/Base.js\";\nimport {\n  isString,\n  isElement,\n  isNumber,\n  isFunction,\n  isArray,\n  isIterable,\n} from \"./helpers/is\";\nimport {\n  isUnfocusable,\n  getDataSelector,\n  checkHash,\n  without,\n  uuidGenerator,\n  normalizeToggleParameters,\n  getEventsPrefix,\n  upperFirst,\n  getOptionElems,\n  isShown,\n  getBooleanDataAttrValue,\n  updateOptsByData,\n  awaitPromise,\n} from \"./helpers/utils\";\nimport {\n  toggleClass,\n  removeClass,\n  removeAttribute,\n  next,\n  focus,\n  parents,\n  setAttribute,\n} from \"./helpers/dom\";\nimport {\n  addDismiss,\n  destroyInstance,\n  toggleStateMode,\n  toggleInitClass,\n  updateModule,\n} from \"./helpers/modules\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\n\nconst TABLIST = \"tablist\";\nconst TAB = \"tab\";\nconst TABS = \"tabs\";\nconst TABPANEL = \"tabpanel\";\nconst ACCORDION = \"accordion\";\n\nconst OPTION_TAB_ROLE = TAB + ROLE_SUFFIX;\nconst OPTION_TABPANEL_ROLE = TABPANEL + ROLE_SUFFIX;\nconst OPTION_TABPANEL_TABINDEX = TABPANEL + upperFirst(TABINDEX);\nconst OPTION_STATE_ATTRIBUTE = \"stateAttribute\";\nconst OPTION_ALWAYS_EXPANDED = \"alwaysExpanded\";\nconst OPTION_MULTI_EXPAND = \"multiExpand\";\n\nconst ACTION_INIT_TAB = \"initTab\";\nconst ACTION_DESTROY_TAB = \"destroyTab\";\n\nconst TABLIST_SECONDARY_METHODS = [\n  \"getTab\",\n  \"isTab\",\n  ACTION_INIT_TAB,\n  \"initTabs\",\n];\n\nconst DEFAULT_ACCORDION_OPTIONS = {\n  [OPTION_ALWAYS_EXPANDED]: false,\n  [HORIZONTAL]: false,\n  arrowActivation: false,\n  awaitPrevious: false,\n  a11y: ACCORDION,\n};\n\nconst A11Y_DEFAULTS = {\n  [ACCORDION]: {\n    [ROLE]: null,\n    [OPTION_TAB_ROLE]: BUTTON,\n    [OPTION_TABPANEL_ROLE]: REGION,\n    [ARIA_ORIENTATION]: false,\n    [OPTION_STATE_ATTRIBUTE]: ARIA_EXPANDED,\n    [TABINDEX]: false,\n    [OPTION_TABPANEL_TABINDEX]: false,\n  },\n  [TABS]: {\n    [ROLE]: TABLIST,\n    [OPTION_TAB_ROLE]: TAB,\n    [OPTION_TABPANEL_ROLE]: TABPANEL,\n    [ARIA_ORIENTATION]: true,\n    [OPTION_STATE_ATTRIBUTE]: ARIA_SELECTED,\n    [TABINDEX]: true,\n    [OPTION_TABPANEL_TABINDEX]: true,\n  },\n};\n\nclass Tablist extends Base {\n  static DefaultA11y = { ...A11Y_DEFAULTS[ACCORDION] };\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    eventPrefix: getEventsPrefix(TABLIST),\n    siblings: true,\n    [OPTION_MULTI_EXPAND]: false,\n    keyboard: true,\n    [OPTION_HASH_NAVIGATION]: true,\n    rtl: false,\n    focusFilter: null,\n    dismiss: false,\n    [TAB]: getDataSelector(TABLIST, TAB),\n    [TABPANEL]: getDataSelector(TABLIST, TABPANEL),\n    [TAB + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [TABPANEL + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    ...DEFAULT_ACCORDION_OPTIONS,\n  };\n  static _data = {};\n  static instances = new Map();\n  static get NAME() {\n    return TABLIST;\n  }\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  _update() {\n    const { base, tabs, lastShownTab, opts } = this;\n    const { a11y } = updateModule(this, A11Y, false, A11Y_DEFAULTS);\n\n    updateOptsByData(\n      opts,\n      base,\n      [\n        TRANSITION,\n        STATE_MODE,\n        OPTION_HASH_NAVIGATION,\n        OPTION_ALWAYS_EXPANDED,\n        OPTION_MULTI_EXPAND,\n        HORIZONTAL,\n      ],\n      [\n        OPTION_HASH_NAVIGATION,\n        OPTION_ALWAYS_EXPANDED,\n        OPTION_MULTI_EXPAND,\n        HORIZONTAL,\n      ],\n    );\n\n    if (a11y) {\n      base[ROLE] = a11y[ROLE];\n      a11y[ARIA_ORIENTATION] &&\n        (base[ARIA_ORIENTATION] = opts[HORIZONTAL] ? HORIZONTAL : VERTICAL);\n    }\n\n    const shown = lastShownTab?.index ?? opts.shown;\n\n    const tabWithState = tabs.map((tabObj, i) => {\n      const { tab, tabpanel, teleport } = tabObj;\n\n      if (a11y) {\n        removeAttribute(tab, ARIA_SELECTED, ARIA_EXPANDED);\n        setAttribute(tab, ARIA_CONTROLS, tabpanel.id);\n        tab[ROLE] = a11y[OPTION_TAB_ROLE];\n        if (!/BUTTON|A/.test(tab.nodeName) && !tab.hasAttribute(TABINDEX)) {\n          tab.setAttribute(TABINDEX, 0);\n        }\n        tabpanel[ROLE] = a11y[OPTION_TABPANEL_ROLE];\n        setAttribute(tabpanel, ARIA_LABELLEDBY, tab.id);\n      }\n\n      tabObj.teleport = Teleport.createOrUpdate(\n        teleport,\n        tabpanel,\n        opts.teleport,\n      )?.move(this, tabObj);\n\n      let isOpenTabpanel;\n      if (isFunction(shown)) {\n        isOpenTabpanel = shown(tabObj);\n      } else if (isArray(shown)) {\n        isOpenTabpanel = shown.some((val) => val === i || val === tabpanel.id);\n      } else if (shown !== null) {\n        isOpenTabpanel = tabpanel.id === shown || i === shown;\n      } else {\n        isOpenTabpanel = isShown(tabpanel, opts.stateMode);\n      }\n\n      return [isOpenTabpanel, tabObj];\n    });\n    const hasSelected = tabWithState.find(([isOpen]) => isOpen);\n    if (opts[OPTION_ALWAYS_EXPANDED] && !hasSelected) {\n      tabWithState[0][0] = true;\n    }\n    tabWithState.forEach(([isOpen, tabInstance]) => {\n      tabInstance.transition = Transition.createOrUpdate(\n        tabInstance.transition,\n        tabInstance[TABPANEL],\n        opts.transition,\n        { cssVariables: true },\n      );\n      tabInstance.toggle(isOpen, {\n        animated:\n          getBooleanDataAttrValue(tabInstance[TABPANEL], APPEAR) ?? opts.appear,\n        silent: !isOpen,\n      });\n    });\n  }\n  init() {\n    const { isInit, _emit } = this;\n    if (isInit) return;\n\n    this.base.id = this.id;\n\n    TABLIST_SECONDARY_METHODS.forEach(\n      (name) => (this[name] = this[name].bind(this)),\n    );\n\n    _emit(EVENT_BEFORE_INIT);\n\n    this.tabs = [];\n    this.initTabs();\n\n    this._updateTabIndex();\n\n    this._update();\n\n    this.instances.set(this.id, this);\n    this.isInit = true;\n    toggleInitClass(this, true);\n    return _emit(EVENT_INIT);\n  }\n\n  destroy({ keepInstance = false, keepState = false } = {}) {\n    const {\n      tablist,\n      tabs,\n      opts: { a11y },\n      isInit,\n      off,\n      _emit,\n    } = this;\n\n    if (!isInit) return;\n\n    _emit(EVENT_BEFORE_DESTROY);\n\n    off(tabs);\n\n    if (a11y) {\n      removeAttribute(\n        tablist,\n        a11y[ROLE] && ROLE,\n        a11y[ARIA_ORIENTATION] && ARIA_ORIENTATION,\n      );\n    }\n\n    tabs.forEach((tab) => tab.destroy({ keepState }));\n\n    if (!keepInstance) {\n      destroyInstance(this);\n    }\n\n    toggleInitClass(this, false);\n\n    this.isInit = false;\n\n    _emit(EVENT_DESTROY);\n\n    return this;\n  }\n\n  initTabs() {\n    return getOptionElems(this, this.opts[TAB], this.tablist)\n      .map((tab) => {\n        for (const parent of parents(tab, null, this.tablist)) {\n          if (this.getTab(parent)) return;\n        }\n        return this.initTab(tab);\n      })\n      .filter(Boolean);\n  }\n  initTab(tab) {\n    if (this.getTab(tab)) return;\n\n    const { tabs, tablist, opts, shownTabs, _on, _off, _emit } = this;\n    const index = tabs.length;\n\n    const tabpanelId = tab.getAttribute(DATA_UI_PREFIX + TABLIST + \"-\" + TAB);\n\n    let tabpanel;\n    if (tabpanelId) {\n      tabpanel = doc.getElementById(tabpanelId);\n    } else if (isString(opts[TABPANEL])) {\n      if (opts.siblings) {\n        tabpanel = next(tab, opts[TABPANEL]);\n      }\n    } else if (isIterable(opts[TABPANEL])) {\n      tabpanel = opts[TABPANEL][index];\n    } else if (isFunction(opts[TABPANEL])) {\n      tabpanel = opts[TABPANEL]({ tablist, tab, index });\n    }\n\n    if (!tabpanel) return;\n\n    if (opts[STATE_MODE] === HIDDEN && tabpanel[HIDDEN] === UNTIL_FOUND) {\n      opts[STATE_MODE] = MODE_HIDDEN_UNTIL_FOUND;\n    }\n\n    const uuid = uuidGenerator();\n    const id = (tabpanel.id ||= uuid);\n    tab.id ||= uuid;\n\n    let isOpen;\n    if (shownTabs.length && !opts[OPTION_MULTI_EXPAND]) {\n      isOpen = false;\n    }\n    if (opts.hashNavigation && checkHash(id)) {\n      isOpen = true;\n    }\n\n    let isMouseDown;\n    _on(tab, EVENT_FOCUS, (e) => {\n      !isMouseDown && this._onTabFocus(e);\n    });\n    _on(tab, EVENT_KEYDOWN, (e) => this._onTabKeydown(e));\n    _on(tab, EVENT_MOUSEDOWN, () => {\n      isMouseDown = true;\n      requestAnimationFrame(() => (isMouseDown = false));\n    });\n    _on(tab, EVENT_CLICK, (event) => {\n      event.preventDefault();\n      this.toggle(tab, null, { event, trigger: tab });\n    });\n\n    const destroy = ({\n      cleanStyles = true,\n      remove = false,\n      keepState = false,\n    } = {}) => {\n      const opts = this.opts;\n      const a11y = opts.a11y;\n      if (a11y) {\n        removeAttribute(\n          tab,\n          ROLE,\n          TABINDEX,\n          ARIA_CONTROLS,\n          ARIA_EXPANDED,\n          a11y[OPTION_STATE_ATTRIBUTE],\n        );\n        removeAttribute(\n          tabpanel,\n          ROLE,\n          a11y[OPTION_TABPANEL_TABINDEX] && TABINDEX,\n          ARIA_LABELLEDBY,\n          a11y[ARIA_HIDDEN] && ARIA_HIDDEN,\n          HIDDEN,\n          INERT,\n        );\n      }\n\n      _off(elems);\n      this.tabs = without(this.tabs, tabInstance);\n      if (cleanStyles) {\n        removeClass(tab, opts[TAB + CLASS_ACTIVE_SUFFIX]);\n        removeClass(tabpanel, opts[TABPANEL + CLASS_ACTIVE_SUFFIX]);\n        tabInstance.transition?.destroy();\n        tabInstance.teleport?.destroy();\n      }\n\n      elems.forEach((elem) => {\n        if (!elem) return;\n\n        remove && elem.remove();\n\n        if (!keepState) {\n          removeClass(elem, [HIDDEN_CLASS, SHOWN_CLASS]);\n          removeAttribute(elem, HIDDEN, INERT);\n        }\n      });\n\n      _emit(ACTION_DESTROY_TAB, tabInstance);\n    };\n\n    const toggleDisabled = (s = null) => {\n      const disabled = tab.toggleAttribute(DISABLED, s);\n\n      disabled && tabInstance.hide(false);\n\n      if (this.opts[OPTION_ALWAYS_EXPANDED]) {\n        const shownTabs = this.shownTabs;\n        if (\n          !shownTabs.length ||\n          (shownTabs.length === 1 && shownTabs[0].isDisabled)\n        ) {\n          this.show(this.firstActiveTabIndex, false);\n        }\n      }\n\n      return !disabled;\n    };\n\n    const elems = [tab, tabpanel];\n    const tabInstance = {\n      id,\n      uuid,\n      tab,\n      tabpanel,\n      elems,\n      index,\n      transition: opts.transition\n        ? new Transition(tabpanel, opts.transition)\n        : undefined,\n      destroy: destroy.bind(this),\n      toggleDisabled: toggleDisabled.bind(this),\n      isOpen,\n      get isDisabled() {\n        return tab.hasAttribute(DISABLED);\n      },\n      get initialPlaceNode() {\n        return (\n          tabInstance.teleport?.placeholder ??\n          tabInstance.placeholder ??\n          tabpanel\n        );\n      },\n    };\n\n    [ACTION_HIDE, ACTION_SHOW, ACTION_TOGGLE].forEach(\n      (action) => (tabInstance[action] = this[action].bind(this, tabInstance)),\n    );\n    tabInstance.is = this.isTab.bind(this, tabInstance);\n\n    opts[DISMISS] && addDismiss(this, tabpanel, tabInstance.hide);\n\n    if (opts[STATE_MODE] === ACTION_REMOVE && tabpanel[HIDDEN]) {\n      toggleStateMode(false, this, tabpanel, tabInstance);\n    }\n\n    tabs.push(tabInstance);\n\n    _emit(ACTION_INIT_TAB, tabInstance);\n\n    return tabInstance;\n  }\n  isTab(tab, value) {\n    let result = false;\n    if (tab === value) {\n      result = true;\n    } else if (isElement(value)) {\n      result = tab.elems.includes(value);\n    } else if (isString(value)) {\n      result = tab.elems.some((elem) => elem.matches(value));\n    } else if (isNumber(value)) {\n      result = tab.index === value;\n    }\n    return result;\n  }\n  getTab(value) {\n    return this.tabs.find((tab) => tab.is(value));\n  }\n  _onTabFocus({ currentTarget }) {\n    const tabInstance = this.getTab(currentTarget);\n    if (!tabInstance || !this.focusFilter(tabInstance)) return;\n\n    this.opts.arrowActivation && !tabInstance.isOpen && tabInstance.show();\n\n    this.currentTabIndex = tabInstance.index;\n  }\n  _onTabKeydown(event) {\n    const tabInstance = this.getTab(event.currentTarget);\n    const currentIndex = this.tabs.indexOf(tabInstance);\n    const { keyboard, rtl, horizontal } = this.opts;\n    const { keyCode } = event;\n\n    if (\n      [KEY_ENTER, KEY_SPACE].includes(keyCode) &&\n      !/BUTTON|A/.test(tabInstance.tab.nodeName)\n    )\n      return tabInstance.toggle(null, { event, trigger: event.target });\n    if (KEY_END > keyCode || KEY_ARROW_DOWN < keyCode || !keyboard) return;\n\n    event.preventDefault();\n\n    const firstIndex = this.firstActiveTabIndex;\n    const lastIndex = this.lastActiveTabIndex;\n    const nextIndex = currentIndex + 1;\n    const prevIndex = currentIndex ? currentIndex - 1 : lastIndex;\n\n    const prevCode = horizontal ? KEY_ARROW_LEFT : KEY_ARROW_UP;\n    const nextCode = horizontal ? KEY_ARROW_RIGHT : KEY_ARROW_DOWN;\n\n    let index;\n    if (keyCode === KEY_END) {\n      index = rtl ? firstIndex : lastIndex;\n    } else if (keyCode === KEY_HOME) {\n      index = rtl ? lastIndex : firstIndex;\n    } else if (keyCode === prevCode) {\n      index = rtl ? nextIndex : prevIndex;\n    } else if (keyCode === nextCode) {\n      index = rtl ? prevIndex : nextIndex;\n    }\n    index != null && this._switchTab(index);\n  }\n  _switchTab(index) {\n    const tabs = this.tabs;\n    if (tabs[index] && !this.focusFilter(tabs[index])) {\n      this._switchTab(index > this.currentTabIndex ? index + 1 : index - 1);\n      return;\n    }\n    this.currentTabIndex =\n      index < this.firstActiveTabIndex\n        ? this.lastActiveTabIndex\n        : index >= tabs.length\n        ? this.firstActiveTabIndex\n        : index;\n\n    focus(tabs[this.currentTabIndex].tab);\n  }\n  _updateTabIndex(activeIndex) {\n    const { keyboard, a11y } = this.opts;\n    if (!keyboard || !a11y) return;\n    activeIndex ??= this.shownTabs[0]?.index ?? this.firstActiveTabIndex;\n    a11y &&\n      this.tabs.forEach(({ tab, tabpanel }, i) =>\n        setAttribute(\n          [a11y[TABINDEX] && tab, a11y[OPTION_TABPANEL_TABINDEX] && tabpanel],\n          TABINDEX,\n          i === activeIndex ? 0 : -1,\n        ),\n      );\n  }\n  focusFilter(tab) {\n    return (\n      !isUnfocusable(tab.tab) &&\n      (isFunction(this.opts.focusFilter) ? this.opts.focusFilter(tab) : true)\n    );\n  }\n  get shownTabs() {\n    return this.tabs.filter(({ isOpen }) => isOpen);\n  }\n  get firstActiveTabIndex() {\n    return this.tabs.find((tab) => this.focusFilter(tab))?.index;\n  }\n  get lastActiveTabIndex() {\n    return this.tabs.findLast((tab) => this.focusFilter(tab))?.index;\n  }\n\n  async toggle(elem, s, params) {\n    const { animated, silent, event, trigger } =\n      normalizeToggleParameters(params);\n    const tabInstance = this.getTab(elem);\n\n    if (!tabInstance) return;\n\n    const { opts, shownTabs, _emit } = this;\n    const { a11y, awaitAnimation } = opts;\n    const { tab, isOpen, transition, index, tabpanel } = tabInstance;\n\n    s = !!(s ?? !isOpen);\n\n    s && this._updateTabIndex(index);\n\n    if (\n      s === isOpen ||\n      (awaitAnimation &&\n        transition?.isAnimating &&\n        ((shownTabs.length <= 1 && !opts[OPTION_MULTI_EXPAND]) ||\n          opts[OPTION_MULTI_EXPAND])) ||\n      (isOpen && opts[OPTION_ALWAYS_EXPANDED] && !s && shownTabs.length < 2) ||\n      (s && !this.focusFilter(tabInstance))\n    )\n      return;\n\n    if (transition?.isAnimating && !awaitAnimation) {\n      await transition.cancel();\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent &&\n      _emit(\n        s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE,\n        tabInstance,\n        eventParams,\n      );\n\n    tabInstance.isOpen = s;\n\n    if (!opts[OPTION_MULTI_EXPAND] && s) {\n      const animatedOrShownTabs = this.tabs.filter(\n        (tab) =>\n          tab !== tabInstance && (tab.transition?.isAnimating || tab.isOpen),\n      );\n      for (const tab of animatedOrShownTabs) {\n        if (tab.isOpen && tab.transition?.isAnimating) {\n          tab.hide(false);\n          tab.transition.cancel();\n          continue;\n        }\n        tab.hide(animated);\n        if (opts.awaitPrevious) {\n          await tab.transition?.getAwaitPromise();\n        }\n      }\n      if (s !== tabInstance.isOpen) return;\n    }\n\n    s && toggleStateMode(true, this, tabpanel, tabInstance);\n\n    !silent && _emit(s ? EVENT_SHOW : EVENT_HIDE, tabInstance, eventParams);\n\n    const promise = transition?.run(s, animated);\n\n    toggleClass(tab, opts[TAB + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(tabpanel, opts[TABPANEL + CLASS_ACTIVE_SUFFIX], s);\n\n    if (a11y) {\n      a11y[OPTION_STATE_ATTRIBUTE] &&\n        setAttribute(tab, a11y[OPTION_STATE_ATTRIBUTE], !!s);\n    }\n\n    if (s) {\n      this.lastShownTab = tabInstance;\n      this.currentTabIndex ??= index;\n    }\n\n    awaitPromise(promise, () => {\n      !s && toggleStateMode(false, this, tabpanel, tabInstance);\n      !silent &&\n        _emit(s ? EVENT_SHOWN : EVENT_HIDDEN, tabInstance, eventParams);\n    });\n\n    animated && opts.awaitAnimation && (await promise);\n\n    return tabInstance;\n  }\n  show(elem, opts) {\n    return this.toggle(elem, true, opts);\n  }\n  hide(elem, opts) {\n    return this.toggle(elem, false, opts);\n  }\n  static show(elem, opts) {\n    return this.toggle(elem, true, opts);\n  }\n  static hide(elem, opts) {\n    return this.toggle(elem, false, opts);\n  }\n  static toggle(elem, s, params) {\n    for (const tablist of this.instances.values()) {\n      if (tablist.getTab(elem)) {\n        tablist.toggle(elem, s, params);\n        break;\n      }\n    }\n  }\n}\n\nTablist.data(UI_PREFIX + TABS, {\n  [OPTION_ALWAYS_EXPANDED]: true,\n  horizontal: true,\n  arrowActivation: true,\n  awaitPrevious: true,\n  a11y: TABS,\n});\n\nTablist.data(UI_PREFIX + ACCORDION, DEFAULT_ACCORDION_OPTIONS);\n\nexport default Tablist;\n","import {\n  EVENT_BEFORE_SHOW,\n  EVENT_SHOW,\n  EVENT_SHOWN,\n  EVENT_BEFORE_HIDE,\n  EVENT_HIDE,\n  EVENT_HIDDEN,\n  body,\n  DEFAULT_OPTIONS,\n  STATE_MODE,\n  POPOVER_API_SUPPORTED,\n  POPOVER_API_MODE_MANUAL,\n  POPOVER,\n  ACTION_REMOVE,\n  HIDDEN,\n  ROLE,\n  ARIA_LIVE,\n  ALERT,\n  STATUS,\n  ARIA_ATOMIC,\n  A11Y,\n  TABINDEX,\n  REGION,\n  CLASS_ACTIVE_SUFFIX,\n  CLASS_ACTIVE,\n  DISMISS,\n} from \"./helpers/constants\";\nimport { isArray, isObject, isString } from \"./helpers/is\";\nimport { fragment, inDOM, toggleClass } from \"./helpers/dom\";\nimport {\n  normalizeToggleParameters,\n  arrayFrom,\n  getEventsPrefix,\n  callOrReturn,\n  getOptionElem,\n  isShown,\n  awaitPromise,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  toggleStateMode,\n  baseDestroy,\n  callShowInit,\n  updateModule,\n} from \"./helpers/modules\";\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Autoaction from \"./helpers/Autoaction.js\";\n\nconst TOAST = \"toast\";\n\nconst positions = {};\nconst wrappers = new Map();\nconst _containers = {};\n\nconst A11Y_DEFAULTS = {\n  [STATUS]: {\n    [ROLE]: STATUS,\n    [ARIA_LIVE]: \"polite\",\n  },\n  [ALERT]: {\n    [ROLE]: ALERT,\n    [ARIA_LIVE]: \"assertive\",\n  },\n};\n\nclass Toast extends ToggleMixin(Base, TOAST) {\n  static _templates = {};\n  static DefaultA11y = { ...A11Y_DEFAULTS[STATUS] };\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    shown: true,\n    eventPrefix: getEventsPrefix(TOAST),\n    root: null,\n    container: \"\",\n    template: \"\",\n    appear: true,\n    limit: false,\n    limitAnimateEnter: true,\n    limitAnimateLeave: false,\n    autohide: 5000,\n    topLayer: true,\n    keepTopLayer: true,\n    a11y: STATUS,\n    position: \"top-end\",\n    [TOAST + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n  };\n  constructor(elem, opts) {\n    if (isObject(elem)) {\n      opts = elem;\n      elem = null;\n    }\n    super(elem, opts);\n  }\n  init() {\n    if (this.isInit) return;\n\n    this.base.id = this.id;\n\n    this._update();\n\n    this.opts[DISMISS] && addDismiss(this);\n\n    return callShowInit(this);\n  }\n  _update() {\n    const { opts, base, autohide, hide } = this;\n\n    const { a11y } = updateModule(this, A11Y, false, A11Y_DEFAULTS);\n\n    if (!opts.root && inDOM(base)) {\n      this.root = base.parentElement;\n    } else {\n      this.root = opts.root ? getOptionElem(this, opts.root) : body;\n    }\n    if (opts[STATE_MODE] === ACTION_REMOVE && base[HIDDEN]) {\n      toggleStateMode(false, this);\n    }\n\n    this.transition = Transition.createOrUpdate(\n      this.transition,\n      base,\n      opts.transition,\n    );\n    this.autohide = Autoaction.createOrUpdate(\n      autohide,\n      base,\n      hide,\n      opts.autohide,\n    );\n\n    if (a11y) {\n      base[ARIA_ATOMIC] = true;\n      base[ROLE] = a11y[ROLE];\n      base[ARIA_LIVE] = a11y[ARIA_LIVE];\n    }\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n    baseDestroy(this, { remove: true, ...destroyOpts });\n    return this;\n  }\n\n  async toggle(s, params) {\n    const {\n      transition,\n      opts,\n      autohide,\n      base,\n      root,\n      instances,\n      constructor,\n      _emit,\n    } = this;\n    const { animated, silent, event, trigger } =\n      normalizeToggleParameters(params);\n\n    const { limit, position, container, topLayer, keepTopLayer, stateMode } =\n      opts;\n\n    s ??= !isShown(base, stateMode);\n\n    let preventAnimation;\n\n    if (s) {\n      if (limit) {\n        const nots = arrayFrom(instances.values()).filter(\n          (instance) =>\n            instance !== this &&\n            instance.opts.position === position &&\n            instance.root === root,\n        );\n        for (let i = 0; i < nots.length; i++) {\n          if (i >= limit - 1) {\n            console.log(nots, i - (limit - 1));\n            nots[i - (limit - 1)]?.hide(opts.limitAnimateLeave);\n            if (!opts.limitAnimateEnter) {\n              preventAnimation = true;\n            }\n          }\n        }\n      }\n      if (root) {\n        let to = root;\n        if (position) {\n          const wrapper = (to = constructor.getContainer({\n            position,\n            root,\n            container,\n            keepTopLayer,\n          }));\n\n          if (POPOVER_API_SUPPORTED && topLayer) {\n            wrapper[POPOVER] = POPOVER_API_MODE_MANUAL;\n          } else {\n            wrapper[POPOVER] = null;\n          }\n\n          if (wrapper && wrapper.parentElement !== root) {\n            root.append(wrapper);\n          }\n          if (POPOVER_API_SUPPORTED && topLayer) {\n            wrapper.hidePopover();\n            wrapper.showPopover();\n          }\n        }\n        to.append(base);\n      }\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && _emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    autohide && autohide.toggleInterections(s);\n\n    s && toggleStateMode(true, this);\n\n    !silent && _emit(s ? EVENT_SHOW : EVENT_HIDE, eventParams);\n\n    const promise = transition?.run(s, animated && !preventAnimation);\n\n    toggleClass(base, opts[TOAST + CLASS_ACTIVE_SUFFIX], s);\n\n    awaitPromise(promise, () => {\n      !s && toggleStateMode(false, this);\n      !silent && _emit(s ? EVENT_SHOWN : EVENT_HIDDEN, eventParams);\n      !s && this.destroy({ remove: true });\n    });\n\n    animated && (await promise);\n\n    const rootWrappers = wrappers.get(root);\n    const wrapper =\n      rootWrappers &&\n      [...rootWrappers].find(\n        (w) => w.position === position && w.container === container,\n      )?.wrapper;\n\n    if (!s && wrapper && !wrapper.children.length) {\n      if (rootWrappers) {\n        const w = [...rootWrappers].find((w) => w.wrapper === wrapper);\n        w && rootWrappers.delete(w);\n      }\n      wrapper.remove();\n    }\n\n    this.container = wrapper;\n\n    return this;\n  }\n\n  static getContainer({\n    position,\n    root = body,\n    container = \"\",\n    keepTopLayer,\n    a11y,\n  }) {\n    let rootWrappers = wrappers.get(root);\n    if (!rootWrappers) {\n      rootWrappers = new Set();\n      wrappers.set(root, rootWrappers);\n    } else {\n      const wrapper = [...rootWrappers].find(\n        (w) => w.position === position && w.container === container,\n      );\n      if (wrapper) return wrapper.wrapper;\n    }\n\n    const containerParams = { name: container, position };\n    const wrapper = fragment(\n      isString(container)\n        ? callOrReturn(\n            _containers[container] ?? _containers[\"\"],\n            containerParams,\n          )\n        : container(containerParams),\n    );\n\n    if (a11y) {\n      wrapper.setAttribute(TABINDEX, -1);\n      wrapper[ROLE] = REGION;\n    }\n\n    rootWrappers.add({ wrapper, container, position, root, keepTopLayer });\n    return wrapper;\n  }\n  static addPosition(position, container = \"\") {\n    positions[container] ||= {};\n    if (isArray(position)) {\n      position.forEach((p) => this.addPosition(p, container));\n    } else if (isObject(position)) {\n      positions[container][position.name] = position;\n    }\n  }\n  static template(name, opts) {\n    if (!opts) {\n      opts = name;\n      name = \"\";\n    }\n    if (!opts) return this._templates[name];\n    this._templates[name] = opts;\n    return this;\n  }\n  static container(name, opts) {\n    if (!opts) {\n      opts = name;\n      name = \"\";\n    }\n    if (!opts) return _containers[name];\n    _containers[name] = opts;\n    return this;\n  }\n  static forceTopLayer() {\n    [...wrappers.values()].forEach((set) => {\n      set.forEach(({ wrapper, root, keepTopLayer }) => {\n        if (\n          keepTopLayer &&\n          POPOVER_API_SUPPORTED &&\n          wrapper.popover &&\n          root.contains(wrapper)\n        ) {\n          wrapper.hidePopover();\n          wrapper.showPopover();\n        }\n      });\n    });\n  }\n}\n\nexport default Toast;\n","import {\n  EVENT_BEFORE_INIT,\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_BEFORE_HIDE,\n  CLASS,\n  HOVER,\n  FOCUS,\n  TOP,\n  ANCHOR,\n  TARGET,\n  ARIA_DESCRIBEDBY,\n  DATA_UI_PREFIX,\n  DEFAULT_FLOATING_OPTIONS,\n  DEFAULT_OPTIONS,\n  OPTION_ARIA_DESCRIBEDBY,\n  TITLE,\n  CONTENT,\n  TOOLTIP,\n  CLASS_ACTIVE_SUFFIX,\n  CLASS_ACTIVE,\n  TRANSITION,\n  TRIGGER,\n  body,\n  INERT,\n  BEFORE,\n  END,\n  AFTER,\n  DISMISS,\n  OPTION_TOP_LAYER,\n} from \"./helpers/constants\";\n\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport {\n  getElement,\n  setAttribute,\n  toggleClass,\n  inDOM,\n  removeAttribute,\n} from \"./helpers/dom\";\nimport Transition from \"./helpers/Transition.js\";\n\nimport {\n  normalizeToggleParameters,\n  getEventsPrefix,\n  getClassActive,\n  updateOptsByData,\n  kebabToCamel,\n  addStatusClasses,\n} from \"./helpers/utils\";\nimport {\n  baseDestroy,\n  floatingTransition,\n  callShowInit,\n  toggleOnInterection,\n  addDismiss,\n  checkFloatings,\n} from \"./helpers/modules\";\nimport Teleport from \"./helpers/Teleport.js\";\nimport {\n  addPopoverAttribute,\n  destroyTopLayer,\n} from \"./helpers/modules/toggleTopLayer.js\";\n\nclass Tooltip extends ToggleMixin(Base, TOOLTIP) {\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    ...DEFAULT_FLOATING_OPTIONS,\n    delay: [150, 0],\n    eventPrefix: getEventsPrefix(TOOLTIP),\n    placement: TOP,\n    template: (content) =>\n      `<div class=\"${TOOLTIP}\"><div class=\"${TOOLTIP}-${CONTENT}\">${content}</div></div>`,\n    interactive: false,\n    removeTitle: true,\n    tooltipClass: \"\",\n    [ANCHOR + CLASS_ACTIVE_SUFFIX]: getClassActive(TOOLTIP),\n    [TOOLTIP + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    trigger: HOVER + \" \" + FOCUS,\n    content: null,\n  };\n\n  static get BASE_NODE_NAME() {\n    return ANCHOR;\n  }\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  init() {\n    const { opts, anchor, id, isInit, _emit } = this;\n\n    if (isInit) return;\n\n    anchor.id = id;\n\n    _emit(EVENT_BEFORE_INIT);\n\n    this._cache = { [TITLE]: anchor[TITLE] };\n\n    const target = (this.tooltip = getElement(\n      opts.template(\n        opts[CONTENT] ??\n          anchor.getAttribute(DATA_UI_PREFIX + TOOLTIP + \"-\" + CONTENT) ??\n          anchor[TITLE],\n        this,\n      ),\n    ));\n    target.id ||= id + \"-\" + TARGET;\n\n    anchor.removeAttribute(TITLE);\n    toggleClass(\n      target,\n      anchor.getAttribute(DATA_UI_PREFIX + TOOLTIP + \"-\" + CLASS) ??\n        opts.tooltipClass,\n      true,\n    );\n\n    this.teleport = new Teleport(target, { disableAttributes: true });\n\n    this._update();\n\n    opts[DISMISS] && addDismiss(this, target);\n\n    return callShowInit(this, target);\n  }\n  _update() {\n    const { tooltip, base, opts, teleport } = this;\n\n    updateOptsByData(opts, base, [\n      TRANSITION,\n      [TRIGGER, kebabToCamel(TOOLTIP + \"-\" + TRIGGER)],\n    ]);\n\n    tooltip.toggleAttribute(INERT, !opts.interactive);\n\n    this.transition = Transition.createOrUpdate(\n      this.transition,\n      tooltip,\n      opts.transition,\n    );\n\n    teleport.opts.to = opts.moveToRoot ? body : base;\n    teleport.opts.position = opts.moveToRoot ? BEFORE + END : AFTER + END;\n\n    addPopoverAttribute(this, tooltip);\n    toggleOnInterection(this, base, tooltip);\n\n    addStatusClasses(this, OPTION_TOP_LAYER);\n\n    opts.a11y && setAttribute(tooltip, TOOLTIP);\n  }\n  destroy(destroyOpts) {\n    if (this.isInit) return;\n    const { anchor, tooltip, id, _cache, _emit, opts } = this;\n    _emit(EVENT_BEFORE_DESTROY);\n    if (opts.a11y) {\n      removeAttribute(tooltip, TOOLTIP);\n      setAttribute(anchor, ARIA_DESCRIBEDBY, (val) =>\n        val === id + \"-\" + TARGET ? _cache[OPTION_ARIA_DESCRIBEDBY] : val,\n      );\n    }\n\n    if (_cache[TITLE]) {\n      anchor[TITLE] = _cache[TITLE];\n    }\n    destroyTopLayer(tooltip);\n    return baseDestroy(this, destroyOpts);\n  }\n\n  async toggle(s, params) {\n    const { anchor, tooltip, id, opts, _emit, _cache, isOpen, isAnimating } =\n      this;\n    const awaitAnimation = opts.awaitAnimation;\n    const { animated, trigger, silent, event } =\n      normalizeToggleParameters(params);\n\n    s ??= !isOpen;\n\n    if (\n      (awaitAnimation && isAnimating) ||\n      s === isOpen ||\n      (!s && !inDOM(tooltip))\n    )\n      return;\n\n    this.isOpen = s;\n\n    if (opts.interactive && checkFloatings(this, s)) return;\n\n    if (isAnimating && !awaitAnimation) {\n      await this.transition.cancel();\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && _emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    const promise = floatingTransition(this, {\n      s,\n      animated,\n      silent,\n      eventParams,\n    });\n\n    if (opts.a11y) {\n      setAttribute(\n        anchor,\n        ARIA_DESCRIBEDBY,\n        s\n          ? (value) => {\n              value && (_cache[OPTION_ARIA_DESCRIBEDBY] = value);\n              return id + \"-\" + TARGET;\n            }\n          : _cache[OPTION_ARIA_DESCRIBEDBY] ?? null,\n      );\n    }\n\n    toggleClass(anchor, opts[ANCHOR + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(tooltip, opts[TOOLTIP + CLASS_ACTIVE_SUFFIX], s);\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Tooltip;\n","import {\n  EVENT_BEFORE_DESTROY,\n  EVENT_BEFORE_SHOW,\n  EVENT_BEFORE_HIDE,\n  CLASS_ACTIVE,\n  ARIA_CONTROLS,\n  ARIA_EXPANDED,\n  POPOVER,\n  CLICK,\n  DEFAULT_FLOATING_OPTIONS,\n  DEFAULT_OPTIONS,\n  CLASS_ACTIVE_SUFFIX,\n  TOGGLER,\n  DATA_UI_PREFIX,\n  CONFIRM,\n  TRIGGER,\n  STATE_MODE,\n  TRANSITION,\n  PRIVATE_OPTION_CANCEL_ON_HIDE,\n  OPTION_PREVENT_SCROLL,\n  TOP_LAYER_OPTIONS_NAMES,\n  body,\n  AUTO,\n  DISMISS,\n  MODAL,\n  ARIA_LABELLEDBY,\n  ARIA_DESCRIBEDBY,\n  ARIA_SUFFIX,\n  OPTION_BACK_DISMISS,\n  PREVENT,\n  EVENT_CLOSE,\n  UI_PREFIX,\n  EVENT_BACK_DISMISS_PREVENTED,\n  INERT,\n  OPTION_TOP_LAYER,\n  OPTION_PREVENT_DISMISS,\n  EVENT_DISMISS_PREVENTED,\n} from \"./helpers/constants\";\n\nimport {\n  toggleClass,\n  removeClass,\n  setAttribute,\n  removeAttribute,\n  animateClass,\n} from \"./helpers/dom\";\nimport {\n  normalizeToggleParameters,\n  getDefaultToggleSelector,\n  getOptionElem,\n  getEventsPrefix,\n  updateOptsByData,\n  camelToKebab,\n  getDataSelector,\n  addStatusClasses,\n} from \"./helpers/utils\";\nimport {\n  addDismiss,\n  baseDestroy,\n  toggleOnInterection,\n  floatingTransition,\n  callShowInit,\n  checkFloatings,\n  togglePreventScroll,\n  toggleConfirm,\n  addAriaTargets,\n  toggleBackDismiss,\n} from \"./helpers/modules\";\nimport Base from \"./helpers/Base.js\";\nimport ToggleMixin from \"./helpers/ToggleMixin.js\";\nimport Transition from \"./helpers/Transition.js\";\nimport Teleport from \"./helpers/Teleport.js\";\nimport {\n  addPopoverAttribute,\n  destroyTopLayer,\n} from \"./helpers/modules/toggleTopLayer.js\";\n\nclass Popover extends ToggleMixin(Base, POPOVER) {\n  static [PRIVATE_OPTION_CANCEL_ON_HIDE] = true;\n  static Default = {\n    ...DEFAULT_OPTIONS,\n    ...DEFAULT_FLOATING_OPTIONS,\n    eventPrefix: getEventsPrefix(POPOVER),\n    autofocus: true,\n    interactive: true,\n    trigger: CLICK,\n    [TOGGLER]: null,\n    [TOGGLER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    [POPOVER + CLASS_ACTIVE_SUFFIX]: CLASS_ACTIVE,\n    confirm: `[${DATA_UI_PREFIX + CONFIRM}],[${\n      DATA_UI_PREFIX + CONFIRM\n    }=\"${POPOVER}\"]`,\n    title: getDataSelector(POPOVER, ARIA_SUFFIX[ARIA_LABELLEDBY]),\n    description: getDataSelector(POPOVER, ARIA_SUFFIX[ARIA_DESCRIBEDBY]),\n    [OPTION_PREVENT_SCROLL]: AUTO,\n  };\n\n  constructor(elem, opts) {\n    super(elem, opts);\n  }\n  init() {\n    if (this.isInit) return;\n\n    const { base, opts } = this;\n\n    base.id = this.id;\n\n    this.teleport = new Teleport(base, { disableAttributes: true });\n\n    this._update();\n\n    opts[CONFIRM] && toggleConfirm(this);\n    opts[DISMISS] && addDismiss(this);\n\n    return callShowInit(this);\n  }\n  _update() {\n    const { base, opts } = this;\n    updateOptsByData(\n      opts,\n      base,\n      [TRANSITION, STATE_MODE, TRIGGER, ...TOP_LAYER_OPTIONS_NAMES],\n      TOP_LAYER_OPTIONS_NAMES,\n    );\n\n    base.toggleAttribute(INERT, !opts.interactive);\n\n    this.transition = Transition.createOrUpdate(\n      this.transition,\n      base,\n      opts.transition,\n    );\n\n    this.teleport.opts.to = opts.moveToRoot ? body : null;\n\n    this.updateToggler();\n    opts.a11y && addAriaTargets(this);\n\n    addPopoverAttribute(this);\n    toggleOnInterection(this);\n\n    addStatusClasses(this, MODAL, OPTION_TOP_LAYER, OPTION_PREVENT_SCROLL);\n  }\n  updateToggler() {\n    const { opts, id } = this;\n    const toggler = (this.toggler = getOptionElem(\n      this,\n      opts.toggler ?? getDefaultToggleSelector(id),\n    ));\n    if (!toggler) return;\n    opts.a11y && setAttribute(toggler, ARIA_CONTROLS, id);\n    return this;\n  }\n  destroy(destroyOpts) {\n    if (!this.isInit) return;\n    const { opts, toggler, base } = this;\n    this._emit(EVENT_BEFORE_DESTROY);\n    opts.a11y &&\n      removeAttribute(\n        toggler,\n        ARIA_CONTROLS,\n        ARIA_EXPANDED,\n        ARIA_LABELLEDBY,\n        ARIA_DESCRIBEDBY,\n      );\n    removeClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX]);\n    removeClass(base, opts[POPOVER + CLASS_ACTIVE_SUFFIX]);\n    togglePreventScroll(this, false);\n    destroyTopLayer(base);\n    return baseDestroy(this, destroyOpts);\n  }\n\n  async toggle(s, params) {\n    const { isOpen, isAnimating, toggler, base, opts, _emit } = this;\n    const { awaitAnimation, a11y } = opts;\n    const { animated, silent, trigger, event } =\n      normalizeToggleParameters(params);\n\n    s ??= !isOpen;\n\n    if (!s) {\n      if (opts[OPTION_PREVENT_DISMISS] && event.type === EVENT_CLOSE) {\n        animateClass(base, camelToKebab(UI_PREFIX + EVENT_DISMISS_PREVENTED));\n        _emit(EVENT_DISMISS_PREVENTED, { event });\n        toggleBackDismiss(true, this);\n        return;\n      }\n    }\n\n    if ((awaitAnimation && isAnimating) || s === isOpen) return;\n\n    this.isOpen = s;\n\n    if (opts.interactive && checkFloatings(this, s)) return;\n\n    if (isAnimating && !awaitAnimation) {\n      await this.transition.cancel();\n    }\n\n    const eventParams = { event, trigger };\n\n    !silent && _emit(s ? EVENT_BEFORE_SHOW : EVENT_BEFORE_HIDE, eventParams);\n\n    a11y && (toggler[ARIA_EXPANDED] = !!s);\n\n    const promise = floatingTransition(this, {\n      s,\n      animated,\n      silent,\n      eventParams,\n    });\n\n    toggleClass(toggler, opts[TOGGLER + CLASS_ACTIVE_SUFFIX], s);\n    toggleClass(base, opts[POPOVER + CLASS_ACTIVE_SUFFIX], s);\n\n    animated && awaitAnimation && (await promise);\n\n    return this;\n  }\n}\n\nexport default Popover;\n"],"names":["cache","kebabToCamel","str","replace","match","toUpperCase","upperFirst","slice","UI","UI_PREFIX","UI_EVENT_PREFIX","VAR_UI_PREFIX","PRIVATE_PREFIX","DATA_UI_PREFIX","ACTIVE","CLASS_ACTIVE","NAME","PX","NONE","WIDTH","HEIGHT","TOP","LEFT","RIGHT","BOTTOM","CENTER","START","END","UP","DOWN","TITLE","HORIZONTAL","TRANSITION","TELEPORT","BUTTON","CLASS","STYLE","ROLE","CONFIRM","CANCEL","BEFORE","AFTER","MOUSE","CLICK","HOVER","FOCUS","SCROLL","HIDE","HIDDEN","SHOW","SHOWN","APPEAR","TARGET","AVAILABLE","AVAILABLE_WIDTH","AVAILABLE_HEIGHT","ANCHOR","MODAL","CONTENT","BACKDROP","POPOVER","TOOLTIP","TOGGLER","TRIGGER","DROPDOWN","ARROW","PROGRESS","DISMISS","FLOATING","DIALOG","FLIP","SHRINK","STICKY","PLACEMENT","PADDING","OFFSET","BOUNDARY_OFFSET","CLIP_PATH","ARROW_OFFSET","ARROW_PADDING","ARROW_WIDTH","ARROW_HEIGHT","FALSE","doc","document","body","ROOT_ELEM","documentElement","ENTER","LEAVE","ENTER_ACTIVE","ENTER_FROM","ENTER_TO","LEAVE_ACTIVE","LEAVE_FROM","LEAVE_TO","STATE_MODE","DURATION","ACTION_INIT","ACTION_DESTROY","ACTION_TOGGLE","ACTION_SHOW","ACTION_HIDE","ACTION_REMOVE","ACTION_UPDATE","ACTION_PAUSE","ACTION_RESUME","ACTION_RESET","ACTION_ON","ACTION_OFF","ACTION_EMIT","ACTION_ONCE","INERT","AUTOFOCUS","TABINDEX","DISABLED","AUTO","FLOATING_DATA_ATTRIBUTE","POPOVER_API_MODE_MANUAL","PLACEHOLDER","EVENT_INIT","EVENT_BEFORE_INIT","EVENT_DESTROY","EVENT_BEFORE_DESTROY","EVENT_BEFORE_SHOW","EVENT_SHOW","EVENT_SHOWN","EVENT_BEFORE_HIDE","EVENT_HIDE","EVENT_HIDDEN","EVENT_PAUSE","EVENT_RESUME","EVENT_RESET","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","EVENT_MOUSEDOWN","EVENT_MOUSEOVER","EVENT_MOUSEOUT","EVENT_CHANGE","EVENT_CLOSE","EVENT_CLICK","EVENT_KEYDOWN","EVENT_FOCUS","EVENT_FOCUSIN","EVENT_FOCUSOUT","EVENT_HIDE_PREVENTED","EVENT_SCROLL","EVENT_BEFORE_MATCH","UNTIL_FOUND","MODE_HIDDEN_UNTIL_FOUND","ARIA","ARIA_CONTROLS","ARIA_EXPANDED","ARIA_SELECTED","ARIA_HIDDEN","ARIA_LABELLEDBY","ARIA_DESCRIBEDBY","ARIA_ORIENTATION","ARIA_LIVE","ARIA_ATOMIC","KEY_ENTER","KEY_SPACE","KEY_END","KEY_HOME","KEY_ARROW_LEFT","KEY_ARROW_UP","KEY_ARROW_RIGHT","KEY_ARROW_DOWN","A11Y","OPTION_GROUP","PREVENT","OPTION_PREVENT_SCROLL","OPTION_HASH_NAVIGATION","OPTION_ARIA_DESCRIBEDBY","OPTION_TOP_LAYER","OPTION_MOVE_TO_ROOT","OPTION_LIGHT_DISMISS","OPTION_BACK_DISMISS","OPTION_PREVENT_DISMISS","EVENT_DISMISS_PREVENTED","OPTION_AUTODESTROY","CLASS_ACTIVE_SUFFIX","ROLE_SUFFIX","STATUS","ALERT","REGION","HIDDEN_CLASS","SHOWN_CLASS","CLASS_SHOWN_MODE","CLASS_HIDDEN_MODE","EVENT_SUFFIX_LIGHT_DISMISS","TOP_LAYER_OPTIONS_NAMES","TOP_LAYER_OPTIONS","root","DEFAULT_OPTIONS","init","destroy","data","on","appear","eventDispatch","eventBubble","shown","a11y","stateMode","keepPlace","transition","awaitAnimation","dismiss","DEFAULT_FLOATING_OPTIONS","placement","offset","padding","delay","boundaryOffset","shrink","flip","sticky","focusTrap","arrow","SELECTOR_DISABLED","SELECTOR_INERT","SELECTOR_FOCUS_WITHIN","SELECTOR_HOVER","MIRROR","x","y","CLIP_PATH_PROPERTY","CSS","supports","POPOVER_API_SUPPORTED","HTMLElement","prototype","hasOwnProperty","FOCUSABLE_ELEMENTS_SELECTOR","PRIVATE_OPTION_CANCEL_ON_HIDE","ARIA_SUFFIX","AUTOHIDE","isArray","Array","isElement","value","getElementsByClassName","isFunction","isHTML","RegExp","test","bind","isString","isIterable","Symbol","iterator","isNumber","isObject","constructor","Object","isDialog","elem","tagName","isModal","matches","strToArray","separator","split","filter","Boolean","toggleClass","classes","s","join","cls","classList","contains","forEach","el","camelToKebab","toLowerCase","addStyle","name","key","style","setProperty","arrayFrom","from","is","selector","includes","returnArray","undefined","arrayUnique","array","length","Set","fragment","html","findSelectors","children","DOMParser","parseFromString","querySelectorAll","getElements","context","findSelf","result","querySelector","trim","window","item","flat","unshift","closest","selectors","find","t","dir","property","until","utilIsFn","elems","fn","push","isFn","i","list","map","each","focus","opts","preventScroll","getElement","inDOM","next","nextAll","parents","removeAttribute","names","removeClass","setAttribute","animateClass","className","remove","offsetWidth","add","animations","getAnimations","Promise","allSettled","finished","then","getBoundingClientRect","toJSON","getPropertyValue","supportsDir","callOrReturn","checkHash","id","location","hash","substring","createElement","type","props","content","class","entries","addClass","append","createInset","input","isRtl","top","right","bottom","left","getDataSelector","values","getOption","multiply","instance","option","params","getOptionElem","getOptionElems","min","max","Math","viewRect","visualViewport","isOverflowElement","overflow","overflowX","overflowY","display","getComputedStyle","UNFOCUSABLE_SELECTORS","isUnfocusable","mergeDeep","objects","object","normalizeToggleParameters","animated","resizeObserver","ResizeObserver","borderBoxSize","target","blockSize","inlineSize","__resizeCallback__","uuidGenerator","prefix","random","toString","updateOptsByData","dataset","booleanOptions","optionName","attributeName","JSON","parse","getEventsPrefix","getClassActive","getDefaultToggleSelector","registerProperty","valuesToArray","parseFloat","isShown","hasAttribute","getBooleanDataAttrValue","getAttribute","getDatasetValue","datasetValue","isDataObject","awaitPromise","async","promise","callback","isClickOutsideElem","clientX","clientY","rect","resetTransition","after","addStatusClasses","statuses","base","status","toggle","EventHandler","this","eventsSet","_id","getNamespaces","eventFullName","event","namespace","events","deligate","_handler","_opts","capture","e","detail","handler","once","offId","isSelector","deligateTarget","addEventListener","args","newOpts","optsPosition","getOptsObj","arguments","removeSets","sets","set","removeEventListener","delete","off","emit","dispatchEvent","CustomEvent","Breakpoints","breakpoints","_onResize","sort","a","b","mql","width","media","mq","matchMedia","checkBreakpoints","breakpoint","newBreakpoint","currentData","onUpdate","getDataValue","_data","dataName","Base","static","BASE_NODE_NAME","Default","_templates","allInstances","components","baseElemName","template","_fromTemplate","_fromHTML","_events","baseOpts","uuid","eventHandler","action","_initBreakpoints","_emit","dataValue","keepInstance","isInit","_update","eventName","eventPrefix","any","bubbles","update","instances","get","getOrCreate","initAll","updateDefault","dispatchTopLayer","Toast","toast","forceTopLayer","ToggleMixin","Map","isAnimating","initialPlaceNode","teleport","placeholder","hide","show","Transition","enabled","css","cssVariables","defaultOpts","promises","toggleVariables","offsetHeight","prop","removeProperty","toggleAnimationClasses","setClasses","styles","hasStyle","hasClass","state","collectPromises","duration","promisesEvent","promisesAnimation","resolve","promisesDuration","isNaN","setTimeout","cancel","animation","getAwaitPromise","run","isEnabled","createOrUpdate","Teleport","to","position","disableAttributes","move","toParameters","createComment","before","insertAdjacentElement","reset","replaceWith","addDismiss","_on","__dismissTriggered","preventDefault","eventParams","trigger","stack","CloseWatcher","EventTarget","isActive","oncloseHandler","super","deactivate","close","defaultView","Event","index","indexOf","splice","onclose","toggleBackDismiss","_off","_closeWatcher","isTrusted","keyCode","closeWatcher","at","defaultPrevented","callAutofocus","autofocus","focusElem","activeElement","baseDestroy","keepState","stateElem","destroyInstance","toggleInitClass","PREFIX","toggleOnInterection","toggler","mode","triggerClick","triggerHover","triggerFocus","hoverTimer","pointerType","isMouseDown","isOpen","floating","floatings","size","clearTimeout","requestAnimationFrame","isFocus","entered","d","FOCUS_GUARD","FocusGuards","onFocus","returnElem","anchor","focusFirst","isGuardBefore","focusAfterAnchor","globalReturnElems","findIndex","onFocusOut","relatedTarget","focusGuards","methodName","focusGuard","destroyTopLayer","popover","hidePopover","addPopoverAttribute","topLayer","toggleTopLayer","targetIsDialog","targetIsModal","targetIsPopover","open","showModal","showPopover","syntax","inherits","head","appendChild","ResetFloatingCssVariables","OPTIONS","CURRENT_PLACEMENT_ATTRIBUTE","TRANSFORM_ORIGIN","CSS_VARIABLES","Floating","assign","FLOATING_PREFIX","anchorScrollParents","anchorStyles","targetStyles","options","variableName","border","fromEntries","side","v","moveToRoot","usePopoverApi","inTopLayer","useFocusGuards","shiftKey","arrowOffset","arrowPadding","arrowWidth","arrowHeight","polygonValues","valueEnd","targetComputedStyle","computedValues","collectCssVariables","anchorRect","targetRect","arrowData","minHeight","minWidth","prevTop","updatePosition","offsetLeft","offsetTop","height","baseM","baseS","hor","dirS","minRect","useFlipM","useFlipS","hasScale","scale","abs","innerWidth","calculate","m","isStart","isEnd","isCenter","isMainDir","sumPadding","mirrorSize","mirrorDirS","anchorSpace","pageOffset","sumBoundaryOffsetS","availableSizesOffset","availableSizes","currentSize","targetOffset","mo","so","staticSo","shift","transformOrigin","arrowPosition","getPosition","scrollY","scrollX","observe","box","observeResize","passive","parentFloating","unobserve","toggleStateMode","subInstance","_floatingParent","parent","parentElement","toggleAttribute","floatingTransition","silent","togglePreventScroll","addFrameState","toggleLightDismiss","callShowInit","hashNavigation","__initial","toggleConfirm","addHashNavigation","DEFAULT_PREFIX","updateModule","defaults","defaultValue","FLOATING_IS_INTERACTED","checkFloatings","childFloating","PROPERTY_ROOT_SCROLLBAR_WIDTH","PREVENT_SCROLL_CLASS","checkPreventScroll","preventScrollOption","clientWidth","updateBodyScrollbarWidth","contentElem","main","KEY","contextMenuClick","_mousedownEvent","_isOpening","isBaseModal","isClickOutside","backdrop","isBackdropClick","isTargetNotInside","modal","addLightDismiss","addAriaTargets","suffix","_isClosing","COLLAPSE","Collapse","updateTriggers","destroyOpts","togglers","otherTogglers","flatMap","replaceWord","word","w","concat","DIRECTIONS","Dropdown","itemClickHide","arrowActivation","items","_onKeydown","focusableElems","updateToggler","dropdown","isControl","textContent","startsWith","lastIndex","currentIndex","nextIndex","prevIndex","prevCode","horizontal","nextCode","stopPropagation","click","Autoaction","progress","safeArea","durationUpdate","pauseOnMouseEnter","resetOnMouseEnter","pauseOnFocusEnter","resetOnFocusEnter","visibilityControl","cssVariable","progressElem","safeAreaElem","hidden","toggleInterections","resume","pause","actionsElem","interactedMouse","interactedFocus","checkTime","paused","_prevProgress","current","performance","now","timeCurrent","round","timeBegin","time","toFixed","autoaction","Dialog","awaitPrevious","hidePrevious","returnFocus","preventHide","confirm","title","description","group","autohide","_togglers","optReturnFocusAwait","await","groupClosingFinish","groupClosing","backdropIsOpen","openGroupDialogs","groupDialogs","_toggleClasses","returnFocusElem","TABLIST","TAB","TABS","TABPANEL","ACCORDION","OPTION_TAB_ROLE","OPTION_TABPANEL_ROLE","OPTION_TABPANEL_TABINDEX","OPTION_STATE_ATTRIBUTE","OPTION_ALWAYS_EXPANDED","OPTION_MULTI_EXPAND","ACTION_INIT_TAB","TABLIST_SECONDARY_METHODS","DEFAULT_ACCORDION_OPTIONS","A11Y_DEFAULTS","Tablist","siblings","keyboard","rtl","focusFilter","tabs","lastShownTab","tabWithState","tabObj","tab","tabpanel","isOpenTabpanel","nodeName","some","val","hasSelected","tabInstance","initTabs","_updateTabIndex","tablist","getTab","initTab","shownTabs","tabpanelId","getElementById","_onTabFocus","_onTabKeydown","cleanStyles","source","without","toggleDisabled","disabled","isDisabled","firstActiveTabIndex","isTab","currentTarget","currentTabIndex","firstIndex","lastActiveTabIndex","_switchTab","activeIndex","findLast","animatedOrShownTabs","TOAST","positions","wrappers","_containers","container","limit","limitAnimateEnter","limitAnimateLeave","keepTopLayer","preventAnimation","nots","console","log","wrapper","getContainer","rootWrappers","containerParams","addPosition","p","Tooltip","interactive","removeTitle","tooltipClass","_cache","tooltip","Popover"],"mappings":"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"}